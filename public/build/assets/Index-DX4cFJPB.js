import{r as f,j as e,$ as te,m as c}from"./app-BytpB0TX.js";import{A as ae}from"./AuthenticatedLayout-Br1RgKPG.js";import{C as v,c as y,a as re,b as le}from"./card-DvBlHsWB.js";import{I as ie}from"./input-b_mCR-wU.js";import{B as m}from"./button-CtZjCLMA.js";import{T as oe,a as ne,b as T,c as h,d as de,e as x}from"./table-D-Ei3trk.js";import{S as A,a as P,b as B,c as D,d as i}from"./select-BzAtUc1W.js";import{B as R}from"./badge-Df2sRIfB.js";import{P as ce}from"./Pagination-DnvPu3ZN.js";import{S as N}from"./stethoscope-CCt4NXon.js";import{T as w}from"./trash-2-DD_Y3zI6.js";import{D as me}from"./download-k8Hl5DUf.js";import{C as L}from"./circle-plus-DXTQ1D8M.js";import{C as xe}from"./circle-check-big-CeOvxPJm.js";import{T as he}from"./timer-DZRaIWJ7.js";import{D as $}from"./dollar-sign-CmdQIFbL.js";import{F as O}from"./file-text-w_JrWozr.js";import{S as ue}from"./search-E-cd1BNC.js";import{C as pe}from"./circle-x-CRU1fK1E.js";import{U as ge}from"./user-DeoVP0od.js";import{A as be}from"./activity-CKRxlT-Y.js";import{C as je}from"./calendar-P5cjB2ud.js";import{S as fe}from"./settings-DAD4qyVP.js";import{C as ve}from"./clock-CUTjCDfl.js";import{E as ye}from"./eye-gW-JjSSa.js";import{P as Ne}from"./pencil-BCrgSZyP.js";import{f as we}from"./format-CYZdy3_o.js";import"./ImageHelper-C4-MHkIR.js";import"./index-Bce1V77q.js";import"./layout-dashboard-ByTGW_ks.js";import"./createLucideIcon-C9b6KVSr.js";import"./users-aYUpDrTW.js";import"./scissors-C29IvCgD.js";import"./chevron-right-oO7w1t3Q.js";import"./shield-D89UShmd.js";import"./trending-up-CRC8Tg-S.js";import"./circle-alert-BxqCbx5A.js";import"./loader-circle-CkDTXvo7.js";import"./SiteHeader-DkRsR5Bc.js";import"./index-nt-_yeOj.js";import"./x-DJBYx-Hm.js";import"./crown-CVYMErPk.js";import"./zap-BIRerbYh.js";import"./info-BnjbGvLN.js";import"./building-2-JMpJ8PR2.js";import"./triangle-alert-D2inJjwx.js";import"./index-DF-QO9u9.js";import"./index-C45Zy3CK.js";import"./index-Bj6BLWTC.js";function fs({auth:a,treatments:r,services:q,filters:u}){var M,U,V;const[_,F]=f.useState(u.search||""),[o,p]=f.useState([]),[E,g]=f.useState(!1),[n,G]=f.useState(!1),[l,C]=f.useState({service_id:u.service_id||"all",status:u.status||"all",payment_status:u.payment_status||"all",sort_by:u.sort_by||"created_at",sort_direction:u.sort_direction||"desc"}),X=()=>{n&&(p([]),g(!1)),G(!n)},I=s=>{c.reload({data:{search:s},only:["treatments","filters"],preserveState:!0,replace:!0})},J=s=>{const t=s.target.value;F(t),I(t)},K=s=>{s.preventDefault(),I(_)},k=(s,t)=>{const d={...l,[s]:t};C(d),c.reload({data:d,only:["treatments","filters"],preserveState:!0,replace:!0})},b=s=>{let t="asc";l.sort_by===s&&l.sort_direction==="asc"&&(t="desc");const d={...l,sort_by:s,sort_direction:t};C(d),c.reload({data:d,only:["treatments","filters"],preserveState:!0,replace:!0})},j=s=>l.sort_by===s?l.sort_direction==="asc"?" ↑":" ↓":"",Q=()=>{F(""),C({service_id:"all",status:"all",payment_status:"all",sort_by:"created_at",sort_direction:"desc"}),c.reload({data:{search:"",service_id:"all",status:"all",payment_status:"all",sort_by:"created_at",sort_direction:"desc"},only:["treatments","filters"],preserveState:!0,replace:!0})},W=()=>{E?(p([]),g(!1)):(p(r.data.map(s=>s.id)),g(!0))},Y=s=>{o.includes(s)?(p(o.filter(t=>t!==s)),g(!1)):(p([...o,s]),o.length+1===r.data.length&&g(!0))},Z=(s,t)=>{confirm(`Are you sure you want to delete treatment "${t}"? This action cannot be undone.`)&&c.delete(route("clinic.treatments.destroy",{clinic:a.clinic_id,treatment:s}),{onSuccess:()=>{},onError:d=>{console.error("Delete failed:",d),alert("Failed to delete treatment. Please try again.")}})},ee=()=>{if(o.length===0){alert("Please select treatments to delete");return}confirm(`Are you sure you want to delete ${o.length} treatment(s)? This action cannot be undone.`)&&c.delete(route("clinic.treatments.bulk-destroy",{clinic:a.clinic_id}),{data:{treatment_ids:o},onSuccess:()=>{p([]),g(!1)},onError:s=>{console.error("Bulk delete failed:",s),alert("Failed to delete treatments. Please try again.")}})},se=()=>{const t=route("clinic.treatments.export",{clinic:a.clinic_id,format:"excel"}).replace("http://localhost","http://127.0.0.1:8000");window.open(t,"_blank")};return e.jsxs(ae,{auth:a,children:[e.jsx(te,{title:"Treatment Management"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-150 to-cyan-100 rounded-t-lg mx-0 pt-4 shadow-2xl border border-blue-200/50 border-t border-t-blue-200",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 mx-5 mb-5 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white/5 rounded-full translate-y-10 -translate-x-10"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-white/3 rounded-full -translate-y-8 -translate-x-8"}),e.jsx("div",{className:"relative px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/25 rounded-2xl backdrop-blur-sm border border-white/40 shadow-lg",children:e.jsx(N,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Treatment Management"}),e.jsxs("p",{className:"text-blue-100 text-sm font-medium",children:["Manage and track patient treatments",a.user.role==="clinic_admin"&&n&&e.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 bg-orange-500/20 text-orange-200 px-2 py-1 rounded-full text-xs font-medium",children:[e.jsx(w,{className:"h-3 w-3"}),"Bulk Mode Active"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(m,{onClick:se,variant:"outline",className:"gap-2 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm px-4 py-2 rounded-lg transition-all duration-300",children:[e.jsx(me,{className:"h-4 w-4"}),"Export All"]}),a.user.role==="clinic_admin"&&e.jsxs(m,{variant:"outline",onClick:X,className:`gap-2 text-sm px-4 py-2 rounded-xl transition-all duration-300 border backdrop-blur-sm ${n?"bg-orange-50 border-orange-300 text-orange-700 hover:bg-orange-100":"bg-white/20 border-white/30 text-white hover:bg-white/30"}`,children:[e.jsx(w,{className:"h-4 w-4"}),n?"Hide Bulk Actions":"Show Bulk Actions"]}),e.jsxs(m,{onClick:()=>c.visit(`/clinic/${a.clinic_id}/treatments/create`),className:"gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-sm px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-500/20 backdrop-blur-sm",children:[e.jsx(L,{className:"h-4 w-4"}),"Add Treatment"]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt-0 pb-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsxs(v,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-blue-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(y,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(N,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Total Treatments"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.total||0}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"All time records"})]})]})]})})]}),e.jsxs(v,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-green-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-green-500 to-green-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(y,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(xe,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:((M=r.data)==null?void 0:M.filter(s=>s.status==="completed").length)||0}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Successfully treated"})]})]})]})})]}),e.jsxs(v,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-yellow-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(y,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-yellow-500 via-yellow-600 to-amber-600 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(he,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:((U=r.data)==null?void 0:U.filter(s=>s.status==="in_progress").length)||0}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Currently active"})]})]})]})})]}),e.jsxs(v,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-purple-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-purple-400 to-purple-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(y,{className:"p-6 relative",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-500 via-purple-600 to-violet-600 rounded-2xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx($,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:["₱",((V=r.data)==null?void 0:V.reduce((s,t)=>s+(parseFloat(t.cost)||0),0).toLocaleString())||0]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Total earnings"})]})]})]})})]})]}),e.jsxs(v,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsx(re,{className:"bg-gradient-to-r from-gray-50 via-blue-50/30 to-indigo-50/20 border-b border-gray-200/50",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx(le,{className:"text-xl font-bold text-gray-900",children:"Treatment Records"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage and view all treatment information"})]})]}),e.jsx("div",{className:"flex items-center gap-4 justify-center",children:e.jsx("form",{onSubmit:K,className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ie,{type:"text",placeholder:"Search treatments...",value:_,onChange:J,className:"pl-10 pr-4 h-12 rounded-xl border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),e.jsxs(A,{value:l.service_id,onValueChange:s=>k("service_id",s),children:[e.jsx(P,{className:"h-12 rounded-xl border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(B,{placeholder:"All Services"})}),e.jsxs(D,{children:[e.jsx(i,{value:"all",children:"All Services"}),q.map(s=>e.jsx(i,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(A,{value:l.status,onValueChange:s=>k("status",s),children:[e.jsx(P,{className:"h-12 rounded-xl border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(B,{placeholder:"All Statuses"})}),e.jsxs(D,{children:[e.jsx(i,{value:"all",children:"All Status"}),e.jsx(i,{value:"scheduled",children:"Scheduled"}),e.jsx(i,{value:"in_progress",children:"In Progress"}),e.jsx(i,{value:"completed",children:"Completed"}),e.jsx(i,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(A,{value:l.payment_status,onValueChange:s=>k("payment_status",s),children:[e.jsx(P,{className:"h-12 rounded-xl border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(B,{placeholder:"All Payment Statuses"})}),e.jsxs(D,{children:[e.jsx(i,{value:"all",children:"All Payment Statuses"}),e.jsx(i,{value:"pending",children:"Pending"}),e.jsx(i,{value:"partial",children:"Partial"}),e.jsx(i,{value:"completed",children:"Completed"})]})]}),e.jsxs(m,{onClick:Q,variant:"outline",className:"h-12 gap-2 text-sm px-4 rounded-xl border-gray-300 hover:bg-gray-50",children:[e.jsx(pe,{className:"h-4 w-4"}),"Clear All"]})]})})})]})}),e.jsxs(y,{className:"p-0",children:[n&&o.length>0&&e.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(w,{className:"h-4 w-4 text-orange-600"})}),e.jsxs("span",{className:"text-sm font-medium text-orange-800",children:[o.length," ","treatment(s) selected"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(m,{onClick:ee,variant:"destructive",size:"sm",className:"gap-2 text-xs px-3 py-1",children:[e.jsx(w,{className:"h-3 w-3"}),"Delete Selected"]})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(oe,{children:[e.jsx(ne,{children:e.jsxs(T,{className:"bg-gradient-to-r from-gray-50 via-blue-50/30 to-indigo-50/20 border-b border-gray-200/70",children:[n&&e.jsx(h,{className:"w-12",children:e.jsx("input",{type:"checkbox",checked:E,onChange:W,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx(h,{className:"cursor-pointer hover:bg-blue-100/50 transition-colors text-gray-700 font-semibold",onClick:()=>b("patient_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-blue-600"}),"Patient",j("patient_id")]})}),e.jsx(h,{className:"cursor-pointer hover:bg-green-100/50 transition-colors text-gray-700 font-semibold",onClick:()=>b("service_id"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-600"}),"Service",j("service_id")]})}),e.jsx(h,{className:"cursor-pointer hover:bg-purple-100/50 transition-colors text-gray-700 font-semibold",onClick:()=>b("status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4 text-blue-600"}),"Status",j("status")]})}),e.jsx(h,{className:"cursor-pointer hover:bg-orange-100/50 transition-colors text-gray-700 font-semibold",onClick:()=>b("payment_status"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4 text-blue-600"}),"Payment",j("payment_status")]})}),e.jsx(h,{className:"cursor-pointer hover:bg-emerald-100/50 transition-colors text-gray-700 font-semibold",onClick:()=>b("cost"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4 text-blue-600"}),"Cost",j("cost")]})}),e.jsx(h,{className:"cursor-pointer hover:bg-cyan-100/50 transition-colors text-gray-700 font-semibold",onClick:()=>b("start_date"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4 text-blue-600"}),"Date",j("start_date")]})}),e.jsx(h,{className:"text-right text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4 text-blue-600"}),"Actions"]})})]})}),e.jsx(de,{children:r.data.length===0?e.jsx(T,{children:e.jsx(x,{colSpan:n?8:7,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:e.jsx(N,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No treatments found"}),e.jsx("p",{className:"text-gray-500",children:_||Object.values(l).some(s=>s!=="all")?"Try adjusting your search or filters":"Get started by creating your first treatment"})]}),!_&&Object.values(l).every(s=>s==="all")&&e.jsxs(m,{onClick:()=>c.visit(`/clinic/${a.clinic_id}/treatments/create`),className:"gap-2 mt-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Create Treatment"]})]})})}):r.data.map(s=>{var t,d,z,H;return e.jsxs(T,{className:"hover:bg-gradient-to-r hover:from-blue-50/60 hover:via-indigo-50/40 hover:to-cyan-50/60 transition-all duration-300 border-b border-gray-100/50 hover:border-blue-200/50",children:[n&&e.jsx(x,{children:e.jsx("input",{type:"checkbox",checked:o.includes(s.id),onChange:()=>Y(s.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx(x,{className:`py-4 ${n?"px-2":"px-4"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md hover:shadow-lg transition-all duration-300 group-hover:scale-105",children:(t=s.patient)!=null&&t.full_name?s.patient.full_name.split(" ").slice(0,3).map(S=>S.charAt(0)).join("").toUpperCase():"T"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-bold text-gray-900 text-base leading-tight",children:((d=s.patient)==null?void 0:d.full_name)||"Unnamed Patient"}),e.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[e.jsxs("span",{className:"text-xs text-gray-600 bg-gray-100 px-1.5 py-0.5 rounded font-medium",children:["ID:"," ",s.id]}),((z=s.patient)==null?void 0:z.email)&&e.jsx("span",{className:"text-xs text-blue-700 bg-blue-50 px-1.5 py-0.5 rounded font-medium",children:s.patient.email})]})]})]})}),e.jsx(x,{className:"px-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:((H=s.service)==null?void 0:H.name)||e.jsx("span",{className:"text-gray-400 italic font-normal",children:"No service"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:s.diagnosis||e.jsx("span",{className:"text-gray-400 italic font-normal",children:"No diagnosis"})})]})]})}),e.jsx(x,{className:"px-4 py-4",children:e.jsx(R,{variant:s.status==="completed"?"default":s.status==="in_progress"?"secondary":"outline",className:`text-xs font-semibold px-1.5 py-0.5 ${s.status==="completed"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border-green-300":s.status==="in_progress"?"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700 border-blue-300":s.status==="scheduled"?"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-700 border-yellow-300":"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-700 border-gray-300"}`,children:s.status==="completed"?"Completed":s.status==="in_progress"?"In Progress":s.status==="scheduled"?"Scheduled":"Cancelled"})}),e.jsx(x,{className:"px-4 py-4",children:e.jsx(R,{className:`text-xs font-semibold px-1.5 py-0.5 ${s.payment_status==="completed"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border-green-300":s.payment_status==="partial"?"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-700 border-yellow-300":"bg-gradient-to-r from-red-100 to-pink-100 text-red-700 border-red-300"}`,children:s.payment_status==="completed"?"Paid":s.payment_status==="partial"?"Partial":"Pending"})}),e.jsx(x,{className:"px-4 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsxs("span",{className:"text-emerald-700 bg-emerald-50 px-1.5 py-0.5 rounded text-xs border border-emerald-200 font-bold",children:["₱",parseFloat(s.cost||0).toLocaleString()]})})}),e.jsx(x,{className:"px-4 py-4",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.start_date?e.jsx("span",{className:"text-cyan-700 bg-cyan-50 px-1.5 py-0.5 rounded text-xs border border-cyan-200",children:we(new Date(s.start_date),"MMM dd, yyyy")}):e.jsx("span",{className:"text-gray-400 italic font-normal bg-gray-50 px-1.5 py-0.5 rounded text-xs border border-gray-200",children:"No date"}),s.estimated_duration_minutes&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(ve,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.estimated_duration_minutes," ","min"]})]})]})}),e.jsx(x,{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:()=>c.visit(`/clinic/${a.clinic_id}/treatments/${s.id}`),className:"h-8 w-8 p-0 bg-blue-50 border-blue-200 text-blue-600 hover:bg-blue-100 hover:border-blue-300 transition-all duration-200",title:"View Treatment Details",children:e.jsx(ye,{className:"h-3 w-3"})}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>c.visit(`/clinic/${a.clinic_id}/treatments/${s.id}/edit`),className:"h-8 w-8 p-0 bg-emerald-50 border-emerald-200 text-emerald-600 hover:bg-emerald-100 hover:border-emerald-300 transition-all duration-200",title:"Edit Treatment",children:e.jsx(Ne,{className:"h-3 w-3"})}),a.user.role==="clinic_admin"&&e.jsx(m,{variant:"outline",size:"sm",onClick:()=>{var S;return Z(s.id,((S=s.patient)==null?void 0:S.full_name)||"Treatment")},className:"h-8 w-8 p-0 bg-red-50 border-red-200 text-red-600 hover:bg-red-100 hover:border-red-300 transition-all duration-200",title:"Delete Treatment",children:e.jsx(w,{className:"h-3 w-3"})})]})})]},s.id)})})]})}),r.data.length>0&&r.links&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50/50",children:e.jsx(ce,{links:r.links})})]})]})]})]})]})}export{fs as default};
