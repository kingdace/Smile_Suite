import{r as c,j as e}from"./app-0NEBy9BJ.js";import{B as m}from"./button-HTjkDkdd.js";import{X as f}from"./x-BmcQdfAq.js";import{T as x}from"./triangle-alert-CrRGYxRV.js";import{C as h}from"./calendar-BySnFgk6.js";import{C as j}from"./clock-CbwVHyBM.js";import{U as N}from"./user-DGn9BjnL.js";import{F as y}from"./file-text-D0kUTKvl.js";import"./index-D_vL4xTc.js";import"./createLucideIcon-CXdhGpw2.js";function F({showModal:g,onClose:b,appointment:s,onConfirm:p,loading:r=!1}){var o;const[t,i]=c.useState(""),[n,a]=c.useState("");if(!g||!s)return null;const u=l=>{if(l.preventDefault(),a(""),!t.trim()){a("Please provide a reason for cancellation.");return}p(t)},d=()=>{i(""),a(""),b()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-6 max-w-2xl w-[95vw] sm:w-full relative mx-2 sm:mx-4 max-h-[85vh] overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:[e.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 rounded-full p-2 hover:bg-gray-100",onClick:d,"aria-label":"Close cancellation modal",children:e.jsx(f,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(x,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Cancel Appointment"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Are you sure you want to cancel this appointment?"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Appointment Details"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Current appointment information"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(h,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Date"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.scheduled_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(j,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Time"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Clinic"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:((o=s.clinic)==null?void 0:o.name)||"Clinic"})]}),s.reason&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(y,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Reason"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:s.reason})]})]})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Cancellation *"}),e.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200",value:t,onChange:l=>i(l.target.value),rows:3,placeholder:"Please provide a reason for cancelling this appointment...",required:!0}),n&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:n})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(x,{className:"w-4 h-4 text-red-600"})}),e.jsx("h4",{className:"font-medium text-red-900",children:"Important Notice"})]}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• This action cannot be undone"}),e.jsx("li",{children:"• You will need to book a new appointment"}),e.jsx("li",{children:"• Cancellation policies may apply"}),e.jsx("li",{children:"• The clinic will be notified of this cancellation"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(m,{type:"button",variant:"outline",onClick:d,disabled:r,className:"px-6 py-2",children:"Keep Appointment"}),e.jsx(m,{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Cancelling..."]}):"Cancel Appointment"})]})]})]})})}export{F as default};
