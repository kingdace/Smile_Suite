import{r as m,j as e,$ as K,Y as L}from"./app-C8kdbIfg.js";import{A as I}from"./AuthenticatedLayout-Cx6WDh0A.js";import{C as o,c as l,a as n,b as d}from"./card-m9OyGp2W.js";import{B as M}from"./button-CtBDG8qG.js";import{B as w}from"./badge-CO41UzeS.js";import"./progress-Ba56s1HA.js";import{b as U,c as z,E as W,R as x,C as f,X as b,Y as v,T as h,a as Y}from"./ExportButton-RJcHpIAl.js";import{R as _}from"./refresh-cw-y9g6Eh4q.js";import{D as C}from"./dollar-sign-CFER_2Rp.js";import{U as k}from"./users-BvixR2vM.js";import{C as S}from"./calendar-TWGUMU6x.js";import{S as E}from"./stethoscope-C-0Z68Vf.js";import{T as X}from"./trending-up-DCRNnnkh.js";import{T as H}from"./trending-down-13ktVD_o.js";import{A as J,a as q}from"./AreaChart-DGWZ1htL.js";import{P as Q,a as V}from"./PieChart-C0KIhKGG.js";import{a as c,B as Z}from"./BarChart-DuS7LRFt.js";import{L as ee}from"./Line-Df14YmHC.js";import{S as te}from"./star-BTzzbtmd.js";import{P as se}from"./scissors-CttdPSXS.js";import{A as ae}from"./arrow-right-5j2-RHta.js";import{T as re}from"./triangle-alert-CJUA_boL.js";import{C as oe}from"./circle-x-Bdkhn-X7.js";import{C as le}from"./clock-BXHeeKiP.js";import{C as ne}from"./circle-check-big-DnVHWdap.js";import"./index-Cs505U2P.js";import"./layout-dashboard-DoCe2Bsw.js";import"./createLucideIcon-DmdO-xBx.js";import"./chevron-right-Dgi3VfDJ.js";import"./shield-CLuEZxxw.js";import"./circle-alert-C34v1n4l.js";import"./loader-circle-jGSMuC9r.js";import"./SiteHeader-CK-PGA_T.js";import"./index-DHbohzxi.js";import"./user-Bvu1xyV6.js";import"./x-D7X-cAQx.js";import"./crown-BWorveNA.js";import"./zap-D7xPC3Ww.js";import"./info-CzTE822e.js";import"./building-2-C1oEGBDy.js";import"./file-text-DoyO5FpF.js";import"./utcTime-Bp1e7X_j.js";import"./dropdown-menu-CzncCTek.js";import"./index-CvHObFKz.js";import"./index-DQsPmgb4.js";import"./circle-D0EEV1vX.js";import"./download-Blox7fCr.js";import"./ActivePoints-C-28U8SS.js";import"./ErrorBarContext-B71WZfmw.js";var de=["axis"],ie=m.forwardRef((p,r)=>m.createElement(U,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:de,tooltipPayloadSearcher:z,categoricalChartProps:p,ref:r}));function it({auth:p,clinic:r,metrics:a,monthlyRevenue:B,paymentMethods:N,topPatients:ce,recentActivity:u,treatmentCategories:me,filters:F}){const[y,R]=m.useState(!1),[xe,he]=m.useState("overview");m.useEffect(()=>{R(!0)},[]);const g=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t||0),j=t=>new Intl.NumberFormat("en-US").format(t||0),T=t=>{switch(t==null?void 0:t.toLowerCase()){case"completed":case"confirmed":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"pending":case"scheduled":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":case"failed":return"bg-red-100 text-red-700 border-red-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},A=t=>{switch(t==null?void 0:t.toLowerCase()){case"completed":case"confirmed":return ne;case"pending":case"scheduled":return le;case"cancelled":case"failed":return oe;default:return re}},i=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1","#F43F5E","#22C55E","#EAB308","#A855F7","#14B8A6"],O=[{month:"Jan",new:45,returning:120,total:165},{month:"Feb",new:52,returning:135,total:187},{month:"Mar",new:48,returning:142,total:190},{month:"Apr",new:61,returning:158,total:219},{month:"May",new:55,returning:165,total:220},{month:"Jun",new:67,returning:178,total:245}],$=[{day:"Mon",scheduled:12,completed:10,cancelled:2},{day:"Tue",scheduled:15,completed:14,cancelled:1},{day:"Wed",scheduled:18,completed:16,cancelled:2},{day:"Thu",scheduled:14,completed:13,cancelled:1},{day:"Fri",scheduled:16,completed:15,cancelled:1},{day:"Sat",scheduled:8,completed:7,cancelled:1},{day:"Sun",scheduled:3,completed:3,cancelled:0}],D=[{treatment:"Cleaning",count:45,revenue:22500,satisfaction:4.8},{treatment:"Filling",count:32,revenue:48e3,satisfaction:4.6},{treatment:"Extraction",count:18,revenue:27e3,satisfaction:4.4},{treatment:"Root Canal",count:12,revenue:72e3,satisfaction:4.7},{treatment:"Crown",count:8,revenue:64e3,satisfaction:4.9}],G=[{category:"Dental Supplies",inStock:85,lowStock:12,outOfStock:3},{category:"Medications",inStock:92,lowStock:6,outOfStock:2},{category:"Equipment",inStock:78,lowStock:15,outOfStock:7},{category:"Consumables",inStock:88,lowStock:10,outOfStock:2}];return e.jsxs(I,{auth:p,children:[e.jsx(K,{title:"Analytics Dashboard"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-6 py-6",children:[e.jsx("div",{className:`mb-8 transition-all duration-700 ${y?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-slate-700 via-blue-600 to-slate-800 bg-clip-text text-transparent mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-slate-600",children:"Comprehensive insights and performance metrics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{exportRoute:`/clinic/${r.id}/reports/export/analytics`,filters:F,clinic:r,className:"border-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50"}),e.jsxs(M,{size:"sm",onClick:()=>window.location.reload(),className:"gap-2 bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(_,{className:"w-4 h-4"}),"Refresh"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:"Total Revenue",value:g((a==null?void 0:a.total_revenue)||0),change:"+12.5%",trend:"up",icon:C,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Active Patients",value:j((a==null?void 0:a.active_patients)||0),change:"+8.2%",trend:"up",icon:k,color:"bg-emerald-500",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},{title:"Appointments",value:j((a==null?void 0:a.total_appointments)||0),change:"+15.3%",trend:"up",icon:S,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-700"},{title:"Treatments",value:j((a==null?void 0:a.total_treatments)||0),change:"+6.7%",trend:"up",icon:E,color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-700"}].map((t,s)=>e.jsx(o,{className:`border-0 shadow-sm hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 ${y?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{animationDelay:`${s*100}ms`},children:e.jsxs(l,{className:"p-6 relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 opacity-5 ${t.color.replace("bg-","bg-gradient-to-br from-")} to-transparent`}),e.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-lg ${t.bgColor} ${t.color}`,children:e.jsx(t.icon,{className:`w-6 h-6 ${t.textColor}`})}),e.jsxs("div",{className:"flex items-center gap-1",children:[t.trend==="up"?e.jsx(X,{className:"w-4 h-4 text-emerald-500"}):e.jsx(H,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.trend==="up"?"text-emerald-600":"text-red-600"}`,children:t.change})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-1 relative z-10",children:t.value}),e.jsx("p",{className:"text-sm text-slate-600 relative z-10",children:t.title})]})},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(o,{className:"border-0 shadow-sm h-full hover:shadow-lg transition-all duration-300",children:[e.jsx(n,{className:"pb-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Revenue Trends"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Monthly revenue performance"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(w,{variant:"outline",className:"text-xs",children:"Last 6 months"})})]})}),e.jsx(l,{children:e.jsx("div",{className:"h-80",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(J,{data:B,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.9}),e.jsx("stop",{offset:"50%",stopColor:"#8B5CF6",stopOpacity:.6}),e.jsx("stop",{offset:"95%",stopColor:"#EC4899",stopOpacity:.1})]})}),e.jsx(f,{strokeDasharray:"3 3",stroke:"#E2E8F0"}),e.jsx(b,{dataKey:"month",stroke:"#64748B"}),e.jsx(v,{stroke:"#64748B"}),e.jsx(h,{contentStyle:{backgroundColor:"white",border:"1px solid #E2E8F0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:t=>[g(t),"Revenue"]}),e.jsx(q,{type:"monotone",dataKey:"revenue",stroke:"url(#revenueGradient)",strokeWidth:3,fill:"url(#revenueGradient)"})]})})})})]})}),e.jsx("div",{children:e.jsxs(o,{className:"border-0 shadow-sm h-full hover:shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Payment Methods"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Distribution by type"})]}),e.jsx(l,{children:e.jsx("div",{className:"h-80",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(Q,{children:[e.jsx(V,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:s})=>`${t} ${(s*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total",children:N.map((t,s)=>e.jsx(Y,{fill:i[s%i.length]},`cell-${s}`))}),e.jsx(h,{contentStyle:{backgroundColor:"white",border:"1px solid #E2E8F0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(o,{className:"border-0 shadow-sm hover:shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Patient Growth"}),e.jsx("p",{className:"text-sm text-slate-600",children:"New vs returning patients"})]}),e.jsx(l,{children:e.jsx("div",{className:"h-64",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(ie,{data:O,children:[e.jsx(f,{strokeDasharray:"3 3",stroke:"#E2E8F0"}),e.jsx(b,{dataKey:"month",stroke:"#64748B"}),e.jsx(v,{stroke:"#64748B"}),e.jsx(h,{contentStyle:{backgroundColor:"white",border:"1px solid #E2E8F0",borderRadius:"8px"}}),e.jsx(c,{dataKey:"new",fill:"#3B82F6",radius:[4,4,0,0]}),e.jsx(c,{dataKey:"returning",fill:"#10B981",radius:[4,4,0,0]}),e.jsx(ee,{type:"monotone",dataKey:"total",stroke:"#8B5CF6",strokeWidth:2})]})})})})]}),e.jsxs(o,{className:"border-0 shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-orange-50 to-amber-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Weekly Appointments"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Scheduled vs completed"})]}),e.jsx(l,{children:e.jsx("div",{className:"h-64",children:e.jsx(x,{width:"100%",height:"100%",children:e.jsxs(Z,{data:$,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"scheduledGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.9}),e.jsx("stop",{offset:"95%",stopColor:"#1D4ED8",stopOpacity:.7})]}),e.jsxs("linearGradient",{id:"completedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.9}),e.jsx("stop",{offset:"95%",stopColor:"#059669",stopOpacity:.7})]}),e.jsxs("linearGradient",{id:"cancelledGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.9}),e.jsx("stop",{offset:"95%",stopColor:"#DC2626",stopOpacity:.7})]})]}),e.jsx(f,{strokeDasharray:"3 3",stroke:"#E2E8F0"}),e.jsx(b,{dataKey:"day",stroke:"#64748B"}),e.jsx(v,{stroke:"#64748B"}),e.jsx(h,{contentStyle:{backgroundColor:"white",border:"1px solid #E2E8F0",borderRadius:"8px"}}),e.jsx(c,{dataKey:"scheduled",fill:"url(#scheduledGradient)",radius:[6,6,0,0]}),e.jsx(c,{dataKey:"completed",fill:"url(#completedGradient)",radius:[6,6,0,0]}),e.jsx(c,{dataKey:"cancelled",fill:"url(#cancelledGradient)",radius:[6,6,0,0]})]})})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(o,{className:"border-0 shadow-sm hover:shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-cyan-50 to-blue-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Treatment Performance"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Revenue and satisfaction by treatment"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:D.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl border border-slate-200 hover:border-slate-300 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full shadow-sm",style:{background:`linear-gradient(135deg, ${i[s%i.length]}, ${i[(s+1)%i.length]})`}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-800",children:t.treatment}),e.jsxs("p",{className:"text-sm text-slate-600",children:[t.count," ","procedures"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-slate-800",children:g(t.revenue)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3 text-amber-500 fill-current"}),e.jsx("span",{className:"text-sm text-slate-600",children:t.satisfaction})]})]})]},s))})})]}),e.jsxs(o,{className:"border-0 shadow-sm hover:shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-lime-50 to-green-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Inventory Status"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Stock levels by category"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:G.map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-800",children:t.category}),e.jsxs("span",{className:"text-sm text-slate-600",children:[t.inStock+t.lowStock+t.outOfStock," ","total"]})]}),e.jsxs("div",{className:"flex gap-1 h-3 rounded-full overflow-hidden shadow-inner",children:[e.jsx("div",{className:"flex-1 bg-gradient-to-r from-emerald-400 to-emerald-500",style:{width:`${t.inStock/(t.inStock+t.lowStock+t.outOfStock)*100}%`}}),e.jsx("div",{className:"flex-1 bg-gradient-to-r from-amber-400 to-amber-500",style:{width:`${t.lowStock/(t.inStock+t.lowStock+t.outOfStock)*100}%`}}),e.jsx("div",{className:"flex-1 bg-gradient-to-r from-red-400 to-red-500",style:{width:`${t.outOfStock/(t.inStock+t.lowStock+t.outOfStock)*100}%`}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-600",children:[e.jsxs("span",{children:["In Stock: ",t.inStock]}),e.jsxs("span",{children:["Low: ",t.lowStock]}),e.jsxs("span",{children:["Out: ",t.outOfStock]})]})]},s))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(o,{className:"border-0 shadow-sm hover:shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-indigo-50 to-violet-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Quick Actions"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Access detailed reports"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-3",children:[{name:"Patient Reports",icon:k,href:route("clinic.reports.patients",r.id),color:"bg-blue-500"},{name:"Appointment Reports",icon:S,href:route("clinic.reports.appointments",r.id),color:"bg-purple-500"},{name:"Revenue Reports",icon:C,href:route("clinic.reports.revenue",r.id),color:"bg-emerald-500"},{name:"Inventory Reports",icon:se,href:route("clinic.reports.inventory",r.id),color:"bg-orange-500"},{name:"Treatment Reports",icon:E,href:route("clinic.reports.treatments",r.id),color:"bg-pink-500"}].map((t,s)=>e.jsxs(L,{href:t.href,className:"flex items-center gap-3 p-4 rounded-xl hover:bg-gradient-to-r hover:from-slate-50 hover:to-slate-100 transition-all duration-300 border border-transparent hover:border-slate-200 group",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-lg ${t.color} group-hover:scale-110 transition-transform duration-300`,children:e.jsx(t.icon,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"font-medium text-slate-700 group-hover:text-slate-900 transition-colors duration-200",children:t.name}),e.jsx(ae,{className:"w-4 h-4 text-slate-400 ml-auto group-hover:text-slate-600 group-hover:translate-x-1 transition-all duration-300"})]},t.name))})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(o,{className:"border-0 shadow-sm hover:shadow-lg transition-all duration-300",children:[e.jsxs(n,{className:"pb-4 bg-gradient-to-r from-rose-50 to-pink-50 rounded-t-lg",children:[e.jsx(d,{className:"text-lg font-semibold text-slate-800",children:"Recent Activity"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Latest updates and activities"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:u==null?void 0:u.slice(0,6).map((t,s)=>{const P=A(t.status);return e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-slate-50 transition-colors duration-200",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx(P,{className:"w-4 h-4 text-slate-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-slate-800",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600",children:t.description})]}),e.jsx(w,{className:T(t.status),children:t.status})]},s)})})})]})})]})]})})]})}export{it as default};
