import{r as h,j as e,$ as B,Y as T,m as p}from"./app-DzAKanfO.js";import{A as E,T as F,D as L,b as U,c as M,d as Q,e as $,g as H}from"./AuthenticatedLayout-CGhbNLHc.js";import{B as a}from"./button-BaVC9LH_.js";import{I as Y}from"./input-BdGSRPXE.js";import{L as z}from"./label-B_EUMQIu.js";import{C as n,a as o,b as c,c as m}from"./card-DxaUQxDk.js";import{B as w}from"./badge-B04ULXSU.js";import"./separator-DN6UWsUB.js";import"./dropdown-menu-C0rkbEas.js";import{S as G}from"./shopping-cart-rxqtzCzU.js";import{A as J}from"./arrow-left-CPCCsctB.js";import{F as K}from"./file-text-6ldMNcS1.js";import{P as V}from"./scissors-5AZmbKVD.js";import{P as W}from"./plus-Dm41JqSz.js";import{C}from"./circle-check-big-DrY8pTua.js";import{S as X}from"./square-pen-hLnWi31U.js";import{B as Z}from"./building-WSTtTgSr.js";import{U as O}from"./user-CeFybYqA.js";import{M as ee}from"./mail-DuQRInId.js";import{P as se}from"./phone-BCpjmzLD.js";import"./index-CpWIITha.js";import"./layout-dashboard-DQdh_Wnw.js";import"./createLucideIcon-DZDivllp.js";import"./users-DwCTdV0r.js";import"./calendar-CV3bSJAg.js";import"./clock-BFKTcZtX.js";import"./stethoscope-CYcZ01Kt.js";import"./dollar-sign-BK8VwfMG.js";import"./chevron-right-Cd3pwCjl.js";import"./shield-CFwfuPBv.js";import"./trending-up-C2PJu67h.js";import"./circle-alert-CAXERVjX.js";import"./loader-circle-BB5RhGLQ.js";import"./SiteHeader-CAPZqMMC.js";import"./index-BY6aHjW5.js";import"./x-Brym1Brg.js";import"./crown-Du6OVEvL.js";import"./zap-Bmgw58_9.js";import"./info-DsO6QNII.js";import"./circle-x-B-f6mQMh.js";import"./building-2-BeiXJ7gS.js";import"./triangle-alert-rUcjKeFs.js";import"./index--CY9anYm.js";import"./index-DYXbNSrL.js";import"./circle-DkvUUtrL.js";function Je({auth:_,clinic:i,purchaseOrder:r}){var u,j,v,f,N,y;const[k,l]=h.useState(!1),[t,D]=h.useState(null),[d,g]=h.useState(""),S=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"approved":return"bg-blue-100 text-blue-700 border-blue-200";case"ordered":return"bg-purple-100 text-purple-700 border-purple-200";case"received":return"bg-green-100 text-green-700 border-green-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},P=s=>{switch(s){case"pending":return"Pending";case"approved":return"Approved";case"ordered":return"Ordered";case"received":return"Received";case"cancelled":return"Cancelled";default:return s}},x=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s),b=s=>s?new Date(s).toLocaleDateString():"N/A",q=()=>{p.post(route("clinic.purchase-orders.approve",[i.id,r.id]))},R=()=>{p.post(route("clinic.purchase-orders.mark-ordered",[i.id,r.id]))},A=s=>{D(s),g(""),l(!0)},I=()=>{!t||!d||(p.post(route("clinic.purchase-orders.receive-item",[i.id,r.id,t.id]),{quantity_received:d}),l(!1))};return e.jsxs(E,{auth:_,children:[e.jsx(B,{title:`Purchase Order - ${r.po_number}`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-150 to-cyan-100 rounded-t-lg mx-0 pt-4 shadow-2xl border border-blue-200/50 border-t border-t-blue-200",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 mx-5 mb-5 rounded-xl shadow-2xl",children:e.jsx("div",{className:"relative px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/25 rounded-2xl backdrop-blur-sm border border-white/40 shadow-lg",children:e.jsx(G,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Purchase Order Details"}),e.jsxs("p",{className:"text-blue-100 text-sm font-medium",children:[r.po_number," -"," ",(u=r.supplier)==null?void 0:u.name]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{variant:"outline",className:`font-medium ${S(r.status)}`,children:P(r.status)}),e.jsxs(a,{variant:"outline",onClick:()=>window.history.back(),className:"gap-2 text-sm px-4 py-2 rounded-xl transition-all duration-300 border backdrop-blur-sm bg-white/20 border-white/30 text-white hover:bg-white/30",children:[e.jsx(J,{className:"h-4 w-4"}),"Back"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 -mt--10 pb-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsx(o,{className:"bg-gradient-to-r from-gray-50 via-blue-50/30 to-indigo-50/20 border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(K,{className:"h-4 w-4 text-white"})}),e.jsx("div",{children:e.jsx(c,{className:"text-xl font-bold text-gray-900",children:"Purchase Order Information"})})]})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Details"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"PO Number"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:r.po_number})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Order Date"}),e.jsx("dd",{className:"text-gray-900",children:b(r.order_date)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Expected Delivery"}),e.jsx("dd",{className:"text-gray-900",children:b(r.expected_delivery_date)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Summary"}),e.jsx("dl",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),e.jsx("dd",{className:"text-2xl font-bold text-green-600",children:x(r.total_amount)})]})})]})]})})]}),e.jsxs(n,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsx(o,{className:"bg-gradient-to-r from-gray-50 via-green-50/30 to-emerald-50/20 border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(V,{className:"h-4 w-4 text-white"})}),e.jsx("div",{children:e.jsx(c,{className:"text-xl font-bold text-gray-900",children:"Order Items"})})]})}),e.jsx(m,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:(j=r.items)==null?void 0:j.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:s.item_name}),s.quantity_received<s.quantity_ordered&&e.jsxs(a,{onClick:()=>A(s),size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Receive"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Quantity:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[s.quantity_received,"/",s.quantity_ordered]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Unit Cost:"}),e.jsx("span",{className:"ml-2 font-medium",children:x(s.unit_cost)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Total:"}),e.jsx("span",{className:"ml-2 font-medium",children:x(s.total_cost)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx(w,{variant:"outline",className:"ml-2",children:s.quantity_received>=s.quantity_ordered?"Received":"Pending"})]})]})]},s.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30 sticky top-6",children:[e.jsx(o,{className:"bg-gradient-to-r from-gray-50 via-purple-50/30 to-violet-50/20 border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"h-4 w-4 text-white"})}),e.jsx("div",{children:e.jsx(c,{className:"text-xl font-bold text-gray-900",children:"Actions"})})]})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[r.status==="pending"&&e.jsxs(a,{onClick:q,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Approve PO"]}),r.status==="approved"&&e.jsxs(a,{onClick:R,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Mark as Ordered"]}),r.status==="pending"&&e.jsx(T,{href:route("clinic.purchase-orders.edit",[i.id,r.id]),children:e.jsxs(a,{variant:"outline",className:"w-full",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Edit PO"]})})]})})]}),e.jsxs(n,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsx(o,{className:"bg-gradient-to-r from-gray-50 via-orange-50/30 to-amber-50/20 border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"h-4 w-4 text-white"})}),e.jsx("div",{children:e.jsx(c,{className:"text-lg font-bold text-gray-900",children:"Supplier"})})]})}),e.jsx(m,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:(v=r.supplier)==null?void 0:v.name}),((f=r.supplier)==null?void 0:f.contact_person)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:r.supplier.contact_person})]}),((N=r.supplier)==null?void 0:N.email)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{children:r.supplier.email})]}),((y=r.supplier)==null?void 0:y.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:r.supplier.phone})]})]})})]})]})]})})]}),e.jsx(L,{open:k,onOpenChange:l,children:e.jsxs(U,{children:[e.jsxs(M,{children:[e.jsx(Q,{children:"Receive Item"}),e.jsxs($,{children:["Enter quantity received for"," ",t==null?void 0:t.item_name]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(z,{htmlFor:"receive-quantity",children:"Quantity to Receive"}),e.jsx(Y,{id:"receive-quantity",type:"number",min:"1",max:t?t.quantity_ordered-t.quantity_received:0,value:d,onChange:s=>g(s.target.value),placeholder:"Enter quantity"})]})}),e.jsxs(H,{children:[e.jsx(a,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(a,{onClick:I,disabled:!d,children:"Receive Item"})]})]})})]})}export{Je as default};
