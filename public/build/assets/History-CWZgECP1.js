import{j as e,$ as w,Y as d}from"./app-COgprWRc.js";import{A as v}from"./AuthenticatedLayout-dRy-4ZNL.js";import{B as C}from"./button-C4x32toX.js";import{C as m,a as n,b as c,c as o}from"./card-Cds0mozr.js";import{B as x}from"./badge-CEixDjMh.js";import{A as u}from"./arrow-left-DzZXBTf1.js";import{P as T}from"./scissors-sHvigQVN.js";import{C as k}from"./calendar-DTUZZUoj.js";import{U as _}from"./user-CKZ_iwGK.js";import{F as h}from"./file-text-BTyeLFET.js";import{M as i}from"./minus-DU49FT2U.js";import{T as S}from"./trending-up-3gLa3GYu.js";import{P as U}from"./plus-TBOa98Pg.js";import"./index-kSaTWtOi.js";import"./layout-dashboard-DkARQqpT.js";import"./createLucideIcon-D0PSxBrC.js";import"./users-B4ViSBmW.js";import"./clock-BraSIhTw.js";import"./stethoscope-CbVKrnQ4.js";import"./dollar-sign-DezZlbBG.js";import"./chevron-right-BBfU1Lxm.js";import"./shield-D4m3gq8y.js";import"./circle-alert-DCUkzB6T.js";import"./loader-circle-BYoX5k2w.js";import"./SiteHeader-CDBukgQi.js";import"./index-Chr4fCpz.js";import"./x-tpI0RCzt.js";import"./crown-CNoFtN5r.js";import"./zap-CDqFRYPk.js";import"./circle-check-big-BEuPoBvy.js";import"./info-Div9PQlp.js";import"./circle-x-DtgngRz6.js";import"./building-2-DowVwInN.js";import"./triangle-alert-CmgfC4Xa.js";function ce({auth:g,clinic:b,inventory:s,transactions:r}){const l=t=>t?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t):"N/A",p=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=t=>{switch(t){case"in":return e.jsx(U,{className:"h-4 w-4 text-green-600"});case"out":return e.jsx(i,{className:"h-4 w-4 text-red-600"});case"adjustment":return e.jsx(S,{className:"h-4 w-4 text-blue-600"});case"transfer":return e.jsx(u,{className:"h-4 w-4 text-purple-600"});case"damaged":return e.jsx(i,{className:"h-4 w-4 text-orange-600"});case"expired":return e.jsx(i,{className:"h-4 w-4 text-gray-600"});default:return e.jsx(h,{className:"h-4 w-4 text-gray-600"})}},f=t=>{switch(t){case"in":return"bg-green-50 border-green-200";case"out":return"bg-red-50 border-red-200";case"adjustment":return"bg-blue-50 border-blue-200";case"transfer":return"bg-purple-50 border-purple-200";case"damaged":return"bg-orange-50 border-orange-200";case"expired":return"bg-gray-50 border-gray-200";default:return"bg-gray-50 border-gray-200"}},N=t=>{switch(t){case"in":return"Stock In";case"out":return"Stock Out";case"adjustment":return"Adjustment";case"transfer":return"Transfer";case"damaged":return"Damaged";case"expired":return"Expired";default:return t}},y=t=>{const a=t.quantity_after-t.quantity_before;return a>0?`+${a}`:`${a}`};return e.jsxs(v,{auth:g,children:[e.jsx(w,{title:`Transaction History - ${s.name}`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-150 to-cyan-100 rounded-t-lg mx-0 pt-4 shadow-2xl border border-blue-200/50 border-t border-t-blue-200",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 mx-5 mb-5 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white/5 rounded-full translate-y-10 -translate-x-10"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-white/3 rounded-full -translate-y-8 -translate-x-8"}),e.jsx("div",{className:"relative px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/25 rounded-2xl backdrop-blur-sm border border-white/40 shadow-lg",children:e.jsx(BarChart3,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Transaction History"}),e.jsxs("p",{className:"text-blue-100 text-sm font-medium",children:["Track all stock movements for ",s.name]})]})]}),e.jsx(d,{href:route("clinic.inventory.show",[b.id,s.id]),children:e.jsxs(C,{variant:"outline",className:"gap-2 text-sm px-4 py-2 rounded-xl transition-all duration-300 border backdrop-blur-sm bg-white/20 border-white/30 text-white hover:bg-white/30",children:[e.jsx(u,{className:"h-4 w-4"}),"Back to Item"]})})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt--10 pb-12",children:[e.jsxs(m,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30 mb-6",children:[e.jsx(n,{className:"bg-gradient-to-r from-gray-50 via-blue-50/30 to-indigo-50/20 border-b border-gray-200/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xl font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:"Current inventory status and details"})]})]})}),e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Current Stock"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.quantity})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Unit Price"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l(s.unit_price)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l(s.quantity*parseFloat(s.unit_price))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Category"}),e.jsx(x,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:s.category.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())})]})]})})]}),e.jsxs(m,{children:[e.jsx(n,{children:e.jsx(c,{children:"Transaction History"})}),e.jsxs(o,{children:[r.data&&r.data.length>0?e.jsx("div",{className:"space-y-4",children:r.data.map(t=>e.jsx("div",{className:`p-4 rounded-lg border ${f(t.type)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[j(t.type),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"outline",children:N(t.type)}),e.jsxs("span",{className:"font-medium",children:[t.quantity," ","units"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",y(t),")"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-3 w-3"}),p(t.transaction_date)]}),t.user&&e.jsxs("span",{className:"flex items-center gap-1 ml-4",children:[e.jsx(_,{className:"h-3 w-3"}),t.user.name]})]}),t.notes&&e.jsx("p",{className:"text-sm text-gray-700 mt-2",children:t.notes})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Stock:"," ",t.quantity_before," ","â†’"," ",t.quantity_after]}),t.total_cost&&e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l(t.total_cost)})]})]})},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No transactions found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"This item has no transaction history yet."})]}),r.links&&r.links.length>3&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",r.from," to"," ",r.to," of"," ",r.total," results"]}),e.jsx("div",{className:"flex gap-2",children:r.links.map((t,a)=>e.jsx(d,{href:t.url,className:`px-3 py-2 text-sm rounded-md ${t.active?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,dangerouslySetInnerHTML:{__html:t.label}},a))})]})]})]})]})]})]})}export{ce as default};
