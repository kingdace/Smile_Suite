import{r as g,j as e,$ as U,Y as m,m as b}from"./app-DzAKanfO.js";import{A as $}from"./AuthenticatedLayout-CGhbNLHc.js";import{C as d,c as x,a as Y,b as G}from"./card-DxaUQxDk.js";import{I as Q}from"./input-BdGSRPXE.js";import{B as a}from"./button-BaVC9LH_.js";import{T as X,a as Z,b as f,c,d as J,e as r}from"./table-B58m7DaJ.js";import{S as C,a as I,b as q,c as _,d as l}from"./select-CZyszopy.js";import{B as K}from"./badge-B04ULXSU.js";import{P as W}from"./Pagination-7kRGke6j.js";import"./dropdown-menu-C0rkbEas.js";import{P as n}from"./scissors-5AZmbKVD.js";import{D as ee}from"./download-DdB1cSsm.js";import{C as T}from"./circle-plus-De6BEmcf.js";import{T as A}from"./triangle-alert-rUcjKeFs.js";import{C as se}from"./circle-x-B-f6mQMh.js";import{D as N}from"./dollar-sign-BK8VwfMG.js";import{S as P}from"./search-Dhiwlh-6.js";import{R as te}from"./refresh-cw-D0DWJK8p.js";import{c as ae}from"./createLucideIcon-DZDivllp.js";import{A as re}from"./activity-B3Ls6NOj.js";import{C as le}from"./calendar-CV3bSJAg.js";import{S as ie}from"./settings-CTrHRqLk.js";import{M as ce}from"./minus-ByHkg0gJ.js";import{P as ne}from"./plus-Dm41JqSz.js";import{E as oe}from"./eye-BffSrLxH.js";import{P as de}from"./pencil-CEjy1GkA.js";import"./index-CpWIITha.js";import"./layout-dashboard-DQdh_Wnw.js";import"./users-DwCTdV0r.js";import"./clock-BFKTcZtX.js";import"./stethoscope-CYcZ01Kt.js";import"./chevron-right-Cd3pwCjl.js";import"./shield-CFwfuPBv.js";import"./trending-up-C2PJu67h.js";import"./circle-alert-CAXERVjX.js";import"./loader-circle-BB5RhGLQ.js";import"./SiteHeader-CAPZqMMC.js";import"./index-BY6aHjW5.js";import"./user-CeFybYqA.js";import"./x-Brym1Brg.js";import"./crown-Du6OVEvL.js";import"./zap-Bmgw58_9.js";import"./circle-check-big-DrY8pTua.js";import"./info-DsO6QNII.js";import"./building-2-BeiXJ7gS.js";import"./file-text-6ldMNcS1.js";import"./index--CY9anYm.js";import"./index-DYXbNSrL.js";import"./index-9v9KNBSo.js";import"./circle-DkvUUtrL.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],me=ae("shapes",xe);function os({auth:D,clinic:i,inventory:t,filters:h}){const[y,w]=g.useState(h.search||""),[p,v]=g.useState(h.category||"all"),[u,k]=g.useState(h.stock_filter||"all"),E=t.total||0,F=t.data?t.data.filter(s=>s.quantity<=s.minimum_quantity).length:0,L=t.data?t.data.filter(s=>s.quantity<=0).length:0,M=t.data?t.data.reduce((s,o)=>s+o.quantity*parseFloat(o.unit_price),0):0,V=()=>{b.get(route("clinic.inventory.index",[i.id]),{search:y,category:p==="all"?"":p,stock_filter:u==="all"?"":u},{preserveState:!0,preserveScroll:!0})},z=()=>{w(""),v("all"),k("all"),b.get(route("clinic.inventory.index",[i.id]))},B=()=>{const o=route("clinic.inventory.export",{clinic:i.id,format:"excel"}).replace("http://localhost","http://127.0.0.1:8000");window.open(o,"_blank")},H=s=>s.quantity<=0?"bg-red-100 text-red-700 border-red-200":s.quantity<=s.minimum_quantity?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-green-100 text-green-700 border-green-200",O=s=>s.quantity<=0?"Out of Stock":s.quantity<=s.minimum_quantity?"Low Stock":"In Stock",j=s=>"â‚±"+parseFloat(s||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2}),R=s=>s?new Date(s).toLocaleDateString("en-PH"):"No Expiry",S=(s,o)=>{b.patch(route("clinic.inventory.adjust-quantity",[i.id,s.id]),{adjustment:o},{preserveScroll:!0})};return e.jsxs($,{auth:D,children:[e.jsx(U,{title:"Inventory Management"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(n,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Inventory Management"}),e.jsx("p",{className:"text-blue-100",children:"Simple digital tracking for your clinic"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(a,{onClick:B,variant:"outline",className:"gap-2 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm px-4 py-2 rounded-lg transition-all duration-300",children:[e.jsx(ee,{className:"h-4 w-4"}),"Export All"]}),e.jsx(m,{href:route("clinic.inventory.create",[i.id]),children:e.jsxs(a,{className:"gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-sm px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-500/20 backdrop-blur-sm",children:[e.jsx(T,{className:"h-4 w-4"}),"Add Item"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(d,{className:"shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:E})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(n,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(d,{className:"shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:F})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"h-6 w-6 text-yellow-600"})})]})})}),e.jsx(d,{className:"shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),e.jsx("p",{className:"text-3xl font-bold text-red-900",children:L})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"h-6 w-6 text-red-600"})})]})})}),e.jsx(d,{className:"shadow-lg",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:j(M)})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"h-6 w-6 text-green-600"})})]})})})]}),e.jsxs(d,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsxs(Y,{className:"bg-gradient-to-r from-gray-50 via-blue-50/30 to-indigo-50/20 border-b border-gray-200/50",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(n,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx(G,{className:"text-xl font-bold text-gray-900",children:"Inventory Records"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage and view all inventory items"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Q,{type:"text",placeholder:"Search inventory items...",value:y,onChange:s=>w(s.target.value),className:"pl-10"})]}),e.jsxs(C,{value:p,onValueChange:v,children:[e.jsx(I,{className:"w-48",children:e.jsx(q,{placeholder:"Category"})}),e.jsxs(_,{children:[e.jsx(l,{value:"all",children:"All Categories"}),e.jsx(l,{value:"medications",children:"Medications"}),e.jsx(l,{value:"supplies",children:"Supplies"}),e.jsx(l,{value:"equipment",children:"Equipment"}),e.jsx(l,{value:"others",children:"Others"})]})]}),e.jsxs(C,{value:u,onValueChange:k,children:[e.jsx(I,{className:"w-40",children:e.jsx(q,{placeholder:"Stock"})}),e.jsxs(_,{children:[e.jsx(l,{value:"all",children:"All Stock"}),e.jsx(l,{value:"in_stock",children:"In Stock"}),e.jsx(l,{value:"low_stock",children:"Low Stock"}),e.jsx(l,{value:"out_of_stock",children:"Out of Stock"})]})]}),e.jsxs(a,{onClick:V,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Search"]}),e.jsxs(a,{onClick:z,variant:"outline",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),e.jsxs(x,{className:"p-0",children:[e.jsxs(X,{children:[e.jsx(Z,{children:e.jsxs(f,{className:"bg-gradient-to-r from-gray-50 via-blue-50/30 to-indigo-50/20 border-b border-gray-200/70",children:[e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-blue-600"}),"Item Name"]})}),e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4 text-blue-600"}),"Category"]})}),e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4 text-blue-600"}),"Stock Status"]})}),e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-blue-600"}),"Quantity"]})}),e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-600"}),"Unit Price"]})}),e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-blue-600"}),"Total Value"]})}),e.jsx(c,{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-blue-600"}),"Expiry"]})}),e.jsx(c,{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-blue-600"}),"Actions"]})})]})}),e.jsx(J,{children:t.data&&t.data.length>0?t.data.map(s=>e.jsxs(f,{className:"hover:bg-gradient-to-r hover:from-blue-50/60 hover:via-indigo-50/40 hover:to-cyan-50/60 transition-all duration-300 border-b border-gray-100/50 hover:border-blue-200/50",children:[e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-md hover:shadow-lg transition-all duration-300 group-hover:scale-105",children:e.jsx(n,{className:"h-5 w-5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-bold text-gray-900 text-base leading-tight",children:s.name}),e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:e.jsxs("span",{className:"text-xs text-gray-600 bg-gray-100 px-1.5 py-0.5 rounded font-medium",children:["ID: ",s.id]})}),s.description&&e.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:s.description})]})]})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.category?s.category.charAt(0).toUpperCase()+s.category.slice(1):e.jsx("span",{className:"text-gray-400 italic font-normal",children:"No category"})})]})})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"space-y-2",children:e.jsx(K,{className:`text-xs font-semibold px-2 py-1 rounded-full border ${H(s)}`,children:O(s)})})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>S(s,-1),disabled:s.quantity<=0,className:"h-6 w-6 p-0",children:e.jsx(ce,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-blue-700 bg-blue-50 px-1.5 py-0.5 rounded text-xs border border-blue-200 font-bold",children:s.quantity}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>S(s,1),className:"h-6 w-6 p-0",children:e.jsx(ne,{className:"h-3 w-3"})})]}),s.minimum_quantity&&e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Min:"," ",s.minimum_quantity]})]})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("span",{className:"text-emerald-700 bg-emerald-50 px-1.5 py-0.5 rounded text-xs border border-emerald-200 font-bold",children:j(s.unit_price)})})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("span",{className:"text-green-700 bg-green-50 px-1.5 py-0.5 rounded text-xs border border-green-200 font-bold",children:j(s.quantity*parseFloat(s.unit_price))})})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("span",{className:"text-cyan-700 bg-cyan-50 px-1.5 py-0.5 rounded text-xs border border-cyan-200",children:R(s.expiry_date)})})}),e.jsx(r,{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(a,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0 bg-blue-50 hover:bg-blue-100 border border-blue-200 text-blue-600 hover:text-blue-700 rounded-lg transition-all duration-200 hover:scale-105",title:"View Item Details",children:e.jsx(m,{href:route("clinic.inventory.show",[i.id,s.id]),children:e.jsx(oe,{className:"h-3 w-3"})})}),e.jsx(a,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 text-emerald-600 hover:text-emerald-700 rounded-lg transition-all duration-200 hover:scale-105",title:"Edit Item",children:e.jsx(m,{href:route("clinic.inventory.edit",[i.id,s.id]),children:e.jsx(de,{className:"h-3 w-3"})})})]})})]},s.id)):e.jsx(f,{children:e.jsx(r,{colSpan:8,className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(n,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-xl font-medium text-gray-900 mb-2",children:"No inventory items found"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Get started by adding your first inventory item."}),e.jsx(m,{href:route("clinic.inventory.create",[i.id]),children:e.jsxs(a,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add First Item"]})})]})})})})]}),t.links&&t.links.length>3&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",t.from," to ",t.to," of"," ",t.total," results"]}),e.jsx(W,{links:t.links})]})]})]})]})}export{os as default};
