import{r as n,j as e,$ as me,m as c}from"./app-C8kdbIfg.js";import{A as xe,D as S,b as _,c as k,d as U,e as E,g as F}from"./AuthenticatedLayout-Cx6WDh0A.js";import{C as P,c as $}from"./card-m9OyGp2W.js";import{B as i}from"./button-CtBDG8qG.js";import{B as A}from"./badge-CO41UzeS.js";import{I as d}from"./input-CN750S7f.js";import{L as o}from"./label-0ZC4nNzA.js";import{S as I}from"./switch-CcYb1iyl.js";import{U as D}from"./users-BvixR2vM.js";import{C as he}from"./crown-BWorveNA.js";import{A as pe}from"./activity-Ba9uhVRY.js";import{D as ue}from"./download-Blox7fCr.js";import{U as w}from"./user-plus-B_F0PWwq.js";import{S as ge}from"./search-D2Wd2LQe.js";import{F as be}from"./funnel-s4wrBOy3.js";import{M as je}from"./mail-K-4uYH6b.js";import{S as fe}from"./shield-CLuEZxxw.js";import{S as ve}from"./stethoscope-C-0Z68Vf.js";import{c as we}from"./createLucideIcon-DmdO-xBx.js";import{C as O}from"./circle-check-big-DnVHWdap.js";import{C as R}from"./circle-x-Bdkhn-X7.js";import{P as Ne}from"./phone-CA-ApDBZ.js";import{C as ye}from"./calendar-TWGUMU6x.js";import{E as T}from"./eye-Dy8p4jCP.js";import{S as z}from"./square-pen-BgcWqeR0.js";import{T as Ce}from"./trash-2-L3hQsJ4v.js";import{U as Se}from"./user-Bvu1xyV6.js";import"./index-Cs505U2P.js";import"./layout-dashboard-DoCe2Bsw.js";import"./clock-BXHeeKiP.js";import"./scissors-CttdPSXS.js";import"./dollar-sign-CFER_2Rp.js";import"./chevron-right-Dgi3VfDJ.js";import"./trending-up-DCRNnnkh.js";import"./circle-alert-C34v1n4l.js";import"./loader-circle-jGSMuC9r.js";import"./SiteHeader-CK-PGA_T.js";import"./index-DHbohzxi.js";import"./x-D7X-cAQx.js";import"./zap-D7xPC3Ww.js";import"./info-CzTE822e.js";import"./building-2-C1oEGBDy.js";import"./file-text-DoyO5FpF.js";import"./triangle-alert-CJUA_boL.js";import"./index-z3NYldYB.js";import"./index-DQsPmgb4.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],G=we("user-cog",_e);function B(N){return N.split(" ").map(g=>g[0]).join("").toUpperCase()}const V={clinic_admin:"bg-blue-100 text-blue-800 border-blue-200",dentist:"bg-green-100 text-green-800 border-green-200",staff:"bg-yellow-100 text-yellow-800 border-yellow-200"},H=[{value:"dentist",label:"Dentist",icon:Se},{value:"staff",label:"Staff",icon:G}];function Ns({users:N,limit:g,count:J,plan:X,errors:ke,success:Ue,auth:K}){const Q=J<g,[m,W]=n.useState(""),[M,Ee]=n.useState(N),[Y,b]=n.useState(!1),[Z,j]=n.useState(!1),[ee,y]=n.useState(!1),[r,L]=n.useState(null),[u,se]=n.useState("all"),[x,ae]=n.useState("all"),[a,l]=n.useState({name:"",email:"",password:"",password_confirmation:"",role:"staff",is_active:!0}),[h,f]=n.useState(!1),[C,p]=n.useState({}),v=M.filter(s=>{const t=s.name.toLowerCase().includes(m.toLowerCase())||s.email.toLowerCase().includes(m.toLowerCase())||s.role.toLowerCase().includes(m.toLowerCase()),ce=u==="all"||s.role===u,de=x==="all"||x==="active"&&s.is_active||x==="inactive"&&!s.is_active;return t&&ce&&de}),q=()=>{l({name:"",email:"",password:"",password_confirmation:"",role:"staff",is_active:!0}),p({}),b(!0)},te=s=>{L(s),l({name:s.name,email:s.email,password:"",password_confirmation:"",role:s.role,is_active:s.is_active}),p({}),j(!0)},re=s=>{L(s),y(!0)},le=async s=>{s.preventDefault(),f(!0),p({});try{await c.post(route("clinic.users.store"),a,{onSuccess:()=>{b(!1),c.reload({only:["users","count"]})},onError:t=>{p(t)}})}catch(t){console.error("Create error:",t)}finally{f(!1)}},ie=async s=>{s.preventDefault(),f(!0),p({});try{await c.put(route("clinic.users.update",r.id),a,{onSuccess:()=>{j(!1),c.reload({only:["users"]})},onError:t=>{p(t)}})}catch(t){console.error("Update error:",t)}finally{f(!1)}},ne=async s=>{if(confirm(`Are you sure you want to delete ${s.name}?`))try{await c.delete(route("clinic.users.destroy",s.id),{onSuccess:()=>{c.reload({only:["users","count"]})}})}catch(t){console.error("Delete error:",t)}},oe=async s=>{try{await c.patch(route("clinic.users.toggle-status",s.id),{},{onSuccess:()=>{c.reload({only:["users"]})}})}catch(t){console.error("Toggle status error:",t)}};return e.jsxs(xe,{auth:K,children:[e.jsx(me,{title:"User Management"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 rounded-2xl shadow-2xl mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),e.jsx("div",{className:"relative px-8 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-4 bg-white/20 rounded-2xl backdrop-blur-sm border border-white/30 shadow-lg",children:e.jsx(D,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),e.jsxs("div",{className:"flex items-center gap-6 text-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Plan: ",X]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[M.length,"/",g," ","Users"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[v.filter(s=>s.is_active).length," ","Active"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(i,{variant:"secondary",size:"sm",className:"gap-2 bg-white/20 text-white border-white/30 hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(ue,{className:"h-4 w-4"}),"Export"]}),e.jsxs(i,{onClick:q,disabled:!Q,className:"gap-2 bg-white text-blue-600 hover:bg-blue-50 font-semibold shadow-lg",children:[e.jsx(w,{className:"h-4 w-4"}),"Add User"]})]})]})})]}),e.jsx(P,{className:"mb-6 border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx($,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ge,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(d,{type:"text",className:"pl-10 h-11 border-gray-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Search users by name, email, or role...",value:m,onChange:s=>W(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4 text-gray-500"}),e.jsxs("select",{value:u,onChange:s=>se(s.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"clinic_admin",children:"Clinic Admin"}),e.jsx("option",{value:"dentist",children:"Dentist"}),e.jsx("option",{value:"staff",children:"Staff"})]})]}),e.jsxs("select",{value:x,onChange:s=>ae(s.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs(A,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[v.length," results"]})]})]})})}),e.jsx(P,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:e.jsx($,{className:"p-6",children:v.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(D,{className:"h-12 w-12 text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:m||u!=="all"||x!=="all"?"Try adjusting your search or filters":"Get started by adding your first team member"}),!m&&u==="all"&&x==="all"&&e.jsxs(i,{onClick:q,className:"gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Add First User"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((s,t)=>e.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-blue-50/30 rounded-xl border border-blue-100/50 hover:border-blue-200 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 right-0 w-4 h-4 rounded-bl-lg ${s.is_active?"bg-green-400":"bg-red-400"}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-lg font-bold text-white",children:B(s.name)})}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${s.is_active?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(je,{className:"h-3 w-3 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:s.email})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(A,{className:`${V[s.role]||"bg-gray-100 text-gray-700 border-gray-200"} text-xs font-semibold px-3 py-1`,children:[s.role==="clinic_admin"&&e.jsx(fe,{className:"w-3 h-3 mr-1"}),s.role==="dentist"&&e.jsx(ve,{className:"w-3 h-3 mr-1"}),s.role==="staff"&&e.jsx(G,{className:"w-3 h-3 mr-1"}),s.role.replace("_"," ").toUpperCase()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[s.is_active?e.jsx(O,{className:"h-4 w-4 text-green-500"}):e.jsx(R,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:s.is_active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[s.phone_number&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Ne,{className:"h-3 w-3"}),e.jsx("span",{children:s.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(ye,{className:"h-3 w-3"}),e.jsxs("span",{children:["Joined"," ",new Date(s.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>re(s),className:"flex-1 gap-1 text-xs border-blue-200 text-blue-600 hover:bg-blue-50",children:[e.jsx(T,{className:"h-3 w-3"}),"View"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>te(s),className:"flex-1 gap-1 text-xs border-green-200 text-green-600 hover:bg-green-50",children:[e.jsx(z,{className:"h-3 w-3"}),"Edit"]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>oe(s),className:`gap-1 text-xs px-2 ${s.is_active?"border-red-200 text-red-600 hover:bg-red-50":"border-green-200 text-green-600 hover:bg-green-50"}`,children:s.is_active?e.jsx(R,{className:"h-3 w-3"}):e.jsx(O,{className:"h-3 w-3"})}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>ne(s),className:"gap-1 text-xs px-2 border-red-200 text-red-600 hover:bg-red-50",children:e.jsx(Ce,{className:"h-3 w-3"})})]})]})]},s.id))})})})]})}),e.jsx(S,{open:Y,onOpenChange:b,children:e.jsxs(_,{className:"max-w-md",children:[e.jsxs(k,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-blue-600"}),"Add New User"]}),e.jsx(E,{children:"Create a new account for a team member. They can complete their professional profile after logging in."})]}),C&&Object.keys(C).length>0&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:Object.values(C).map((s,t)=>e.jsx("p",{className:"text-sm text-red-600",children:s},t))}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Full Name"}),e.jsx(d,{id:"name",type:"text",value:a.name,onChange:s=>l({...a,name:s.target.value}),placeholder:"Enter full name",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email Address"}),e.jsx(d,{id:"email",type:"email",value:a.email,onChange:s=>l({...a,email:s.target.value}),placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsx(d,{id:"password",type:"password",value:a.password,onChange:s=>l({...a,password:s.target.value}),placeholder:"Enter password",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(d,{id:"password_confirmation",type:"password",value:a.password_confirmation,onChange:s=>l({...a,password_confirmation:s.target.value}),placeholder:"Confirm password",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Role"}),e.jsx("div",{className:"flex gap-3 mt-2",children:H.map(s=>e.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer transition-all ${a.role===s.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-blue-300"}`,children:[e.jsx(s.icon,{className:"h-4 w-4"}),e.jsx("input",{type:"radio",name:"role",value:s.value,checked:a.role===s.value,onChange:t=>l({...a,role:t.target.value}),className:"hidden"}),s.label]},s.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"is_active",children:"Active Status"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable this user account"})]}),e.jsx(I,{id:"is_active",checked:a.is_active,onCheckedChange:s=>l({...a,is_active:s})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"i"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Professional Information"}),e.jsx("p",{className:"text-sm text-blue-700",children:"After creating the account, the user can log in and complete their professional information in their profile."})]})]})}),e.jsxs(F,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:h,children:"Cancel"}),e.jsx(i,{type:"submit",disabled:h,className:"gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4"}),"Create User"]})})]})]})]})}),e.jsx(S,{open:Z,onOpenChange:j,children:e.jsxs(_,{className:"max-w-md",children:[e.jsxs(k,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-green-600"}),"Edit User"]}),e.jsxs(E,{children:["Update basic account information for"," ",r==null?void 0:r.name,"."]})]}),e.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit_name",children:"Full Name"}),e.jsx(d,{id:"edit_name",type:"text",value:a.name,onChange:s=>l({...a,name:s.target.value}),placeholder:"Enter full name",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit_email",children:"Email Address"}),e.jsx(d,{id:"edit_email",type:"email",value:a.email,onChange:s=>l({...a,email:s.target.value}),placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Role"}),e.jsx("div",{className:"flex gap-3 mt-2",children:H.map(s=>e.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer transition-all ${a.role===s.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white text-gray-700 hover:border-blue-300"}`,children:[e.jsx(s.icon,{className:"h-4 w-4"}),e.jsx("input",{type:"radio",name:"edit_role",value:s.value,checked:a.role===s.value,onChange:t=>l({...a,role:t.target.value}),className:"hidden"}),s.label]},s.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit_is_active",children:"Active Status"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable this user account"})]}),e.jsx(I,{id:"edit_is_active",checked:a.is_active,onCheckedChange:s=>l({...a,is_active:s})})]}),e.jsxs(F,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:h,children:"Cancel"}),e.jsx(i,{type:"submit",disabled:h,className:"gap-2",children:h?"Updating...":"Update User"})]})]})]})}),e.jsx(S,{open:ee,onOpenChange:y,children:e.jsxs(_,{className:"max-w-2xl",children:[e.jsxs(k,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-blue-600"}),"User Profile"]}),e.jsxs(E,{children:["View detailed information about ",r==null?void 0:r.name,"'s account and professional profile."]})]}),r&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:B(r.name)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:r.name}),e.jsx("p",{className:"text-gray-600",children:r.email}),e.jsx(A,{className:`${V[r.role]} mt-2`,children:r.role.replace("_"," ").toUpperCase()})]})]})}),e.jsx(F,{children:e.jsx(i,{variant:"outline",onClick:()=>y(!1),children:"Close"})})]})})]})}export{Ns as default};
