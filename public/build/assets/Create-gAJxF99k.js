import{q as G,v as Y,r as k,j as e,$ as Q}from"./app-39CltzEZ.js";import{A as X}from"./AuthenticatedLayout-DAIL1WSW.js";import{C as g,a as j,b as f,c as N}from"./card-BLkHE8sY.js";import{B as P}from"./button-DZ_gML5Q.js";import{I as y}from"./input-CcAhDJhh.js";import{L as n}from"./label-Bg6684iw.js";import{T as z}from"./textarea-Dvg3DEqo.js";import{S as o,a as x,b as h,c as u,d as p}from"./select-BYMhtYx4.js";import{B as M}from"./badge-C-fT_-Vh.js";import{D as J}from"./dollar-sign-DQvL8DQu.js";import{A as K}from"./arrow-left-D6PCTDta.js";import{R as W}from"./receipt-gAmYdl48.js";import{U as Z}from"./user-D35wEu3C.js";import{C as c}from"./circle-alert-D2uNRAFV.js";import{S as ee}from"./stethoscope-D2JWLnHx.js";import{C as te}from"./calendar-BbVrfnTN.js";import{C as A}from"./credit-card-l_US62bM.js";import{B as se}from"./banknote-D0AkFKGW.js";import{S as ae}from"./shield-check-Bpp-8OEe.js";import{C as R}from"./loader-circle-BAcDSp6x.js";import{B as re}from"./building-Bo2HufwO.js";import{F as le}from"./file-text-FuBW91uK.js";import{T as ne}from"./trending-up-BDvcMIUS.js";import{C as b}from"./circle-check-D7fF5ZCX.js";import{S as ce}from"./save-DzbHm-B7.js";import{X as ie}from"./x-CqBn5iPF.js";import"./index-_tIDeRDz.js";import"./layout-dashboard-Dp9LfgaF.js";import"./createLucideIcon-xeUr5X85.js";import"./users-dGa3C9VZ.js";import"./clock-BBc8nnP2.js";import"./scissors-BOi86H-6.js";import"./chevron-right-CWYJv26h.js";import"./shield-GvYRLlTB.js";import"./SiteHeader-DtlqUCBU.js";import"./index-CFS1jKyZ.js";import"./crown-C5pvfQnJ.js";import"./zap-C5ILOiJW.js";import"./circle-check-big-CimBC4wv.js";import"./info-ZkN8-IGL.js";import"./circle-x-C4YgnnCA.js";import"./building-2-BeTWUnmZ.js";import"./triangle-alert-BjwR-vki.js";import"./index-4Ki7rgkc.js";import"./index-BAONOB1_.js";import"./index-DZw1oBW6.js";function tt({auth:F,patients:v,treatments:w}){const{url:U}=G(),C=new URLSearchParams(U.split("?")[1]),{data:s,setData:r,post:$,processing:T,errors:a}=Y({patient_id:"",treatment_id:"",amount:"",payment_date:new Date().toISOString().split("T")[0],payment_method:"",status:"completed",reference_number:"",notes:"",category:"",currency:"PHP",gcash_reference:""}),[_,D]=k.useState(null),[S,B]=k.useState(null);k.useEffect(()=>{const t=C.get("treatment_id"),l=C.get("patient_id"),d=C.get("amount");if(t){r("treatment_id",t);const i=w.find(m=>m.id.toString()===t);i&&B(i)}if(l){r("patient_id",l);const i=v.find(m=>m.id.toString()===l);i&&D(i)}if(d&&r("amount",d),!s.reference_number){const i=new Date().toISOString().slice(0,10).replace(/-/g,""),m=Math.floor(Math.random()*1e3).toString().padStart(3,"0");r("reference_number",`PAY-${i}-${m}`)}},[]);const I=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t||0),E=t=>{r("patient_id",t);const l=v.find(d=>d.id.toString()===t);if(D(l),!s.reference_number){const d=new Date().toISOString().slice(0,10).replace(/-/g,""),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");r("reference_number",`PAY-${d}-${i}`)}},L=t=>{r("treatment_id",t);const l=w.find(d=>d.id.toString()===t);B(l),l&&l.cost&&!s.amount&&r("amount",l.cost.toString())},V=t=>{var l;t.preventDefault(),$(route("clinic.payments.store",{clinic:(l=F.clinic)==null?void 0:l.id}))},H=[{value:"cash",label:"Cash",icon:se,color:"text-green-500"},{value:"credit_card",label:"Credit Card",icon:A,color:"text-blue-500"},{value:"debit_card",label:"Debit Card",icon:A,color:"text-blue-500"},{value:"insurance",label:"Insurance",icon:ae,color:"text-purple-500"},{value:"gcash",label:"GCash",icon:R,color:"text-blue-400"},{value:"bank_transfer",label:"Bank Transfer",icon:re,color:"text-indigo-500"},{value:"check",label:"Check",icon:le,color:"text-orange-500"},{value:"other",label:"Other",icon:R,color:"text-gray-400"}],O=[{value:"consultation",label:"Consultation"},{value:"treatment",label:"Treatment"},{value:"medication",label:"Medication"},{value:"laboratory",label:"Laboratory"},{value:"imaging",label:"Imaging"},{value:"surgery",label:"Surgery"},{value:"emergency",label:"Emergency"},{value:"other",label:"Other"}],q=[{value:"completed",label:"Completed",color:"bg-green-100 text-green-700"},{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-700"},{value:"failed",label:"Failed",color:"bg-red-100 text-red-700"},{value:"refunded",label:"Refunded",color:"bg-gray-100 text-gray-700"},{value:"cancelled",label:"Cancelled",color:"bg-red-100 text-red-700"}];return e.jsxs(X,{auth:F,children:[e.jsx(Q,{title:"Create Payment"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-150 to-cyan-100 rounded-t-lg mx-0 pt-4 shadow-2xl border border-blue-200/50 border-t border-t-blue-200",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 mx-5 mb-6 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full translate-y-8 -translate-x-8"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-white/3 rounded-full -translate-y-8 -translate-x-8"}),e.jsx("div",{className:"relative px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/25 rounded-2xl backdrop-blur-sm border border-white/40 shadow-lg",children:e.jsx(J,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Create Payment"}),e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Add a new payment record to the system"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(P,{onClick:()=>window.history.back(),variant:"outline",className:"gap-2 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm px-4 py-2 rounded-lg transition-all duration-300",children:[e.jsx(K,{className:"h-4 w-4"}),"Back"]})})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-8 mt-8 pb-16",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-8",children:[e.jsxs(g,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[e.jsx(j,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(W,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(f,{className:"text-xl font-bold text-gray-900",children:"Payment Details"}),e.jsx("p",{className:"text-base text-gray-600",children:"Essential payment information"})]})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"patient_id",className:"text-base font-medium text-gray-700 mb-3 block",children:"Patient *"}),e.jsxs(o,{value:s.patient_id,onValueChange:E,children:[e.jsx(x,{className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl",children:e.jsx(h,{placeholder:"Select patient"})}),e.jsx(u,{children:v.map(t=>e.jsx(p,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-400"}),t.name]})},t.id))})]}),a.patient_id&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.patient_id]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"treatment_id",className:"text-base font-medium text-gray-700 mb-3 block",children:"Treatment"}),e.jsxs(o,{value:s.treatment_id,onValueChange:L,children:[e.jsx(x,{className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl",children:e.jsx(h,{placeholder:"Select treatment (optional)"})}),e.jsx(u,{children:w.map(t=>e.jsx(p,{value:t.id.toString(),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),t.name,t.cost&&e.jsx(M,{variant:"outline",className:"ml-auto",children:I(t.cost)})]})},t.id))})]}),a.treatment_id&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.treatment_id]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"amount",className:"text-base font-medium text-gray-700 mb-3 block",children:"Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium",children:"â‚±"}),e.jsx(y,{id:"amount",type:"number",step:"0.01",value:s.amount,onChange:t=>r("amount",t.target.value),className:"h-14 pl-8 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl text-base",placeholder:"0.00",required:!0})]}),a.amount&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.amount]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"payment_date",className:"text-base font-medium text-gray-700 mb-3 block",children:"Payment Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(y,{id:"payment_date",type:"date",value:s.payment_date,onChange:t=>r("payment_date",t.target.value),className:"h-14 pl-10 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl text-base",required:!0})]}),a.payment_date&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.payment_date]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",className:"text-base font-medium text-gray-700 mb-3 block",children:"Category"}),e.jsxs(o,{value:s.category,onValueChange:t=>r("category",t),children:[e.jsx(x,{className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl",children:e.jsx(h,{placeholder:"Select category"})}),e.jsx(u,{children:O.map(t=>e.jsx(p,{value:t.value,children:t.label},t.value))})]}),a.category&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.category]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"reference_number",className:"text-base font-medium text-gray-700 mb-3 block",children:"Reference Number"}),e.jsx(y,{id:"reference_number",type:"text",value:s.reference_number,onChange:t=>r("reference_number",t.target.value),className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl text-base",placeholder:"Auto-generated if empty"}),a.reference_number&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.reference_number]})]})]})]})]}),e.jsxs(g,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[e.jsx(j,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(f,{className:"text-xl font-bold text-gray-900",children:"Payment Method & Status"}),e.jsx("p",{className:"text-base text-gray-600",children:"How and when the payment was made"})]})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"payment_method",className:"text-base font-medium text-gray-700 mb-3 block",children:"Payment Method *"}),e.jsxs(o,{value:s.payment_method,onValueChange:t=>r("payment_method",t),children:[e.jsx(x,{className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl",children:e.jsx(h,{placeholder:"Select payment method"})}),e.jsx(u,{children:H.map(t=>{const l=t.icon;return e.jsx(p,{value:t.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:`h-4 w-4 ${t.color}`}),t.label]})},t.value)})})]}),a.payment_method&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.payment_method]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",className:"text-base font-medium text-gray-700 mb-3 block",children:"Payment Status *"}),e.jsxs(o,{value:s.status,onValueChange:t=>r("status",t),children:[e.jsx(x,{className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl",children:e.jsx(h,{placeholder:"Select status"})}),e.jsx(u,{children:q.map(t=>e.jsx(p,{value:t.value,children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(M,{className:t.color,children:t.label})})},t.value))})]}),a.status&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.status]})]})]}),s.payment_method==="gcash"&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"gcash_reference",className:"text-base font-medium text-gray-700 mb-3 block",children:"GCash Reference Number"}),e.jsx(y,{id:"gcash_reference",type:"text",value:s.gcash_reference,onChange:t=>r("gcash_reference",t.target.value),className:"h-14 border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl text-base",placeholder:"Enter GCash reference number"}),a.gcash_reference&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.gcash_reference]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"notes",className:"text-base font-medium text-gray-700 mb-3 block",children:"Additional Notes"}),e.jsx(z,{id:"notes",value:s.notes,onChange:t=>r("notes",t.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl text-base",rows:4,placeholder:"Add any additional notes or comments about this payment..."}),a.notes&&e.jsxs("div",{className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),a.notes]})]})]})]})]}),e.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[e.jsxs(g,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[e.jsx(j,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ne,{className:"h-5 w-5 text-green-600"})}),e.jsx(f,{className:"text-lg font-bold text-gray-900",children:"Payment Summary"})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Patient:"}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:(_==null?void 0:_.name)||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Treatment:"}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:(S==null?void 0:S.name)||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Amount:"}),e.jsx("span",{className:"font-semibold text-green-600 text-lg",children:I(s.amount)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Method:"}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:s.payment_method?s.payment_method.replace("_"," ").replace(/\b\w/g,t=>t.toUpperCase()):"Not selected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Status:"}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:s.status?s.status.charAt(0).toUpperCase()+s.status.slice(1):"Not selected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Date:"}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:s.payment_date?new Date(s.payment_date).toLocaleDateString():"Not selected"})]})]})]}),e.jsxs(g,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[e.jsx(j,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(b,{className:"h-5 w-5 text-blue-600"})}),e.jsx(f,{className:"text-lg font-bold text-gray-900",children:"Quick Tips"})]})}),e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Patient and amount are required fields"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Reference number helps with tracking"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Select appropriate payment status"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Add notes for better record keeping"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(P,{type:"submit",disabled:T||!s.patient_id||!s.amount,onClick:V,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-medium text-base",children:[e.jsx(ce,{className:"h-5 w-5 mr-2"}),T?"Creating...":"Create Payment"]}),e.jsxs(P,{type:"button",variant:"outline",onClick:()=>window.history.back(),className:"w-full py-4 rounded-xl text-base",children:[e.jsx(ie,{className:"h-5 w-5 mr-2"}),"Cancel"]})]})]})]})})]})]})}export{tt as default};
