import{r as C,v as z,j as e,$ as R,Y as S}from"./app-C8kdbIfg.js";import{A as Q,D,w as V,b as H,c as K,d as Y,e as X,g as G}from"./AuthenticatedLayout-Cx6WDh0A.js";import{C as l,c as o,a as p,b as g}from"./card-m9OyGp2W.js";import{B as c}from"./button-CtBDG8qG.js";import{B as J}from"./badge-CO41UzeS.js";import{I as q}from"./input-CN750S7f.js";import{L as t}from"./label-0ZC4nNzA.js";import"./separator--I34ukKJ.js";import"./table-AlgjwaNk.js";import{P as _}from"./scissors-CttdPSXS.js";import{A as W}from"./activity-Ba9uhVRY.js";import{S as Z}from"./square-pen-BgcWqeR0.js";import{A as ee}from"./arrow-left-BD4LdG_T.js";import{D as u}from"./dollar-sign-CFER_2Rp.js";import{C as $}from"./circle-alert-C34v1n4l.js";import{c as se}from"./createLucideIcon-DmdO-xBx.js";import{M as te}from"./map-pin-Cu-r_JUm.js";import{B as A}from"./building-Bvaun4WD.js";import{U as re}from"./user-Bvu1xyV6.js";import{M as ae}from"./mail-K-4uYH6b.js";import{P as ie}from"./phone-CA-ApDBZ.js";import{P as le}from"./plus-BfBdzVhQ.js";import{M as oe}from"./minus-C72FH3gY.js";import{C as M}from"./circle-x-Bdkhn-X7.js";import{T as I}from"./triangle-alert-CJUA_boL.js";import{C as P}from"./circle-check-big-DnVHWdap.js";import{T as ce}from"./timer-egqFQ5Ly.js";import{f as ne}from"./format-CYZdy3_o.js";import"./index-Cs505U2P.js";import"./layout-dashboard-DoCe2Bsw.js";import"./users-BvixR2vM.js";import"./calendar-TWGUMU6x.js";import"./clock-BXHeeKiP.js";import"./stethoscope-C-0Z68Vf.js";import"./chevron-right-Dgi3VfDJ.js";import"./shield-CLuEZxxw.js";import"./trending-up-DCRNnnkh.js";import"./loader-circle-jGSMuC9r.js";import"./SiteHeader-CK-PGA_T.js";import"./index-DHbohzxi.js";import"./x-D7X-cAQx.js";import"./crown-BWorveNA.js";import"./zap-D7xPC3Ww.js";import"./info-CzTE822e.js";import"./building-2-C1oEGBDy.js";import"./file-text-DoyO5FpF.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],me=se("barcode",de);function is({auth:T,clinic:h,inventory:s,transactions:xe=[]}){var v,k;const[j,d]=C.useState(!1),[m,b]=C.useState("in"),{data:n,setData:f,post:B,processing:N,reset:E}=z({quantity:"",notes:"",type:"adjustment"}),F=()=>s.quantity<=0?{label:"Out of Stock",color:"destructive",icon:M}:s.quantity<=s.minimum_quantity?{label:"Low Stock",color:"warning",icon:I}:{label:"In Stock",color:"success",icon:P},O=()=>{if(!s.expiry_date)return{label:"No Expiry",color:"default",icon:ce};const i=new Date(s.expiry_date),x=new Date,L=new Date(x.getTime()+30*24*60*60*1e3);return i<=x?{label:"Expired",color:"destructive",icon:M}:i<=L?{label:"Expiring Soon",color:"warning",icon:I}:{label:"Valid",color:"success",icon:P}},U=i=>{i.preventDefault();const x={...n,inventory_id:s.id,quantity_before:s.quantity,quantity_after:m==="in"?s.quantity+parseInt(n.quantity):s.quantity-parseInt(n.quantity)};B(route("clinic.inventory.adjust-quantity",[h.id,s.id]),{data:x,onSuccess:()=>{d(!1),E()}})},r=F(),a=O(),w=r.icon,y=a.icon;return e.jsxs(Q,{auth:T,children:[e.jsx(R,{title:`${s.name} - Inventory Details`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50",children:[e.jsx("div",{className:"pt-4 pb-2",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-cyan-600 rounded-2xl shadow-2xl backdrop-blur-sm border border-white/20",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-xl border border-white/30",children:e.jsx(_,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-sm",children:s.name}),e.jsxs("p",{className:"text-sm text-blue-100 font-medium",children:[(v=s.category)==null?void 0:v.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())," ","â€¢ SKU:"," ",s.sku||"N/A"]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{open:j,onOpenChange:d,children:e.jsx(V,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",className:"border-white/50 text-white hover:bg-white/30 backdrop-blur-sm bg-white/10",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Adjust Stock"]})})}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,className:"border-white/50 text-white hover:bg-white/30 backdrop-blur-sm bg-white/10",children:e.jsxs(S,{href:route("clinic.inventory.edit",[h.id,s.id]),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,className:"border-white/50 text-white hover:bg-white/30 backdrop-blur-sm bg-white/10",children:e.jsxs(S,{href:route("clinic.inventory.index",[h.id]),children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Back to Inventory"]})})]})]})})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{className:`border-0 shadow-xl hover:shadow-2xl transition-all duration-300 group ${r.color==="destructive"?"bg-gradient-to-br from-red-50 to-pink-100":r.color==="warning"?"bg-gradient-to-br from-amber-50 to-orange-100":"bg-gradient-to-br from-emerald-50 to-green-100"}`,children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold mb-1 ${r.color==="destructive"?"text-red-700":r.color==="warning"?"text-amber-700":"text-emerald-700"}`,children:"Stock Status"}),e.jsx("p",{className:`text-3xl font-bold ${r.color==="destructive"?"text-red-900":r.color==="warning"?"text-amber-900":"text-emerald-900"}`,children:s.quantity}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(w,{className:`h-4 w-4 mr-1 ${r.color==="destructive"?"text-red-500":r.color==="warning"?"text-amber-500":"text-emerald-500"}`}),e.jsx("span",{className:`text-sm font-medium ${r.color==="destructive"?"text-red-600":r.color==="warning"?"text-amber-600":"text-emerald-600"}`,children:r.label})]})]}),e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg ${r.color==="destructive"?"bg-gradient-to-br from-red-500 to-pink-600":r.color==="warning"?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-emerald-500 to-green-600"}`,children:e.jsx(w,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(l,{className:"border-0 shadow-xl bg-gradient-to-br from-blue-50 to-indigo-100 hover:shadow-2xl transition-all duration-300 group",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Total Value"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["$",(s.quantity*parseFloat(s.unit_price||0)).toFixed(2)]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(u,{className:"h-4 w-4 text-blue-500 mr-1"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Current worth"})]})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(u,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(l,{className:`border-0 shadow-xl hover:shadow-2xl transition-all duration-300 group ${a.color==="destructive"?"bg-gradient-to-br from-red-50 to-pink-100":a.color==="warning"?"bg-gradient-to-br from-amber-50 to-orange-100":"bg-gradient-to-br from-gray-50 to-slate-100"}`,children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold mb-1 ${a.color==="destructive"?"text-red-700":a.color==="warning"?"text-amber-700":"text-gray-700"}`,children:"Expiry Status"}),e.jsx("p",{className:`text-2xl font-bold ${a.color==="destructive"?"text-red-900":a.color==="warning"?"text-amber-900":"text-gray-900"}`,children:a.label}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(y,{className:`h-4 w-4 mr-1 ${a.color==="destructive"?"text-red-500":a.color==="warning"?"text-amber-500":"text-gray-500"}`}),e.jsx("span",{className:`text-sm font-medium ${a.color==="destructive"?"text-red-600":a.color==="warning"?"text-amber-600":"text-gray-600"}`,children:s.expiry_date?ne(new Date(s.expiry_date),"MMM dd, yyyy"):"No expiry date"})]})]}),e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg ${a.color==="destructive"?"bg-gradient-to-br from-red-500 to-pink-600":a.color==="warning"?"bg-gradient-to-br from-amber-500 to-orange-600":"bg-gradient-to-br from-gray-500 to-slate-600"}`,children:e.jsx(y,{className:"h-6 w-6 text-white"})})]})})}),e.jsx(l,{className:"border-0 shadow-xl bg-gradient-to-br from-purple-50 to-violet-100 hover:shadow-2xl transition-all duration-300 group",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-purple-700 mb-1",children:"Minimum Stock"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:s.minimum_quantity||0}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx($,{className:"h-4 w-4 text-purple-500 mr-1"}),e.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"Reorder threshold"})]})]}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx($,{className:"h-6 w-6 text-white"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(l,{className:"border-0 shadow-xl bg-white/95 backdrop-blur-sm",children:[e.jsx(p,{className:"pb-4 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(_,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(g,{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Item details and specifications"})]})]})}),e.jsxs(o,{className:"space-y-4 p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Name"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.name})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Category"}),e.jsx(J,{variant:"outline",className:"mt-1 bg-blue-50 text-blue-700 border-blue-200",children:(k=s.category)==null?void 0:k.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())})]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:s.description||"No description available"})]}),s.sku&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{className:"h-4 w-4 text-gray-500"}),e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"SKU:"}),e.jsx("p",{className:"text-sm font-mono text-gray-900",children:s.sku})]}),s.location&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-4 w-4 text-gray-500"}),e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Location:"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.location})]})]})]}),e.jsxs(l,{className:"border-0 shadow-xl bg-white/95 backdrop-blur-sm",children:[e.jsx(p,{className:"pb-4 bg-gradient-to-r from-emerald-50/50 to-green-50/50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(u,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(g,{className:"text-lg font-semibold text-gray-900",children:"Pricing Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Cost and pricing information"})]})]})}),e.jsxs(o,{className:"space-y-4 p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Unit Price"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-600 mt-1",children:["$",s.unit_price||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Total Value"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600 mt-1",children:["$",(s.quantity*parseFloat(s.unit_price||0)).toFixed(2)]})]})]}),s.cost_price&&e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Cost Price"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:["$",s.cost_price]})]}),s.selling_price&&e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Selling Price"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:["$",s.selling_price]})]})]})]}),e.jsxs(l,{className:"border-0 shadow-xl bg-white/95 backdrop-blur-sm",children:[e.jsx(p,{className:"pb-4 bg-gradient-to-r from-purple-50/50 to-violet-50/50 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(A,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx(g,{className:"text-lg font-semibold text-gray-900",children:"Supplier Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Supplier contact information"})]})]})}),e.jsx(o,{className:"space-y-4 p-6",children:s.supplier?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Supplier Name"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:s.supplier.name})]}),s.supplier.contact_person&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4 text-gray-500"}),e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Contact:"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.supplier.contact_person})]}),s.supplier.email&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-4 w-4 text-gray-500"}),e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Email:"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.supplier.email})]}),s.supplier.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-4 w-4 text-gray-500"}),e.jsx(t,{className:"text-sm font-semibold text-gray-700",children:"Phone:"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.supplier.phone})]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(A,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No supplier assigned"})]})})]})]}),e.jsx(D,{open:j,onOpenChange:d,children:e.jsxs(H,{className:"sm:max-w-md",children:[e.jsxs(K,{children:[e.jsx(Y,{children:"Adjust Stock Quantity"}),e.jsxs(X,{children:["Current stock:"," ",e.jsx("strong",{children:s.quantity})," units"]})]}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(c,{type:"button",variant:m==="in"?"default":"outline",onClick:()=>b("in"),className:"flex items-center justify-center space-x-2",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Stock In"})]}),e.jsxs(c,{type:"button",variant:m==="out"?"default":"outline",onClick:()=>b("out"),className:"flex items-center justify-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{children:"Stock Out"})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"quantity",children:"Quantity"}),e.jsx(q,{id:"quantity",type:"number",value:n.quantity,onChange:i=>f("quantity",i.target.value),min:"1",required:!0,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(q,{id:"notes",value:n.notes,onChange:i=>f("notes",i.target.value),placeholder:"Reason for adjustment...",className:"mt-1"})]}),e.jsxs(G,{children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(c,{type:"submit",disabled:N,children:N?"Adjusting...":`${m==="in"?"Add":"Remove"} Stock`})]})]})]})})]})]})]})}export{is as default};
