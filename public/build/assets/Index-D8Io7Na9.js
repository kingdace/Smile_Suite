import{r as i,j as e,$ as ce,m as L,a as C}from"./app-COgprWRc.js";import{A as me,B as ue,a as g,D as xe,b as he,c as pe,d as be,e as ge}from"./AuthenticatedLayout-dRy-4ZNL.js";import{C as V,c as q,a as fe,b as je}from"./card-Cds0mozr.js";import{B as f}from"./badge-CEixDjMh.js";import{B as o}from"./button-C4x32toX.js";import{I as ve}from"./input-CRK1qwfu.js";import{L as u}from"./label-CTNxxOq2.js";import{T as Ne}from"./textarea-CpzJVOns.js";import{U as E}from"./users-B4ViSBmW.js";import{C as X}from"./circle-check-big-BEuPoBvy.js";import{S as Y}from"./star-CsgsJnNA.js";import{C as J}from"./clock-BraSIhTw.js";import{C as S}from"./circle-x-DtgngRz6.js";import{T as we}from"./triangle-alert-CmgfC4Xa.js";import{S as ye}from"./shield-D4m3gq8y.js";import{Z as _e}from"./zap-CDqFRYPk.js";import{R as P}from"./refresh-cw-DSPCpcyq.js";import{A as Ce}from"./activity-CoYsyIWu.js";import{S as Se}from"./search-CfF8SCFL.js";import{F as ke}from"./funnel-BX-WsGEt.js";import{c as K}from"./createLucideIcon-D0PSxBrC.js";import{P as Q}from"./play-BmBXbclP.js";import{S as De}from"./settings-cqR8eA_h.js";import{E as W}from"./eye-bgxnOJDp.js";import{D as Ae}from"./dollar-sign-DezZlbBG.js";import{B as Te}from"./building-D7VEyvzN.js";import{R as Le}from"./rocket-CPABUGNC.js";import{C as Ee}from"./crown-CNoFtN5r.js";import{T as ee}from"./target-BuDpfgi6.js";import"./index-kSaTWtOi.js";import"./layout-dashboard-DkARQqpT.js";import"./calendar-DTUZZUoj.js";import"./stethoscope-CbVKrnQ4.js";import"./scissors-sHvigQVN.js";import"./chevron-right-BBfU1Lxm.js";import"./trending-up-3gLa3GYu.js";import"./circle-alert-DCUkzB6T.js";import"./loader-circle-BYoX5k2w.js";import"./SiteHeader-CDBukgQi.js";import"./index-Chr4fCpz.js";import"./user-CKZ_iwGK.js";import"./x-tpI0RCzt.js";import"./info-Div9PQlp.js";import"./building-2-DowVwInN.js";import"./file-text-BTyeLFET.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j=K("chevron-up",Pe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Re=K("gem",Fe),Oe={active:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border-green-200 shadow-green-100",trial:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-700 border-blue-200 shadow-blue-100",grace_period:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-700 border-yellow-200 shadow-yellow-100",suspended:"bg-gradient-to-r from-red-100 to-pink-100 text-red-700 border-red-200 shadow-red-100",inactive:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-700 border-gray-200 shadow-gray-100"},Ue={active:X,trial:Y,grace_period:J,suspended:S,inactive:S},$e={basic:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-700 border-blue-200 shadow-blue-100",premium:"bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 border-purple-200 shadow-purple-100",enterprise:"bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 border-emerald-200 shadow-emerald-100"},Be={basic:ee,premium:Ee,enterprise:Re};function Ls({auth:se,stats:x,clinics:F}){const[v,N]=i.useState(!1),[h,w]=i.useState(!1),[k,R]=i.useState(""),[D,O]=i.useState("all"),[A,U]=i.useState("all"),[d,$]=i.useState("name"),[c,T]=i.useState("asc"),[B,te]=i.useState(new Set),[re,y]=i.useState(!1),[p,I]=i.useState(null),[a,n]=i.useState({subscription_status:"active",reason:"",extend_days:0,extend_hours:0,extend_minutes:0,testing_mode:!1}),z=async s=>{w(!0);try{await C.post(route("admin.subscriptions.check-status",s)),window.location.reload()}catch(t){console.error("Failed to check status:",t)}w(!1)},M=async s=>{N(!0);try{await C.post(route("admin.subscriptions.start-trial",s)),window.location.reload()}catch(t){console.error("Failed to start trial:",t)}N(!1)},ae=async()=>{w(!0);try{await C.post(route("admin.subscriptions.check-expirations")),window.location.reload()}catch(s){console.error("Failed to run console command:",s)}w(!1)},oe=async()=>{if(p){N(!0);try{await C.post(route("admin.subscriptions.override-status",p.id),a),y(!1),I(null),n({subscription_status:"active",reason:"",extend_days:0,extend_hours:0,extend_minutes:0,testing_mode:!1}),window.location.reload()}catch(s){console.error("Failed to override status:",s)}N(!1)}},le=s=>{I(s),n({subscription_status:s.subscription_status,reason:"",extend_days:0,extend_hours:0,extend_minutes:0,testing_mode:!1}),y(!0)},ne=s=>{const t=new Set(B);t.has(s)?t.delete(s):t.add(s),te(t)},_=s=>{d===s?T(c==="asc"?"desc":"asc"):($(s),T("asc"))},Z=F.filter(s=>{const t=s.name.toLowerCase().includes(k.toLowerCase())||s.email.toLowerCase().includes(k.toLowerCase()),r=D==="all"||s.subscription_status===D,l=A==="all"||s.subscription_plan===A;return t&&r&&l}).sort((s,t)=>{let r,l;switch(d){case"name":r=s.name.toLowerCase(),l=t.name.toLowerCase();break;case"status":r=s.subscription_status,l=t.subscription_status;break;case"plan":r=s.subscription_plan,l=t.subscription_plan;break;case"expiry":r=s.subscription_end_date||new Date(0),l=t.subscription_end_date||new Date(0);break;case"users":r=s.users_count||0,l=t.users_count||0;break;default:r=s.name.toLowerCase(),l=t.name.toLowerCase()}return c==="asc"?r>l?1:-1:r<l?1:-1}),b=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ie=s=>s?Math.ceil((new Date(s)-new Date)/(1e3*60*60*24)):null,H=s=>{const t=Ue[s]||S;return e.jsxs(f,{className:`${Oe[s]} flex items-center gap-1 shadow-lg`,children:[e.jsx(t,{className:"w-3 h-3"}),s.charAt(0).toUpperCase()+s.slice(1)]})},G=s=>{const t=Be[s]||ee;return e.jsxs(f,{className:`${$e[s]} flex items-center gap-1 shadow-lg`,children:[e.jsx(t,{className:"w-3 h-3"}),s.charAt(0).toUpperCase()+s.slice(1)]})},de=[{title:"Total Clinics",value:x.total_clinics,icon:E,color:"text-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-cyan-600",gradient:"from-blue-500 to-cyan-600",description:"All registered clinics"},{title:"Active Subscriptions",value:x.active_subscriptions,icon:X,color:"text-green-600",bgColor:"bg-gradient-to-br from-green-500 to-emerald-600",gradient:"from-green-500 to-emerald-600",description:"Fully active subscriptions"},{title:"Trial Clinics",value:x.trial_clinics,icon:Y,color:"text-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-indigo-600",gradient:"from-blue-500 to-indigo-600",description:"In 14-day trial period"},{title:"Grace Period",value:x.grace_period,icon:J,color:"text-yellow-600",bgColor:"bg-gradient-to-br from-yellow-500 to-orange-600",gradient:"from-yellow-500 to-orange-600",description:"7-day grace period"},{title:"Suspended",value:x.suspended,icon:S,color:"text-red-600",bgColor:"bg-gradient-to-br from-red-500 to-pink-600",gradient:"from-red-500 to-pink-600",description:"Past grace period"},{title:"Expiring Soon",value:x.expiring_soon,icon:we,color:"text-orange-600",bgColor:"bg-gradient-to-br from-orange-500 to-red-600",gradient:"from-orange-500 to-red-600",description:"Within 7 days"}];return e.jsxs(me,{auth:se,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Subscription Management"}),children:[e.jsx(ce,{title:"Subscription Management - Smile Suite"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur-sm overflow-hidden shadow-xl sm:rounded-2xl border border-blue-200/50",children:e.jsx("div",{className:"p-6 text-gray-900",children:e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(ye,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Subscription Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Monitor and manage clinic subscriptions with advanced controls"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>L.visit(route("admin.subscription-requests.index")),className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105 text-sm flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"View Requests"]}),e.jsxs("button",{onClick:ae,disabled:h,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105 text-sm flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4"}),"Check Expirations"]}),e.jsxs("button",{onClick:()=>window.location.reload(),disabled:h,className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105 text-sm flex items-center gap-2",children:[e.jsx(P,{className:`w-4 h-4 ${h?"animate-spin":""}`}),"Refresh"]})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 mt-8",children:de.map((s,t)=>e.jsx(V,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm hover:shadow-3xl transform hover:scale-105 transition-all duration-300",children:e.jsx(q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:s.title}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:s.value}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.description})]}),e.jsx("div",{className:`w-16 h-16 ${s.bgColor} rounded-2xl flex items-center justify-center shadow-lg transform hover:rotate-12 transition-transform duration-300`,children:e.jsx(s.icon,{className:"w-8 h-8 text-white"})})]})})},t))}),e.jsxs(V,{className:"shadow-2xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(fe,{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-blue-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(je,{className:"flex items-center gap-3 text-2xl",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ce,{className:"w-5 h-5 text-white"})}),"Clinic Subscriptions (",Z.length," of"," ",F.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:"Sort by:"}),e.jsxs("select",{value:`${d}-${c}`,onChange:s=>{const[t,r]=s.target.value.split("-");$(t),T(r)},className:"px-3 py-1 border-2 border-blue-200 rounded-lg text-xs bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),e.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),e.jsx("option",{value:"status-asc",children:"Status (A-Z)"}),e.jsx("option",{value:"status-desc",children:"Status (Z-A)"}),e.jsx("option",{value:"plan-asc",children:"Plan (A-Z)"}),e.jsx("option",{value:"plan-desc",children:"Plan (Z-A)"}),e.jsx("option",{value:"expiry-asc",children:"Expiry (Earliest)"}),e.jsx("option",{value:"expiry-desc",children:"Expiry (Latest)"}),e.jsx("option",{value:"users-asc",children:"Users (Low-High)"}),e.jsx("option",{value:"users-desc",children:"Users (High-Low)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(ve,{placeholder:"Search clinics...",value:k,onChange:s=>R(s.target.value),className:"pl-10 border-2 border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-xl"})]}),e.jsxs("select",{value:D,onChange:s=>O(s.target.value),className:"px-3 py-2 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"grace_period",children:"Grace Period"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsxs("select",{value:A,onChange:s=>U(s.target.value),className:"px-3 py-2 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",children:[e.jsx("option",{value:"all",children:"All Plans"}),e.jsx("option",{value:"basic",children:"Basic"}),e.jsx("option",{value:"premium",children:"Premium"}),e.jsx("option",{value:"enterprise",children:"Enterprise"})]}),e.jsxs(o,{onClick:()=>{R(""),O("all"),U("all")},variant:"outline",className:"border-2 border-blue-200 hover:bg-blue-50 text-blue-700 rounded-xl shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})]})]})}),e.jsx(q,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900",children:"Clinic"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900 cursor-pointer hover:bg-blue-100 transition-colors duration-200",onClick:()=>_("plan"),children:e.jsxs("div",{className:"flex items-center gap-1",children:["Plan",d==="plan"&&(c==="asc"?e.jsx(j,{className:"w-4 h-4"}):e.jsx(g,{className:"w-4 h-4"}))]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900 cursor-pointer hover:bg-blue-100 transition-colors duration-200",onClick:()=>_("status"),children:e.jsxs("div",{className:"flex items-center gap-1",children:["Status",d==="status"&&(c==="asc"?e.jsx(j,{className:"w-4 h-4"}):e.jsx(g,{className:"w-4 h-4"}))]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900 cursor-pointer hover:bg-blue-100 transition-colors duration-200",onClick:()=>_("expiry"),children:e.jsxs("div",{className:"flex items-center gap-1",children:["End Date",d==="expiry"&&(c==="asc"?e.jsx(j,{className:"w-4 h-4"}):e.jsx(g,{className:"w-4 h-4"}))]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900",children:"Days Left"}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900 cursor-pointer hover:bg-blue-100 transition-colors duration-200",onClick:()=>_("users"),children:e.jsxs("div",{className:"flex items-center gap-1",children:["Users",d==="users"&&(c==="asc"?e.jsx(j,{className:"w-4 h-4"}):e.jsx(g,{className:"w-4 h-4"}))]})}),e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-blue-900",children:"Actions"})]})}),e.jsx("tbody",{children:Z.map((s,t)=>{const r=ie(s.subscription_end_date),l=B.has(s.id);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:`border-b border-blue-100 hover:bg-gradient-to-r hover:from-blue-50 hover:to-cyan-50 cursor-pointer transition-all duration-300 ${t%2===0?"bg-white/50":"bg-blue-50/30"}`,onClick:()=>ne(s.id),children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx(j,{className:"w-5 h-5 text-blue-500"}):e.jsx(g,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[s.name,s.subscription_status==="trial"&&e.jsx(f,{className:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-700 border-blue-200 text-xs shadow-lg animate-pulse",children:"üéâ TRIAL"}),s.subscription_status==="grace_period"&&e.jsx(f,{className:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-700 border-yellow-200 text-xs shadow-lg animate-pulse",children:"‚è∞ GRACE"}),s.subscription_status==="suspended"&&e.jsx(f,{className:"bg-gradient-to-r from-red-100 to-pink-100 text-red-700 border-red-200 text-xs shadow-lg animate-pulse",children:"üî¥ SUSPENDED"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("td",{className:"py-4 px-6",children:G(s.subscription_plan)}),e.jsx("td",{className:"py-4 px-6",children:H(s.subscription_status)}),e.jsxs("td",{className:"py-4 px-6",children:[e.jsx("div",{className:"text-sm text-gray-900",children:b(s.subscription_end_date)}),s.trial_ends_at&&e.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Trial:"," ",b(s.trial_ends_at)]})]}),e.jsx("td",{className:"py-4 px-6",children:r!==null?e.jsx("div",{className:`text-sm font-bold px-3 py-2 rounded-xl shadow-md ${r<0?"text-red-700 bg-gradient-to-r from-red-100 to-pink-100 border border-red-200":r<=7?"text-yellow-700 bg-gradient-to-r from-yellow-100 to-orange-100 border border-yellow-200":"text-green-700 bg-gradient-to-r from-green-100 to-emerald-100 border border-green-200"}`,children:r<0?`${Math.abs(r)} days overdue`:r===0?"Expires today":`${r} days`}):e.jsx("span",{className:"text-gray-500 bg-gradient-to-r from-gray-100 to-slate-100 border border-gray-200 px-3 py-2 rounded-xl shadow-md",children:"N/A"})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm font-bold text-gray-700",children:s.users_count||0})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{size:"sm",variant:"outline",onClick:m=>{m.stopPropagation(),z(s.id)},disabled:h,className:"hover:bg-blue-50 border-blue-200 text-blue-700 hover:border-blue-300 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:e.jsx(P,{className:"w-3 h-3"})}),s.subscription_status==="inactive"&&e.jsxs(o,{size:"sm",onClick:m=>{m.stopPropagation(),M(s.id)},disabled:v,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),"Start Trial"]}),e.jsx(o,{size:"sm",variant:"outline",onClick:m=>{m.stopPropagation(),le(s)},className:"hover:bg-orange-50 border-orange-200 text-orange-700 hover:border-orange-300 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:e.jsx(De,{className:"w-3 h-3"})}),e.jsx(o,{size:"sm",variant:"outline",onClick:m=>{m.stopPropagation(),L.visit(route("admin.clinics.show",s.id))},className:"hover:bg-blue-50 border-blue-200 text-blue-700 hover:border-blue-300 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:e.jsx(W,{className:"w-3 h-3"})})]})})]},s.id),l&&e.jsx("tr",{className:"bg-gradient-to-r from-blue-50/50 to-cyan-50/50",children:e.jsx("td",{colSpan:"7",className:"px-6 py-4",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-xl border border-blue-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),"Subscription Details"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Plan:"}),G(s.subscription_plan)]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Status:"}),H(s.subscription_status)]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Start Date:"}),e.jsx("span",{className:"font-medium text-blue-900",children:b(s.subscription_start_date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"End Date:"}),e.jsx("span",{className:"font-medium text-blue-900",children:b(s.subscription_end_date)})]}),s.trial_ends_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Trial Ends:"}),e.jsx("span",{className:"font-medium text-blue-900",children:b(s.trial_ends_at)})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4"}),"Clinic Information"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Name:"}),e.jsx("span",{className:"font-medium text-blue-900",children:s.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Email:"}),e.jsx("span",{className:"font-medium text-blue-900",children:s.email})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-blue-600",children:"Users:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-3 h-3 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:s.users_count||0})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-600",children:"Active:"}),e.jsx("span",{className:`font-medium ${s.is_active?"text-green-600":"text-red-600"}`,children:s.is_active?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-4 border border-emerald-200",children:[e.jsxs("h4",{className:"font-bold text-emerald-900 mb-3 flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"}),"Quick Actions"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>L.visit(route("admin.clinics.show",s.id)),className:"w-full justify-start border-emerald-200 text-emerald-700 hover:bg-emerald-50 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[e.jsx(W,{className:"w-3 h-3 mr-2"}),"View Clinic Details"]}),e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>z(s.id),className:"w-full justify-start border-blue-200 text-blue-700 hover:bg-blue-50 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",disabled:h,children:[e.jsx(P,{className:"w-3 h-3 mr-2"}),"Check Status"]}),s.subscription_status==="inactive"&&e.jsxs(o,{size:"sm",onClick:()=>M(s.id),className:"w-full justify-start bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",disabled:v,children:[e.jsx(Q,{className:"w-3 h-3 mr-2"}),"Start Trial"]})]})]})]})})})},`${s.id}-expanded`)]})})})]})})})]})]})}),e.jsx(xe,{open:re,onOpenChange:y,children:e.jsxs(he,{className:"max-w-md",children:[e.jsxs(pe,{children:[e.jsx(be,{children:"Override Subscription Status"}),e.jsxs(ge,{children:["Change the subscription status for"," ",p==null?void 0:p.name]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"status",children:"Subscription Status"}),e.jsxs("select",{id:"status",value:a.subscription_status,onChange:s=>n({...a,subscription_status:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"grace_period",children:"Grace Period"}),e.jsx("option",{value:"suspended",children:"Suspended"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"extend_days",children:"Days"}),e.jsx("input",{id:"extend_days",type:"number",min:"0",max:"365",value:a.extend_days,onChange:s=>n({...a,extend_days:parseInt(s.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"extend_hours",children:"Hours"}),e.jsx("input",{id:"extend_hours",type:"number",min:"0",max:"23",value:a.extend_hours,onChange:s=>n({...a,extend_hours:parseInt(s.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"extend_minutes",children:"Minutes"}),e.jsx("input",{id:"extend_minutes",type:"number",min:"0",max:"59",value:a.extend_minutes,onChange:s=>n({...a,extend_minutes:parseInt(s.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx(u,{className:"text-sm text-gray-600 mb-2 block",children:"Quick Test Presets"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>n({...a,extend_days:0,extend_hours:0,extend_minutes:1,testing_mode:!0}),className:"text-xs",children:"1 Minute (Test)"}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>n({...a,extend_days:0,extend_hours:1,extend_minutes:0,testing_mode:!0}),className:"text-xs",children:"1 Hour (Test)"}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>n({...a,extend_days:1,extend_hours:0,extend_minutes:0,testing_mode:!0}),className:"text-xs",children:"1 Day (Test)"}),e.jsx(o,{type:"button",variant:"outline",size:"sm",onClick:()=>n({...a,extend_days:14,extend_hours:0,extend_minutes:0,testing_mode:!1}),className:"text-xs",children:"14 Days"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"testing_mode",checked:a.testing_mode,onChange:s=>n({...a,testing_mode:s.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx(u,{htmlFor:"testing_mode",className:"text-sm",children:"Testing Mode (Allows short durations without auto-suspension)"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"reason",children:"Reason (Optional)"}),e.jsx(Ne,{id:"reason",value:a.reason,onChange:s=>n({...a,reason:s.target.value}),placeholder:"Reason for status change...",className:"w-full",rows:3})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(o,{onClick:oe,disabled:v,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:v?"Updating...":"Update Status"}),e.jsx(o,{variant:"outline",onClick:()=>y(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})}export{Ls as default};
