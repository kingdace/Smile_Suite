import{r as w,j as e,$ as pe,Y as R,m as ce}from"./app-DzAKanfO.js";import{B as c}from"./button-BaVC9LH_.js";import"./card-DxaUQxDk.js";import{B as I}from"./badge-B04ULXSU.js";import{S as xe}from"./loading-DE0e9oTw.js";import"./progress-BUHcyU8i.js";import{S as ve}from"./SiteHeader-CAPZqMMC.js";import"./separator-DN6UWsUB.js";import{a as Y}from"./index-CpWIITha.js";import Ne from"./AppointmentDetailsModal-1ZLqoiCt.js";import ye from"./AppointmentCancellationModal-CMadVK4J.js";import Ce from"./AppointmentReschedulingModal-bu4HTqAd.js";import{C as me}from"./circle-check-big-DrY8pTua.js";import{L as Se}from"./layout-dashboard-DQdh_Wnw.js";import{U as F}from"./user-CeFybYqA.js";import{S as E}from"./stethoscope-CYcZ01Kt.js";import{B as De}from"./building-2-BeiXJ7gS.js";import{C as z}from"./calendar-CV3bSJAg.js";import{C as G}from"./clock-BFKTcZtX.js";import{C as V}from"./chevron-left-DT3fzAmS.js";import{C as P}from"./chevron-right-Cd3pwCjl.js";import{C as he}from"./chart-column-BkH3JJ1t.js";import{M as ge}from"./map-pin-CIstfWnD.js";import{F as ue}from"./file-text-6ldMNcS1.js";import{C as be}from"./circle-alert-CAXERVjX.js";import{C as ke}from"./circle-x-B-f6mQMh.js";import{E as W}from"./eye-BffSrLxH.js";import{P as fe}from"./plus-Dm41JqSz.js";import"./index-BY6aHjW5.js";import"./createLucideIcon-DZDivllp.js";import"./x-Brym1Brg.js";import"./phone-BCpjmzLD.js";import"./mail-DuQRInId.js";import"./triangle-alert-rUcjKeFs.js";const Ae=({appointments:t=[]})=>{const[d,x]=w.useState(!1),[a,i]=w.useState(!1),[m,f]=w.useState(!1),[g,r]=w.useState(null),[u,l]=w.useState(!1),[n,N]=w.useState(1),b=3,p=s=>{if(!s)return null;if(s.includes("Reschedule")||s.includes("BROAWS")){const _=(s.match(/Reschedule/g)||[]).length,M=s.match(/Reason: ([^.]+)/g),S=[];M&&M.forEach($=>{const j=$.replace("Reason: ","").trim();j&&!j.includes("BROAWS")&&!j.includes("qwe")&&!j.includes("No available slots")&&j.length>3&&S.push(j)});let D="📅 Rescheduled";if(_>1&&(D+=` (${_}x)`),S.length>0){const $=S[S.length-1];D+=` - ${$}`}return s.includes("approved by clinic")&&(D+=" ✅"),D}if(s.includes("denied by clinic"))return"❌ Reschedule request denied";if(s.includes("cancelled"))return"🚫 Appointment cancelled";const h=s.trim();return h.length>80?h.substring(0,80)+"...":h},y=s=>{switch(s==null?void 0:s.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"pending reschedule":return"bg-orange-100 text-orange-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},v=async s=>{r(s),l(!0),x(!0),l(!1)},C=s=>{r(s),i(!0)},o=s=>{r(s),f(!0)},B=async s=>{if(g){l(!0);try{ce.post(route("patient.appointments.cancel",g.id),{cancellation_reason:s},{onSuccess:()=>{i(!1),r(null)},onError:h=>{console.error("Cancellation failed:",h),l(!1)}})}catch(h){console.error("Cancellation error:",h),l(!1)}}},U=async s=>{if(g){l(!0);try{ce.post(route("patient.appointments.reschedule",g.id),s,{onSuccess:()=>{f(!1),r(null)},onError:h=>{console.error("Rescheduling failed:",h),l(!1)}})}catch(h){console.error("Rescheduling error:",h),l(!1)}}},L=()=>{x(!1),i(!1),f(!1),r(null),l(!1)},A=Math.ceil(t.length/b),O=(n-1)*b,je=O+b,we=t.slice(O,je),T=s=>{N(s)};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(z,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"My Appointments"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Your latest dental appointments (",t.length," total)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[A>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[n,"/",A]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>T(n-1),disabled:n===1,className:"w-6 h-6 p-0",children:e.jsx(V,{className:"w-3 h-3"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>T(n+1),disabled:n===A,className:"w-6 h-6 p-0",children:e.jsx(P,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(he,{className:"w-4 h-4 text-blue-600"})})]})]}),e.jsxs("div",{children:[t.length>0?e.jsx("div",{className:"space-y-4",children:we.map((s,h)=>{var _,M,S,D,$,j,q,H,X,J,K,Q,Z,ee,se,le,ae,re,te,ie,de,ne,oe;return e.jsx(xe,{direction:"up",delay:h*100,children:e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-200 p-6 hover:shadow-xl hover:border-blue-300 transition-all duration-300 group cursor-pointer shadow-lg",role:"article","aria-label":`Appointment at ${((_=s.clinic)==null?void 0:_.name)||"Clinic"} on ${new Date(s.scheduled_at).toLocaleDateString()}`,onClick:()=>v(s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:Y("w-4 h-4 rounded-full shadow-sm",((S=(M=s.status)==null?void 0:M.name)==null?void 0:S.toLowerCase())==="confirmed"||(($=(D=s.status)==null?void 0:D.name)==null?void 0:$.toLowerCase())==="pending"?"bg-blue-500":((q=(j=s.status)==null?void 0:j.name)==null?void 0:q.toLowerCase())==="completed"?"bg-green-500":"bg-red-500")}),e.jsx(I,{className:Y(y((H=s.status)==null?void 0:H.name),"px-3 py-1 text-sm font-semibold"),role:"status","aria-label":`Appointment status: ${((X=s.status)==null?void 0:X.name)||"Unknown"}`,children:((J=s.status)==null?void 0:J.name)||"Unknown"})]}),((K=s.status)==null?void 0:K.name)==="Pending Reschedule"&&e.jsx(I,{className:"text-xs font-bold px-3 py-1 rounded-full border bg-orange-100 text-orange-700 border-orange-300 shadow-sm",children:"Awaiting Clinic Response"}),((Q=s.status)==null?void 0:Q.name)==="Cancelled"&&s.cancelled_at&&e.jsx(I,{className:"text-xs font-bold px-3 py-1 rounded-full border bg-red-100 text-red-700 border-red-300 shadow-sm",children:"You Cancelled"})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-x-1",children:e.jsx(P,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden shadow-lg border-2 border-blue-200 hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx("img",{src:((Z=s.clinic)==null?void 0:Z.logo_url)||"/images/clinic-logo.png",alt:`${((ee=s.clinic)==null?void 0:ee.name)||"Clinic"} Logo`,className:"w-full h-full object-cover",onError:k=>{k.target.src="/images/clinic-logo.png"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-1",children:((se=s.clinic)==null?void 0:se.name)||"Dental Clinic"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ge,{className:"w-3 h-3 text-blue-500"}),e.jsx("p",{className:"text-xs line-clamp-1",children:((le=s.clinic)==null?void 0:le.street_address)||"Address not available"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 mb-4 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(z,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 text-base",children:new Date(s.scheduled_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(G,{className:"w-3 h-3 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:new Date(s.scheduled_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-purple-600",children:new Date(s.scheduled_at).getDate()}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:new Date(s.scheduled_at).toLocaleDateString("en-US",{month:"short"})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[s.dentist&&e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-md flex items-center justify-center",children:e.jsx(F,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Dentist"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Dr."," ",s.dentist.name]})]})]})}),s.reason&&e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:e.jsx(ue,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:s.reason})]})]})})]}),p(s.notes)&&e.jsx("div",{className:"bg-white rounded-lg p-3 mb-4 border border-yellow-200 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-md flex items-center justify-center",children:e.jsx(be,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-700 uppercase tracking-wide mb-1",children:"Notes"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p(s.notes)})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[((re=(ae=s.status)==null?void 0:ae.name)==null?void 0:re.toLowerCase())==="pending"&&e.jsxs(c,{size:"sm",variant:"outline",className:"flex items-center gap-1 px-3 py-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 rounded-lg text-xs font-semibold",onClick:k=>{k.stopPropagation(),C(s)},"aria-label":`Cancel appointment at ${((te=s.clinic)==null?void 0:te.name)||"Clinic"} on ${new Date(s.scheduled_at).toLocaleDateString()}`,children:[e.jsx(ke,{className:"w-3 h-3"}),"Cancel"]}),((de=(ie=s.status)==null?void 0:ie.name)==null?void 0:de.toLowerCase())==="confirmed"&&e.jsxs(c,{size:"sm",variant:"outline",className:"flex items-center gap-1 px-3 py-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-200 rounded-lg text-xs font-semibold",onClick:k=>{k.stopPropagation(),o(s)},"aria-label":`Reschedule appointment at ${((ne=s.clinic)==null?void 0:ne.name)||"Clinic"} on ${new Date(s.scheduled_at).toLocaleDateString()}`,children:[e.jsx(G,{className:"w-3 h-3"}),"Reschedule"]})]}),e.jsxs(c,{size:"sm",variant:"outline",className:"flex items-center gap-1 px-4 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 border-gray-200 rounded-lg text-xs font-semibold",onClick:k=>{k.stopPropagation(),v(s)},"aria-label":`View details for appointment at ${((oe=s.clinic)==null?void 0:oe.name)||"Clinic"} on ${new Date(s.scheduled_at).toLocaleDateString()}`,children:[e.jsx(W,{className:"w-3 h-3"}),"View Details"]})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(z,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:"No Appointments Yet"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6 max-w-md mx-auto",children:"Book your first appointment today to get started!"}),e.jsx(R,{href:"/clinics",children:e.jsxs(c,{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 px-6 py-3 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(fe,{className:"w-5 h-5"}),"Find Clinics"]})})]}),t.length>b&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Page ",n," of ",A]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>T(n-1),disabled:n===1,className:"h-7 px-2 text-xs",children:e.jsx(V,{className:"w-3 h-3"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:A},(s,h)=>h+1).map(s=>e.jsx(c,{variant:s===n?"default":"outline",size:"sm",onClick:()=>T(s),className:`w-6 h-6 p-0 text-xs ${s===n?"bg-blue-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:s},s))}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>T(n+1),disabled:n===A,className:"h-7 px-2 text-xs",children:e.jsx(P,{className:"w-3 h-3"})})]})]})})]}),e.jsx(Ne,{showModal:d,onClose:L,appointment:g,loading:u}),e.jsx(ye,{showModal:a,onClose:L,appointment:g,onConfirm:B,loading:u}),e.jsx(Ce,{showModal:m,onClose:L,appointment:g,onConfirm:U,loading:u})]})},$e=({treatments:t=[]})=>{const[d,x]=w.useState(1),a=3,i=l=>{switch(l==null?void 0:l.toLowerCase()){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},m=Math.ceil(((t==null?void 0:t.length)||0)/a),f=(d-1)*a,g=f+a,r=(t||[]).slice(f,g),u=l=>{x(l)};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(E,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Treatment History"}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Your dental treatment records (",(t==null?void 0:t.length)||0," total)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[m>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[d,"/",m]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>u(d-1),disabled:d===1,className:"w-6 h-6 p-0",children:e.jsx(V,{className:"w-3 h-3"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>u(d+1),disabled:d===m,className:"w-6 h-6 p-0",children:e.jsx(P,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"w-8 h-8 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(he,{className:"w-4 h-4 text-purple-600"})})]})]}),e.jsxs("div",{children:[((t==null?void 0:t.length)||0)>0?e.jsx("div",{className:"space-y-4",children:r.map((l,n)=>{var N,b,p,y,v,C,o,B,U;return e.jsx(xe,{direction:"up",delay:n*100,children:e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-200 p-6 hover:shadow-xl hover:border-purple-300 transition-all duration-300 group cursor-pointer shadow-lg",role:"article","aria-label":`Treatment: ${l.name||"Treatment"} at ${((N=l.clinic)==null?void 0:N.name)||"Clinic"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:Y("w-4 h-4 rounded-full shadow-sm",((b=l.status)==null?void 0:b.toLowerCase())==="completed"?"bg-green-500":((p=l.status)==null?void 0:p.toLowerCase())==="in_progress"?"bg-blue-500":((y=l.status)==null?void 0:y.toLowerCase())==="scheduled"?"bg-yellow-500":"bg-red-500")}),e.jsx(I,{className:Y(i(l.status),"px-3 py-1 text-sm font-semibold"),role:"status","aria-label":`Treatment status: ${l.status||"Unknown"}`,children:l.status||"Unknown"})]})}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-x-1",children:e.jsx(P,{className:"w-5 h-5 text-gray-400"})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden shadow-lg border-2 border-purple-200 hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx("img",{src:((v=l.clinic)==null?void 0:v.logo_url)||"/images/clinic-logo.png",alt:`${((C=l.clinic)==null?void 0:C.name)||"Clinic"} Logo`,className:"w-full h-full object-cover",onError:L=>{L.target.src="/images/clinic-logo.png"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-1",children:((o=l.clinic)==null?void 0:o.name)||"Dental Clinic"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ge,{className:"w-3 h-3 text-purple-500"}),e.jsx("p",{className:"text-xs line-clamp-1",children:((B=l.clinic)==null?void 0:B.street_address)||"Address not available"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-4 mb-4 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(E,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 text-base",children:l.name||"Dental Treatment"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ue,{className:"w-3 h-3 text-violet-500"}),e.jsx("span",{className:"text-sm font-medium",children:((U=l.service)==null?void 0:U.name)||"General Treatment"})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-violet-600",children:l.cost?`₱${l.cost.toLocaleString()}`:"N/A"}),e.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Cost"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[l.dentist&&e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-md flex items-center justify-center",children:e.jsx(F,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide",children:"Dentist"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["Dr."," ",l.dentist.name]})]})]})}),l.start_date&&e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:e.jsx(z,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide",children:"Date"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:new Date(l.start_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]})})]}),l.notes&&e.jsx("div",{className:"bg-white rounded-lg p-3 mb-4 border border-yellow-200 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-md flex items-center justify-center",children:e.jsx(be,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-yellow-700 uppercase tracking-wide mb-1",children:"Notes"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:l.notes})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200/50",children:[e.jsx("div",{className:"flex items-center gap-2",children:l.id&&l.id>0?e.jsx(R,{href:route("patient.treatments.show",l.id),children:e.jsxs(c,{size:"sm",variant:"outline",className:"flex items-center gap-1 px-4 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-50 border-gray-200 rounded-lg text-xs font-semibold","aria-label":`View details for treatment: ${l.name||"Treatment"}`,children:[e.jsx(W,{className:"w-3 h-3"}),"View Details"]})}):e.jsxs(c,{size:"sm",variant:"outline",className:"flex items-center gap-1 px-4 py-1.5 opacity-50 cursor-not-allowed text-xs font-semibold",disabled:!0,children:[e.jsx(W,{className:"w-3 h-3"}),"View Details"]})}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: #",l.id]})})]})]})},l.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-violet-100 to-purple-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(E,{className:"w-10 h-10 text-violet-600"})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:"No Treatments Yet"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6 max-w-md mx-auto",children:"Your treatment history will appear here after your first dental visit!"}),e.jsx(R,{href:"/clinics",children:e.jsxs(c,{className:"flex items-center gap-2 bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 px-6 py-3 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(fe,{className:"w-5 h-5"}),"Find Clinics"]})})]}),((t==null?void 0:t.length)||0)>a&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:["Page ",d," of ",m]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>u(d-1),disabled:d===1,className:"h-7 px-2 text-xs",children:e.jsx(V,{className:"w-3 h-3"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:m},(l,n)=>n+1).map(l=>e.jsx(c,{variant:l===d?"default":"outline",size:"sm",onClick:()=>u(l),className:`w-6 h-6 p-0 text-xs ${l===d?"bg-violet-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:l},l))}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>u(d+1),disabled:d===m,className:"h-7 px-2 text-xs",children:e.jsx(P,{className:"w-3 h-3"})})]})]})})]})]})},Pe=({appointments:t=[],treatments:d=[],clinicRecords:x=[],loading:a=!1})=>{const i=x.length,m=t.length,f=t.filter(r=>new Date(r.scheduled_at)>new Date).length,g=[{name:"Connected Clinics",value:i,icon:De,gradient:"from-emerald-50/90 via-white/80 to-teal-100/60",border:"border-emerald-200/50",iconBg:"from-emerald-500 to-teal-600",iconGlow:"from-emerald-400/30 to-teal-500/30",trend:"+2",trendText:"New",trendColor:"text-emerald-600"},{name:"Total Appointments",value:m,icon:z,gradient:"from-orange-50/90 via-white/80 to-amber-100/60",border:"border-orange-200/50",iconBg:"from-orange-500 to-amber-600",iconGlow:"from-orange-400/30 to-amber-500/30",trend:"Active",trendText:"Active",trendColor:"text-orange-600"},{name:"Upcoming",value:f,icon:G,gradient:"from-rose-50/90 via-white/80 to-pink-100/60",border:"border-rose-200/50",iconBg:"from-rose-500 to-pink-600",iconGlow:"from-rose-400/30 to-pink-500/30",trend:"Soon",trendText:"Soon",trendColor:"text-rose-600"}];return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6",role:"region","aria-label":"Statistics overview",children:g.map(r=>{const u=r.icon;return e.jsxs("div",{className:`bg-gradient-to-br ${r.gradient} backdrop-blur-sm rounded-xl shadow-lg border ${r.border} p-4 hover:shadow-xl transition-all duration-300 group hover:scale-102`,role:"article","aria-label":`${r.name} statistic`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${r.iconBg} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-all duration-300`,role:"img","aria-label":`${r.name} icon`,children:e.jsx(u,{className:"w-5 h-5 text-white","aria-hidden":"true"})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.iconGlow} rounded-xl animate-pulse`,"aria-hidden":"true"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`flex items-center gap-1 ${r.trendColor} text-xs font-bold`,"aria-label":`Status: ${r.trend}`,children:[e.jsx(me,{className:"w-3 h-3","aria-hidden":"true"}),e.jsx("span",{children:r.trend})]})})]}),e.jsx("h3",{className:"text-base font-bold text-gray-700 mb-1",children:r.name}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:r.value}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:r.trendText==="New"?"Connected clinics":r.trendText==="Active"?"All-time appointments":"Scheduled visits"})]},r.name)})})};function xs({auth:t,user:d,clinicRecords:x,appointments:a=[],treatments:i=[],flash:m,loading:f=!1}){var n,N,b,p,y,v,C;const[g,r]=w.useState(!1),[u,l]=w.useState("overview");return console.log("PatientDashboard Debug:",{user:d,clinicRecords:x,appointments:(a==null?void 0:a.length)||0,appointmentsData:a,treatments:(i==null?void 0:i.length)||0,treatmentsData:i}),i!=null&&i.length,(n=i==null?void 0:i.filter(o=>o.status==="completed"))!=null&&n.length,(N=a==null?void 0:a.filter(o=>new Date(o.appointment_date)>new Date))!=null&&N.length,(i==null?void 0:i.length)>0&&Math.round(i.filter(o=>o.status==="completed").length/i.length*100),a!=null&&a.length,(b=a==null?void 0:a.filter(o=>new Date(o.appointment_date)>new Date))!=null&&b.length,(p=a==null?void 0:a.filter(o=>o.status==="completed"))!=null&&p.length,(y=a==null?void 0:a.filter(o=>o.status==="cancelled"))!=null&&y.length,x!=null&&x.length,(v=x==null?void 0:x.filter(o=>o.status==="active"))!=null&&v.length,e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-cyan-50/20",children:[e.jsx(pe,{title:"Patient Dashboard - Smile Suite"}),e.jsxs("div",{className:"sr-only",children:[e.jsx("h1",{children:"Patient Dashboard"}),e.jsx("p",{children:"Welcome to your dental health management portal"})]}),e.jsx(ve,{}),(m==null?void 0:m.success)&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:m.success})]})})}),e.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",style:{width:"95%",maxWidth:"1350px"},children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-teal-500 via-sky-600 to-blue-400 px-6 py-6",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/8 rounded-full translate-y-12 -translate-x-12"}),e.jsx("div",{className:"absolute top-1/2 left-1/3 w-16 h-16 bg-white/6 rounded-full -translate-y-8 -translate-x-8"}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-12 h-12 bg-white/8 rounded-full -translate-y-6 translate-x-6"}),e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"30px 30px"}})}),e.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-transparent via-white/20 to-transparent"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/15 to-transparent"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative",role:"img","aria-label":"Dashboard icon",children:e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm border border-white/30 shadow-lg",children:e.jsx(Se,{className:"h-6 w-6 text-white","aria-hidden":"true"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Patient Dashboard"}),e.jsxs("p",{className:"text-blue-100 text-sm font-medium",children:["Welcome back,"," ",e.jsx("span",{className:"font-semibold",children:(d==null?void 0:d.name)||((C=t==null?void 0:t.user)==null?void 0:C.name)}),"!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{href:route("patient.profile"),children:e.jsxs("div",{className:"flex items-center gap-2 bg-white/15 hover:bg-white/25 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/20 hover:border-white/30 transition-all duration-300 cursor-pointer group",children:[e.jsx(F,{className:"h-4 w-4 text-white group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"My Profile"})]})}),e.jsx(R,{href:route("patient.treatments.index"),children:e.jsxs("div",{className:"flex items-center gap-2 bg-white/15 hover:bg-white/25 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/20 hover:border-white/30 transition-all duration-300 cursor-pointer group",children:[e.jsx(E,{className:"h-4 w-4 text-white group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"My Treatments"})]})}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/30 shadow-sm",role:"img","aria-label":"Current date",children:e.jsx("time",{className:"text-sm font-medium text-white",dateTime:new Date().toISOString(),children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})})]})]})})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx(Pe,{appointments:a,treatments:i,clinicRecords:x})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(Ae,{appointments:a})}),e.jsx("div",{children:e.jsx($e,{treatments:i})})]})]})]})})]})}export{xs as default};
