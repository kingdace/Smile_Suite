import{v as U,q as $,r as i,a as h,j as e,$ as z,Y as w}from"./app-0NEBy9BJ.js";import{B as G}from"./button-HTjkDkdd.js";import{I as b}from"./input-B5HdwBrp.js";import{L as d}from"./label-QKzL7hA2.js";import{C as q,a as J,b as K,d as Q,c as V}from"./card-Bi1LQnVT.js";import{B as W}from"./building-2-DkFw8SPs.js";import{C as E}from"./circle-check-big-CKkaOrUr.js";import{U as X}from"./user-DGn9BjnL.js";import{M as Z}from"./map-pin-BQ7LKlD-.js";import{I as O}from"./info-BdUgvOC_.js";import"./index-D_vL4xTc.js";import"./index-DyBFjraK.js";import"./createLucideIcon-CXdhGpw2.js";function pe({request:c,token:A}){const{data:l,setData:x,post:M,processing:B,errors:t}=U({name:"",email:"",password:"",password_confirmation:"",street_address:"",region_code:null,province_code:null,city_municipality_code:null,barangay_code:null,postal_code:"",address_details:"",address:""}),{flash:C}=$().props,[S,Y]=i.useState([]),[D,I]=i.useState([]),[j,N]=i.useState([]),[F,f]=i.useState([]),[u,R]=i.useState(""),[n,P]=i.useState(""),[m,v]=i.useState(""),[_,g]=i.useState(""),[T,k]=i.useState(!1);i.useEffect(()=>{C&&C.success&&k(!0)},[C]),i.useEffect(()=>{h.get(route("psgc.regions")).then(s=>{const o=s.data.map(r=>({psgc_id:r.code,name:r.name}));Y(o||[])})},[]),i.useEffect(()=>{u?h.get(route("psgc.provinces",{regionId:u})).then(s=>{const o=s.data.map(r=>({psgc_id:r.code,name:r.name,region_code:u}));I(o||[]),N([]),f([]),P(""),v(""),g("")}):(I([]),N([]),f([]),P(""),v(""),g(""))},[u]),i.useEffect(()=>{n?h.all([h.get(route("psgc.cities",{provinceId:n})),h.get(route("psgc.municipalities",{provinceId:n}))]).then(h.spread((s,o)=>{const r=(s.data||[]).map(a=>({psgc_id:a.code,name:a.name,province_code:n,type:"city"})),p=(o.data||[]).map(a=>({psgc_id:a.code,name:a.name,province_code:n,type:"municipality"})),y=[...r,...p];y.sort((a,H)=>a.name.localeCompare(H.name)),N(y),f([]),v(""),g("")})):(N([]),f([]),v(""),g(""))},[n]),i.useEffect(()=>{if(m){const s=j.find(p=>p.psgc_id===m),o=s&&s.type==="city"?"cityId":"municipalityId",r=route("psgc.barangays",{[o]:m});h.get(r).then(p=>{const y=p.data.map(a=>({psgc_id:a.code,name:a.name,city_code:m}));f(y||[]),g("")})}else f([]),g("")},[m,j]),i.useEffect(()=>{const s=F.find(a=>a.psgc_id===_),o=j.find(a=>a.psgc_id===m),r=D.find(a=>a.psgc_id===n),p=S.find(a=>a.psgc_id===u),y=[l.street_address,s==null?void 0:s.name,o==null?void 0:o.name,r==null?void 0:r.name,p==null?void 0:p.name,l.postal_code].filter(Boolean).join(", ");x({...l,address:y,region_code:u||null,province_code:n||null,city_municipality_code:m||null,barangay_code:_||null})},[_,m,n,u,F,j,D,S,l.street_address,l.postal_code]);const L=s=>{s.preventDefault(),M(route("clinic.setup.complete",{token:A}),{onSuccess:()=>k(!0)})};return e.jsxs(e.Fragment,{children:[e.jsx(z,{title:"Complete Clinic Setup"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-cyan-50 flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full opacity-40 mix-blend-multiply transform rotate-45 animate-pulse shadow-lg",style:{animationDuration:"3s",animationDelay:"0s"}}),e.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full opacity-40 mix-blend-multiply transform -rotate-30 animate-bounce shadow-xl",style:{animationDuration:"2.5s",animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-blue-400 via-indigo-500 to-purple-500 rounded-full opacity-30 mix-blend-multiply animate-pulse shadow-2xl",style:{animationDuration:"4s",animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-20 right-20 w-24 h-24 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-full opacity-50 mix-blend-multiply animate-bounce shadow-lg",style:{animationDuration:"2s",animationDelay:"0.3s"}}),e.jsx("div",{className:"absolute bottom-20 left-20 w-20 h-20 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-full opacity-50 mix-blend-multiply animate-pulse shadow-lg",style:{animationDuration:"3.5s",animationDelay:"0.8s"}}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-16 h-16 bg-gradient-to-br from-blue-700 to-indigo-800 rounded-full opacity-40 mix-blend-multiply animate-ping shadow-md",style:{animationDuration:"1.5s",animationDelay:"0.2s"}}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-20 h-20 bg-gradient-to-br from-cyan-400 to-teal-500 rounded-full opacity-35 mix-blend-multiply animate-bounce shadow-lg",style:{animationDuration:"2.8s",animationDelay:"0.6s"}}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-28 h-28 bg-gradient-to-br from-blue-500 via-purple-600 to-indigo-700 rounded-full opacity-45 mix-blend-multiply animate-pulse shadow-xl",style:{animationDuration:"3.2s",animationDelay:"0.4s"}}),e.jsx("div",{className:"absolute top-1/6 left-1/6 w-12 h-12 bg-gradient-to-br from-cyan-300 to-blue-400 rounded-full opacity-30 mix-blend-multiply animate-ping shadow-md",style:{animationDuration:"1.8s",animationDelay:"0.7s"}}),e.jsx("div",{className:"absolute bottom-1/6 left-1/3 w-16 h-16 bg-gradient-to-br from-blue-300 to-indigo-400 rounded-full opacity-35 mix-blend-multiply animate-bounce shadow-lg",style:{animationDuration:"2.2s",animationDelay:"0.9s"}}),e.jsx("div",{className:"absolute top-2/3 right-1/6 w-14 h-14 bg-gradient-to-br from-teal-400 to-cyan-500 rounded-full opacity-40 mix-blend-multiply animate-pulse shadow-md",style:{animationDuration:"2.7s",animationDelay:"0.1s"}})]}),e.jsxs("div",{className:"max-w-4xl w-full space-y-6 relative z-10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(w,{href:"/",className:"inline-block",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("img",{src:"/images/smile-suite-logo.png",alt:"Smile Suite Logo",className:"w-10 h-10 object-contain"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Smile Suite"})]})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Complete Your Clinic Setup"}),e.jsx("p",{className:"text-gray-600",children:"Congratulations! Your clinic registration has been approved."})]}),e.jsxs(q,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:[e.jsx(J,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(K,{className:"text-xl text-gray-900",children:"Clinic Information"}),e.jsxs(Q,{className:"text-gray-600",children:["Your clinic"," ",e.jsxs("strong",{children:['"',c.clinic_name,'"']})," ","has been approved. Please complete the setup below."]})]})]})}),e.jsxs(V,{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-emerald-800",children:["Approved for"," ",c.subscription_plan==="basic"?"Basic Plan (14-Day Free Trial)":c.subscription_plan==="pro"?"Premium Plan":c.subscription_plan==="enterprise"?"Enterprise Plan":c.subscription_plan==="premium"?"Premium":c.subscription_plan_name," ","Plan"]}),e.jsx("p",{className:"text-sm text-emerald-700",children:c.subscription_plan==="basic"?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"FREE for 14 days"}),", then ₱999/month"]}):c.subscription_plan==="premium"?e.jsxs(e.Fragment,{children:["Monthly subscription:"," ",e.jsx("strong",{children:"₱1,999"})]}):c.subscription_plan==="enterprise"?e.jsxs(e.Fragment,{children:["Monthly subscription:"," ",e.jsx("strong",{children:"₱2,999"})]}):e.jsxs(e.Fragment,{children:["Monthly subscription:"," ",e.jsxs("strong",{children:["₱",c.subscription_amount]})]})})]})]})}),T?e.jsxs("div",{className:"text-center bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-8 border border-green-200",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-3",children:"Clinic Setup Complete!"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Your clinic has been successfully registered. You may now log in to your account."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{href:"/login",className:"inline-block bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-8 py-3 rounded-lg font-semibold shadow-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-200",children:"Go to Login"}),e.jsx("br",{}),e.jsx(w,{href:"/",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Back to Home"})]})]}):e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-gray-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Admin Account Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),e.jsx(b,{id:"name",type:"text",value:l.name,onChange:s=>x("name",s.target.value),className:"mt-1",required:!0}),t.name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address *"}),e.jsx(b,{id:"email",type:"email",value:l.email,onChange:s=>x("email",s.target.value),className:"mt-1",required:!0}),t.email&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.email})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),e.jsx(b,{id:"password",type:"password",value:l.password,onChange:s=>x("password",s.target.value),className:"mt-1",required:!0}),t.password&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.password})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"password_confirmation",className:"text-sm font-medium text-gray-700",children:"Confirm Password *"}),e.jsx(b,{id:"password_confirmation",type:"password",value:l.password_confirmation,onChange:s=>x("password_confirmation",s.target.value),className:"mt-1",required:!0}),t.password_confirmation&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.password_confirmation})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-gray-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Address Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"street_address",className:"text-sm font-medium text-gray-700",children:"Street Address"}),e.jsx(b,{id:"street_address",type:"text",value:l.street_address,onChange:s=>x("street_address",s.target.value),className:"mt-1"}),t.street_address&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.street_address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"region_code",className:"text-sm font-medium text-gray-700",children:"Region *"}),e.jsxs("select",{id:"region_code",value:u,onChange:s=>R(s.target.value),className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Region"}),S.map(s=>e.jsx("option",{value:s.psgc_id,children:s.name},s.psgc_id))]}),t.region_code&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.region_code})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"province_code",className:"text-sm font-medium text-gray-700",children:"Province *"}),e.jsxs("select",{id:"province_code",value:n,onChange:s=>P(s.target.value),className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!u,children:[e.jsx("option",{value:"",children:"Select Province"}),D.map(s=>e.jsx("option",{value:s.psgc_id,children:s.name},s.psgc_id))]}),t.province_code&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.province_code})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"city_municipality_code",className:"text-sm font-medium text-gray-700",children:"City/Municipality *"}),e.jsxs("select",{id:"city_municipality_code",value:m,onChange:s=>v(s.target.value),className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!n,children:[e.jsx("option",{value:"",children:"Select City/Municipality"}),j.map(s=>e.jsx("option",{value:s.psgc_id,children:s.name},s.psgc_id))]}),t.city_municipality_code&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.city_municipality_code})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"barangay_code",className:"text-sm font-medium text-gray-700",children:"Barangay *"}),e.jsxs("select",{id:"barangay_code",value:_,onChange:s=>g(s.target.value),className:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:!m,children:[e.jsx("option",{value:"",children:"Select Barangay"}),F.map(s=>e.jsx("option",{value:s.psgc_id,children:s.name},s.psgc_id))]}),t.barangay_code&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.barangay_code})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"postal_code",className:"text-sm font-medium text-gray-700",children:"Postal Code"}),e.jsx(b,{id:"postal_code",type:"text",value:l.postal_code,onChange:s=>x("postal_code",s.target.value),className:"mt-1"}),t.postal_code&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.postal_code})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address_details",className:"text-sm font-medium text-gray-700",children:"Additional Details"}),e.jsx(b,{id:"address_details",type:"text",value:l.address_details,onChange:s=>x("address_details",s.target.value),placeholder:"Building, floor, room number, etc.",className:"mt-1"}),t.address_details&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.address_details})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(O,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Important Information"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[e.jsx("p",{children:"This will create your clinic admin account. You'll be able to log in immediately after setup and start managing your clinic."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Admin Account:"})," ","This will be your primary administrator account with full access to all clinic features."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address Information:"})," ","This will be used for your clinic's public profile and patient communications."]})]})]})]})}),e.jsx(G,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white font-semibold py-3 rounded-lg shadow-lg transition-all duration-200",disabled:B,children:B?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Setting up your clinic..."]}):"Complete Setup"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(w,{href:"/",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"← Back to Home"})})]})]})]})}export{pe as default};
