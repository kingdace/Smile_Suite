import{r as w,j as e,$ as ve,Y as te,m as re}from"./app-0NEBy9BJ.js";import{a as fe,A as ye}from"./AuthenticatedLayout-Dw6WlmNe.js";import{C as $,c as I,a as z,b as V}from"./card-Bi1LQnVT.js";import{B as p}from"./button-HTjkDkdd.js";import{M as _}from"./MetricCard-DB94fDti.js";import{B as P}from"./badge-DRGinVhB.js";import{D as le,a as ne,b as ie,d as oe,e as U,c as T}from"./dropdown-menu-9HAQh9sF.js";import{T as Ne}from"./triangle-alert-CrRGYxRV.js";import{R as A}from"./refresh-cw-AxYDbCp9.js";import{C as L}from"./chart-column-BayDDSxC.js";import{C as be,a as Ce,M as we}from"./maximize-2-Cj1xTEK0.js";import{E as ke}from"./ellipsis-vertical-Iqro4dR2.js";import{D as G}from"./download-DvekdBIG.js";import{U as ee}from"./users-B27bU5zr.js";import{C as R}from"./calendar-BySnFgk6.js";import{D as E}from"./dollar-sign-DyPiHvO_.js";import{S as se}from"./stethoscope-DQNiqfGN.js";import{P as he}from"./scissors-DUdWMhH-.js";import{I as M}from"./input-B5HdwBrp.js";import{L as k}from"./label-QKzL7hA2.js";import{S as W,a as X,b as H,c as Q,d as F}from"./select-D7GD0hqE.js";import{P as Se,a as De,b as Te}from"./popover-CxVJfJYL.js";import{F as Ae}from"./funnel-gngOd4J3.js";import{S as Fe}from"./search-DQeRNUKD.js";import{X as Re}from"./x-BmcQdfAq.js";import{E as Me,R as ce,C as q,X as J,Y as Z,T as B,a as $e}from"./ExportButton-JoKoNBtV.js";import{S as Ie}from"./settings-DYMC4GDK.js";import{A as de}from"./arrow-right-Eg54rgLa.js";import{L as Pe}from"./LineChart-y9cUK1t6.js";import{L as me}from"./Line-CUJWVbA0.js";import{B as Oe,a as _e}from"./BarChart-CSIsX4lb.js";import{A as Be,a as Le}from"./AreaChart-RDhqdluh.js";import{P as Ee,a as ze}from"./PieChart-Tw84ux5t.js";import{A as Ve}from"./activity-QSLFB4Jp.js";import{C as Ye}from"./clock-CbwVHyBM.js";import"./index-D_vL4xTc.js";import"./layout-dashboard-CShM3v2X.js";import"./createLucideIcon-CXdhGpw2.js";import"./chevron-right-uGxx9l95.js";import"./shield-Dwr4YKLO.js";import"./trending-up-BN2beQrY.js";import"./circle-alert-WXa1N7H8.js";import"./loader-circle-Dp3XKXsU.js";import"./SiteHeader-pucSt_3F.js";import"./index-DyBFjraK.js";import"./user-DGn9BjnL.js";import"./crown-CgVQCNXW.js";import"./zap-40k-cQGm.js";import"./circle-check-big-CKkaOrUr.js";import"./info-BdUgvOC_.js";import"./circle-x-DKXu_aeT.js";import"./building-2-DkFw8SPs.js";import"./file-text-D0kUTKvl.js";import"./minus-DZ_iz6CE.js";import"./trending-down-BBQXMRCr.js";import"./index-CWWwxASF.js";import"./index-DcAynW7B.js";import"./circle-CkW3sI5F.js";import"./index-CR6Ll2Xh.js";import"./utcTime-Bp1e7X_j.js";import"./ActivePoints-C00igVAn.js";import"./ErrorBarContext-9ACONtTU.js";function xe({title:u,subtitle:l,children:g,data:f=[],loading:y=!1,error:b=null,chartType:n="bar",onChartTypeChange:r,onExport:c,onRefresh:h,className:S="",actions:d=[],showTypeSelector:C=!0,showActions:D=!0}){var s;const[N,j]=w.useState(!1),i=[{key:"bar",label:"Bar Chart",icon:L},{key:"line",label:"Line Chart",icon:be},{key:"pie",label:"Pie Chart",icon:Ce}],o=t=>{c&&c(t,{title:u,data:f})},m=()=>!f||f.length===0?"No data":`${f.length} data points`;return b?e.jsx($,{className:`border-red-200 ${S}`,children:e.jsx(I,{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-red-500 mb-2",children:e.jsx(Ne,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load chart"}),e.jsx("p",{className:"text-gray-600 mb-4",children:b}),e.jsxs(p,{onClick:h,variant:"outline",size:"sm",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Retry"]})]})})}):e.jsxs($,{className:`border-0 shadow-sm hover:shadow-md transition-all duration-300 ${S} ${N?"fixed inset-4 z-50":""}`,children:[e.jsx(z,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(V,{className:"text-lg font-semibold text-gray-900 mb-1",children:[u,y&&e.jsx(A,{className:"w-4 h-4 ml-2 animate-spin inline"})]}),l&&e.jsx("p",{className:"text-sm text-gray-600",children:l}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(P,{variant:"secondary",className:"text-xs",children:m()}),n&&e.jsx(P,{variant:"outline",className:"text-xs",children:((s=i.find(t=>t.key===n))==null?void 0:s.label)||n})]})]}),D&&e.jsxs("div",{className:"flex items-center gap-2",children:[C&&r&&e.jsxs(le,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(L,{className:"w-4 h-4"})})}),e.jsxs(ie,{align:"end",children:[e.jsx(oe,{children:"Chart Type"}),e.jsx(U,{}),i.map(t=>e.jsxs(T,{onClick:()=>r(t.key),className:"flex items-center gap-2",children:[e.jsx(t.icon,{className:"w-4 h-4"}),t.label]},t.key))]})]}),e.jsxs(le,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",children:e.jsx(ke,{className:"w-4 h-4"})})}),e.jsxs(ie,{align:"end",children:[e.jsx(oe,{children:"Actions"}),e.jsx(U,{}),h&&e.jsxs(T,{onClick:h,children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Refresh Data"]}),e.jsxs(T,{onClick:()=>j(!N),children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),N?"Exit Fullscreen":"Fullscreen"]}),e.jsx(U,{}),e.jsxs(T,{onClick:()=>o("png"),children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Export as PNG"]}),e.jsxs(T,{onClick:()=>o("svg"),children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Export as SVG"]}),e.jsxs(T,{onClick:()=>o("csv"),children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Export Data (CSV)"]}),d.map((t,x)=>e.jsxs(T,{onClick:t.onClick,children:[t.icon&&e.jsx(t.icon,{className:"w-4 h-4 mr-2"}),t.label]},x))]})]})]})]})}),e.jsx(I,{className:`${N?"h-full":""}`,children:y?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"Loading chart data..."})]})}):f&&f.length>0?e.jsx("div",{className:`${N?"h-full":"h-64 md:h-80"}`,children:g}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(L,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No data available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"There's no data to display for the selected period."}),h&&e.jsxs(p,{onClick:h,variant:"outline",size:"sm",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})})}),N&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(p,{variant:"outline",size:"sm",onClick:()=>j(!1),className:"bg-white",children:"Exit Fullscreen"})})]})}function Ke({activeTab:u,onTabChange:l,tabs:g=[],className:f=""}){const y=[{key:"overview",label:"Overview",icon:L,description:"Key metrics and analytics"},{key:"patients",label:"Patients",icon:ee,description:"Patient demographics and activity",badge:"1,234"},{key:"appointments",label:"Appointments",icon:R,description:"Scheduling and attendance trends",badge:"89"},{key:"revenue",label:"Revenue",icon:E,description:"Financial performance and payments",badge:"â‚±45.2K"},{key:"treatments",label:"Treatments",icon:se,description:"Treatment outcomes and procedures",badge:"156"},{key:"inventory",label:"Inventory",icon:he,description:"Stock levels and usage",badge:"23 low"}],b=g.length>0?g:y;return e.jsxs("div",{className:`border-b border-gray-200 ${f}`,children:[e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:b.map(n=>{const r=n.icon,c=u===n.key;return e.jsxs("button",{onClick:()=>l(n.key),className:`
                                group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap
                                transition-all duration-200 hover:border-gray-300
                                ${c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}
                            `,children:[e.jsx(r,{className:`
                                -ml-0.5 mr-2 h-5 w-5 transition-colors duration-200
                                ${c?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}
                            `}),e.jsxs("span",{className:"flex items-center gap-2",children:[n.label,n.badge&&e.jsx(P,{variant:c?"default":"secondary",className:"text-xs",children:n.badge})]})]},n.key)})}),e.jsx("div",{className:"mt-2 mb-4",children:b.map(n=>u!==n.key||!n.description?null:e.jsx("p",{className:"text-sm text-gray-600",children:n.description},n.key))})]})}function pe({dateFrom:u,dateTo:l,onDateChange:g,className:f="",presets:y=!0}){const[b,n]=w.useState(!1),[r,c]=w.useState(u||""),[h,S]=w.useState(l||""),d=()=>{g(r,h),n(!1)},C=j=>{const i=new Date;let o,m;switch(j){case"today":o=m=i.toISOString().split("T")[0];break;case"yesterday":const s=new Date(i);s.setDate(s.getDate()-1),o=m=s.toISOString().split("T")[0];break;case"last7days":o=new Date(i.getTime()-7*24*60*60*1e3).toISOString().split("T")[0],m=i.toISOString().split("T")[0];break;case"last30days":o=new Date(i.getTime()-30*24*60*60*1e3).toISOString().split("T")[0],m=i.toISOString().split("T")[0];break;case"thisMonth":o=new Date(i.getFullYear(),i.getMonth(),1).toISOString().split("T")[0],m=i.toISOString().split("T")[0];break;case"lastMonth":const t=new Date(i.getFullYear(),i.getMonth()-1,1),x=new Date(i.getFullYear(),i.getMonth(),0);o=t.toISOString().split("T")[0],m=x.toISOString().split("T")[0];break;case"thisYear":o=new Date(i.getFullYear(),0,1).toISOString().split("T")[0],m=i.toISOString().split("T")[0];break;default:return}c(o),S(m),g(o,m),n(!1)},D=()=>!u&&!l?"Select date range":u===l?new Date(u).toLocaleDateString():`${new Date(u).toLocaleDateString()} - ${new Date(l).toLocaleDateString()}`,N=[{key:"today",label:"Today"},{key:"yesterday",label:"Yesterday"},{key:"last7days",label:"Last 7 days"},{key:"last30days",label:"Last 30 days"},{key:"thisMonth",label:"This month"},{key:"lastMonth",label:"Last month"},{key:"thisYear",label:"This year"}];return e.jsxs(Se,{open:b,onOpenChange:n,children:[e.jsx(De,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:`justify-between min-w-[200px] ${f}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:D()})]}),e.jsx(fe,{className:"w-4 h-4 opacity-50"})]})}),e.jsxs(Te,{className:"w-80 p-0",align:"start",children:[e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-3",children:"Select Date Range"}),y&&e.jsxs("div",{className:"mb-4",children:[e.jsx(k,{className:"text-xs text-gray-600 mb-2 block",children:"Quick Select"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.map(j=>e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>C(j.key),className:"justify-start text-xs h-8",children:j.label},j.key))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"date-from",className:"text-xs text-gray-600",children:"From"}),e.jsx(M,{id:"date-from",type:"date",value:r,onChange:j=>c(j.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"date-to",className:"text-xs text-gray-600",children:"To"}),e.jsx(M,{id:"date-to",type:"date",value:h,onChange:j=>S(j.target.value),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 flex justify-between",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>{c(""),S(""),g("",""),n(!1)},children:"Clear"}),e.jsx(p,{size:"sm",onClick:d,disabled:!r||!h,children:"Apply"})]})]})]})}function Ue({filters:u={},onFiltersChange:l,onReset:g,onRefresh:f,availableFilters:y={},loading:b=!1,className:n=""}){var i,o,m;const[r,c]=w.useState(u),[h,S]=w.useState(!1),d=(s,t)=>{const x={...r,[s]:t};c(x),l(x)},C=(s,t)=>{const x={...r,date_from:s,date_to:t};c(x),l(x)},D=s=>{const t={...r};delete t[s],c(t),l(t)},N=()=>Object.keys(r).filter(s=>r[s]&&r[s]!=="").length,j=()=>{const s=Object.entries(r).filter(([t,x])=>x&&x!=="");return s.length===0?null:e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.map(([t,x])=>e.jsxs(P,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsxs("span",{className:"capitalize",children:[t.replace("_"," "),": ",x]}),e.jsx(p,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>D(t),children:e.jsx(Re,{className:"w-3 h-3"})})]},t))})};return e.jsxs($,{className:`border-0 shadow-sm ${n}`,children:[e.jsx(z,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(V,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ae,{className:"w-5 h-5"}),"Filters",N()>0&&e.jsx(P,{variant:"default",className:"ml-2",children:N()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>S(!h),children:h?"Collapse":"Expand"}),e.jsx(p,{variant:"ghost",size:"sm",onClick:f,disabled:b,children:e.jsx(A,{className:`w-4 h-4 ${b?"animate-spin":""}`})})]})]})}),e.jsxs(I,{children:[j(),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"search",className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(M,{id:"search",placeholder:"Search...",value:r.search||"",onChange:s=>d("search",s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Date Range"}),e.jsx("div",{className:"mt-1",children:e.jsx(pe,{dateFrom:r.date_from,dateTo:r.date_to,onDateChange:C,className:"w-full"})})]}),y.statuses&&e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Status"}),e.jsxs(W,{value:r.status||"all",onValueChange:s=>d("status",s==="all"?"":s),children:[e.jsx(X,{className:"mt-1",children:e.jsx(H,{placeholder:"All statuses"})}),e.jsxs(Q,{children:[e.jsx(F,{value:"all",children:"All statuses"}),(i=y.statuses)==null?void 0:i.map(s=>e.jsx(F,{value:s.value,children:s.label},s.value))]})]})]}),y.categories&&e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Category"}),e.jsxs(W,{value:r.category||"all",onValueChange:s=>d("category",s==="all"?"":s),children:[e.jsx(X,{className:"mt-1",children:e.jsx(H,{placeholder:"All categories"})}),e.jsxs(Q,{children:[e.jsx(F,{value:"all",children:"All categories"}),(o=y.categories)==null?void 0:o.map(s=>e.jsx(F,{value:s.value,children:s.label},s.value))]})]})]})]}),h&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y.paymentMethods&&e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Payment Method"}),e.jsxs(W,{value:r.payment_method||"all",onValueChange:s=>d("payment_method",s==="all"?"":s),children:[e.jsx(X,{className:"mt-1",children:e.jsx(H,{placeholder:"All methods"})}),e.jsxs(Q,{children:[e.jsx(F,{value:"all",children:"All methods"}),(m=y.paymentMethods)==null?void 0:m.map(s=>e.jsx(F,{value:s.value,children:s.label},s.value))]})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Min Amount"}),e.jsx(M,{type:"number",placeholder:"0.00",value:r.min_amount||"",onChange:s=>d("min_amount",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Max Amount"}),e.jsx(M,{type:"number",placeholder:"999999.99",value:r.max_amount||"",onChange:s=>d("max_amount",s.target.value),className:"mt-1"})]})]})}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[e.jsx(p,{variant:"outline",onClick:g,disabled:N()===0,children:"Clear All"}),e.jsx(p,{onClick:()=>l(r),children:"Apply Filters"})]})]})]})}function ea({auth:u,clinic:l,metrics:g={},monthlyRevenue:f=[],paymentMethods:y=[],topPatients:b=[],recentActivity:n=[],treatmentCategories:r=[],filters:c={},appointmentStats:h={},inventoryStats:S={}}){const[d,C]=w.useState("overview"),[D,N]=w.useState(c.date_from||""),[j,i]=w.useState(c.date_to||""),[o,m]=w.useState(!1),[s,t]=w.useState({revenue:"line",appointments:"bar",treatments:"pie"}),x=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a||0),Y=a=>{m(!0),re.get(route("clinic.reports.index",l.id),a,{preserveState:!0,onFinish:()=>m(!1)})},je=(a,v)=>{N(a),i(v),Y({...c,date_from:a,date_to:v})},ae=()=>{m(!0),re.reload({onFinish:()=>m(!1)})},O=f.map(a=>({month:a.month,revenue:a.revenue||a.total||0,target:(a.revenue||a.total||0)*1.1})),K=[{name:"Completed",value:h.completed||0,color:"#10B981"},{name:"Pending",value:h.pending||0,color:"#F59E0B"},{name:"Cancelled",value:h.cancelled||0,color:"#EF4444"}];r.map((a,v)=>({name:a.name||`Category ${v+1}`,value:a.count||0,color:`hsl(${v*45}, 70%, 50%)`}));const ue={statuses:[{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}],categories:[{value:"consultation",label:"Consultation"},{value:"treatment",label:"Treatment"},{value:"surgery",label:"Surgery"}],paymentMethods:[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"}]},ge=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(_,{title:"Total Patients",value:g.total_patients,icon:ee,trend:"up",trendValue:12,color:"blue",onClick:()=>C("patients")}),e.jsx(_,{title:"This Month Revenue",value:g.total_revenue,icon:E,trend:"up",trendValue:8.5,color:"green",format:"currency",onClick:()=>C("revenue")}),e.jsx(_,{title:"Appointments",value:g.total_appointments,icon:R,trend:"down",trendValue:3.2,color:"purple",onClick:()=>C("appointments")}),e.jsx(_,{title:"Treatments",value:g.total_treatments,icon:se,trend:"up",trendValue:15.8,color:"orange",onClick:()=>C("treatments")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(xe,{title:"Revenue Trends",subtitle:"Monthly revenue over time",data:O,chartType:s.revenue,onChartTypeChange:a=>t(v=>({...v,revenue:a})),loading:o,children:e.jsx(ce,{width:"100%",height:"100%",children:s.revenue==="line"?e.jsxs(Pe,{data:O,children:[e.jsx(q,{strokeDasharray:"3 3"}),e.jsx(J,{dataKey:"month"}),e.jsx(Z,{}),e.jsx(B,{formatter:a=>x(a)}),e.jsx(me,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4}}),e.jsx(me,{type:"monotone",dataKey:"target",stroke:"#10B981",strokeDasharray:"5 5",strokeWidth:2})]}):s.revenue==="bar"?e.jsxs(Oe,{data:O,children:[e.jsx(q,{strokeDasharray:"3 3"}),e.jsx(J,{dataKey:"month"}),e.jsx(Z,{}),e.jsx(B,{formatter:a=>x(a)}),e.jsx(_e,{dataKey:"revenue",fill:"#3B82F6"})]}):e.jsxs(Be,{data:O,children:[e.jsx(q,{strokeDasharray:"3 3"}),e.jsx(J,{dataKey:"month"}),e.jsx(Z,{}),e.jsx(B,{formatter:a=>x(a)}),e.jsx(Le,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})}),e.jsx(xe,{title:"Appointment Status",subtitle:"Current appointment distribution",data:K,chartType:"pie",loading:o,children:e.jsx(ce,{width:"100%",height:"100%",children:e.jsxs(Ee,{children:[e.jsx(ze,{data:K,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:a,percent:v})=>`${a} ${(v*100).toFixed(0)}%`,children:K.map((a,v)=>e.jsx($e,{fill:a.color},`cell-${v}`))}),e.jsx(B,{})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs($,{className:"border-0 shadow-sm",children:[e.jsx(z,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-5 h-5"}),"Quick Actions"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:[{name:"Patient Reports",href:route("clinic.reports.patients",l.id),icon:ee,color:"bg-blue-500"},{name:"Revenue Reports",href:route("clinic.reports.revenue",l.id),icon:E,color:"bg-green-500"},{name:"Appointment Reports",href:route("clinic.reports.appointments",l.id),icon:R,color:"bg-purple-500"},{name:"Treatment Reports",href:route("clinic.reports.treatments",l.id),icon:se,color:"bg-orange-500"},{name:"Inventory Reports",href:route("clinic.reports.inventory",l.id),icon:he,color:"bg-indigo-500"}].map((a,v)=>e.jsx(te,{href:a.href,children:e.jsxs(p,{variant:"ghost",className:"w-full justify-start",children:[e.jsx("div",{className:`p-2 rounded-md ${a.color} mr-3`,children:e.jsx(a.icon,{className:"w-4 h-4 text-white"})}),a.name,e.jsx(de,{className:"w-4 h-4 ml-auto"})]})},v))})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs($,{className:"border-0 shadow-sm",children:[e.jsx(z,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5"}),"Recent Activity"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:n.slice(0,5).map((a,v)=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-gray-50",children:[e.jsx("div",{className:`p-2 rounded-full ${a.type==="payment"?"bg-green-100":"bg-blue-100"}`,children:a.type==="payment"?e.jsx(E,{className:`w-4 h-4 ${a.type==="payment"?"text-green-600":"text-blue-600"}`}):e.jsx(R,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]}),e.jsxs("div",{className:"text-right",children:[a.amount&&e.jsx("p",{className:"font-medium text-sm",children:x(a.amount)}),e.jsx("p",{className:"text-xs text-gray-500",children:a.date?new Date(a.date).toLocaleDateString():"N/A"})]})]},v))})})]})})]})]});return e.jsxs(ye,{auth:u,children:[e.jsx(ve,{title:"Reports Dashboard"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-indigo-800 bg-clip-text text-transparent",children:"Reports Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Comprehensive analytics and insights for ",l.name]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{dateFrom:D,dateTo:j,onDateChange:je}),e.jsx(Me,{exportRoute:`/clinic/${l.id}/reports/export/analytics`,filters:c,clinic:l}),e.jsxs(p,{onClick:ae,disabled:o,children:[e.jsx(A,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx(Ue,{filters:c,onFiltersChange:Y,onReset:()=>Y({}),onRefresh:ae,availableFilters:ue,loading:o})}),e.jsx("div",{className:"mb-8",children:e.jsx(Ke,{activeTab:d,onTabChange:C})}),e.jsxs("div",{className:"space-y-8",children:[d==="overview"&&ge(),d!=="overview"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Ie,{className:"w-16 h-16 mx-auto"})}),e.jsxs("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:[d.charAt(0).toUpperCase()+d.slice(1)," Report"]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Detailed ",d," analysis and insights"]}),e.jsx(te,{href:route(`clinic.reports.${d}`,l.id),children:e.jsxs(p,{children:["View Detailed ",d.charAt(0).toUpperCase()+d.slice(1)," Report",e.jsx(de,{className:"w-4 h-4 ml-2"})]})})]})]})]})]})]})}export{ea as default};
