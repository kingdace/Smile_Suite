import{r as n,a as y,j as e,$ as us,Y as P,m as gs}from"./app-DzAKanfO.js";import{A as bs,f as Ae}from"./AuthenticatedLayout-CGhbNLHc.js";import{C as m,c as h,a as ps,b as js}from"./card-DxaUQxDk.js";import{B as r}from"./button-BaVC9LH_.js";import"./input-BdGSRPXE.js";import{S as Re,a as _e,b as qe,c as Pe,d as x}from"./select-CZyszopy.js";import"./table-B58m7DaJ.js";import{B as E}from"./badge-B04ULXSU.js";import{C as f}from"./calendar-CV3bSJAg.js";import{D as fs}from"./download-DdB1cSsm.js";import{P as Te}from"./plus-Dm41JqSz.js";import{C as vs}from"./circle-check-big-DrY8pTua.js";import{C as Fe}from"./clock-BFKTcZtX.js";import{A as Le}from"./activity-B3Ls6NOj.js";import{C as Ns}from"./circle-x-B-f6mQMh.js";import{S as ys}from"./search-Dhiwlh-6.js";import{F as ws}from"./funnel-B-_t63wD.js";import{U as Me}from"./user-CeFybYqA.js";import{S as Be}from"./stethoscope-CYcZ01Kt.js";import{P as Ee}from"./scissors-5AZmbKVD.js";import{S as Cs}from"./settings-CTrHRqLk.js";import{E as ks}from"./eye-BffSrLxH.js";import{S as Ss}from"./square-pen-hLnWi31U.js";import{C as T}from"./index--CY9anYm.js";import{X as F}from"./x-Brym1Brg.js";import{f as Oe}from"./format-CYZdy3_o.js";import"./index-CpWIITha.js";import"./layout-dashboard-DQdh_Wnw.js";import"./createLucideIcon-DZDivllp.js";import"./users-DwCTdV0r.js";import"./dollar-sign-BK8VwfMG.js";import"./chevron-right-Cd3pwCjl.js";import"./shield-CFwfuPBv.js";import"./trending-up-C2PJu67h.js";import"./circle-alert-CAXERVjX.js";import"./loader-circle-BB5RhGLQ.js";import"./SiteHeader-CAPZqMMC.js";import"./index-BY6aHjW5.js";import"./crown-Du6OVEvL.js";import"./zap-Bmgw58_9.js";import"./info-DsO6QNII.js";import"./building-2-BeiXJ7gS.js";import"./file-text-6ldMNcS1.js";import"./triangle-alert-rUcjKeFs.js";import"./index-9v9KNBSo.js";import"./index-DYXbNSrL.js";function ft({auth:u,clinic:d,appointments:a,filters:w}){var U,V,Y,H,X,G,J,K,Q,Z,ee,se,te,ae,le,re,ie,ne,de,oe,ce,xe,me,he,ue;const[C,ze]=n.useState(w.search||""),[v,We]=n.useState(w.status||"all"),[N,Ie]=n.useState(w.type||"all"),[k,$e]=n.useState(w.date||""),[L,S]=n.useState(!1),[Ue,D]=n.useState(!1),[Ve,A]=n.useState(!1),[Ye,R]=n.useState(!1),[t,_]=n.useState(null),[He,Xe]=n.useState([]),[O,z]=n.useState(""),[W,M]=n.useState(""),[I,B]=n.useState(""),[c,g]=n.useState(!1),[b,o]=n.useState(""),Ge=(a==null?void 0:a.total)||0,Je=((V=(U=a==null?void 0:a.data)==null?void 0:U.filter(s=>{var l;return((l=s.status)==null?void 0:l.name)==="Confirmed"}))==null?void 0:V.length)||0,Ke=((H=(Y=a==null?void 0:a.data)==null?void 0:Y.filter(s=>{var l;return((l=s.status)==null?void 0:l.name)==="Pending"}))==null?void 0:H.length)||0,Qe=((G=(X=a==null?void 0:a.data)==null?void 0:X.filter(s=>{var l;return((l=s.status)==null?void 0:l.name)==="Completed"}))==null?void 0:G.length)||0,Ze=((K=(J=a==null?void 0:a.data)==null?void 0:J.filter(s=>{var l;return((l=s.status)==null?void 0:l.name)==="Cancelled"}))==null?void 0:K.length)||0,es=((Z=(Q=a==null?void 0:a.data)==null?void 0:Q.filter(s=>{var l;return((l=s.type)==null?void 0:l.name)==="Online Booking"}))==null?void 0:Z.length)||0,ss=((se=(ee=a==null?void 0:a.data)==null?void 0:ee.filter(s=>{var l,i;return((l=s.type)==null?void 0:l.name)==="Online Booking"&&((i=s.status)==null?void 0:i.name)==="Pending"}))==null?void 0:se.length)||0,$=((ae=(te=a==null?void 0:a.data)==null?void 0:te.filter(s=>{var l,i;return((l=s.type)==null?void 0:l.name)==="Online Booking"&&((i=s.status)==null?void 0:i.name)==="Cancelled"&&s.cancelled_at&&s.cancellation_reason}))==null?void 0:ae.length)||0,ts=s=>({Pending:"bg-yellow-100 text-yellow-700 border-yellow-300","Pending Reschedule":"bg-orange-100 text-orange-700 border-orange-300",Confirmed:"bg-blue-100 text-blue-700 border-blue-300",Completed:"bg-green-100 text-green-700 border-green-300",Cancelled:"bg-red-100 text-red-700 border-red-300","No Show":"bg-gray-100 text-gray-700 border-gray-300"})[s]||"bg-gray-100 text-gray-700 border-gray-300",as=s=>({"Walk-in":"bg-purple-100 text-purple-700 border-purple-300","Phone Call":"bg-indigo-100 text-indigo-700 border-indigo-300","Online Booking":"bg-cyan-100 text-cyan-700 border-cyan-300","Follow-up":"bg-orange-100 text-orange-700 border-orange-300",Emergency:"bg-red-100 text-red-700 border-red-300"})[s]||"bg-gray-100 text-gray-700 border-gray-300";n.useEffect(()=>{L&&d.id&&y.get(route("clinic.dentists.index",[d.id])).then(s=>{var i;let l=s.data.dentists;((i=u==null?void 0:u.user)==null?void 0:i.role)==="dentist"&&(l.some(j=>j.id===u.user.id)||(l=[{id:u.user.id,name:u.user.name,email:u.user.email,role:"dentist"},...l])),Xe(l)})},[L,d.id]);const ls=s=>{s.preventDefault(),gs.get(route("clinic.appointments.index",d.id),{search:C,status:v==="all"?"":v,type:N==="all"?"":N,date:k},{preserveState:!0,preserveScroll:!0})},rs=s=>{_(s),S(!0),z(s.assigned_to||""),o("")},is=s=>{_(s),D(!0),M(""),o("")},ns=s=>{_(s),A(!0),o("")},ds=s=>{_(s),R(!0),B(""),o("")},os=async()=>{g(!0),o("");try{await y.post(route("clinic.appointments.approve-online",{clinic:d.id,appointment:t.id}),{assigned_to:O||null}),S(!1),window.location.reload()}catch{o("Failed to approve appointment.")}finally{g(!1)}},cs=async()=>{g(!0),o("");try{await y.post(route("clinic.appointments.deny-online",{clinic:d.id,appointment:t.id}),{cancellation_reason:W}),D(!1),window.location.reload()}catch{o("Failed to deny appointment.")}finally{g(!1)}},xs=async()=>{g(!0),o("");try{const s=await y.post(route("clinic.appointments.approve-reschedule",{clinic:d.id,appointment:t.id}));s.data.success?(A(!1),window.location.reload()):o(s.data.message||"Failed to approve reschedule")}catch{o("Failed to approve reschedule.")}finally{g(!1)}},ms=async()=>{g(!0),o("");try{const s=await y.post(route("clinic.appointments.deny-reschedule",{clinic:d.id,appointment:t.id}),{denial_reason:I});s.data.success?(R(!1),window.location.reload()):o(s.data.message||"Failed to deny reschedule")}catch{o("Failed to deny reschedule.")}finally{g(!1)}},hs=()=>{const s=route("clinic.appointments.export",{clinic:d.id,format:"excel"});window.open(s,"_blank")};return e.jsxs(bs,{auth:u,children:[e.jsx(us,{title:`${d.name} - Appointments`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-150 to-cyan-100 rounded-t-lg mx-0 pt-4 shadow-2xl border border-blue-200/50 border-t border-t-blue-200",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 mx-5 mb-5 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white/5 rounded-full translate-y-10 -translate-x-10"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-white/3 rounded-full -translate-y-8 -translate-x-8"}),e.jsx("div",{className:"relative px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/25 rounded-2xl backdrop-blur-sm border border-white/40 shadow-lg",children:e.jsx(f,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Appointments Management"}),e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Manage and schedule patient appointments"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(r,{onClick:hs,variant:"outline",className:"gap-2 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm px-4 py-2 rounded-lg transition-all duration-300",children:[e.jsx(fs,{className:"h-4 w-4"}),"Export All"]}),e.jsx(P,{href:route("clinic.appointments.calendar",d.id),children:e.jsxs(r,{variant:"outline",className:"gap-2 text-sm px-4 py-2 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-300/50 backdrop-blur-sm",children:[e.jsx(f,{className:"h-4 w-4"}),"Calendar View"]})}),e.jsx(P,{href:route("clinic.appointments.create-simplified",d.id),children:e.jsxs(r,{className:"gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-sm px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-500/20 backdrop-blur-sm",children:[e.jsx(Te,{className:"h-4 w-4"}),"Create Appointment"]})})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt--10 pb-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",children:[e.jsxs(m,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-blue-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(h,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(f,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Total Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:Ge}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"All appointments"})]})]})]})})]}),e.jsxs(m,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-green-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-green-500 to-green-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-green-400 to-green-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(h,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(vs,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:Je}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Ready to proceed"})]})]})]})})]}),e.jsxs(m,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-yellow-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(h,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 via-yellow-600 to-amber-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(Fe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:Ke}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"Awaiting approval"})]})]})]})})]}),e.jsxs(m,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-emerald-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(h,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 via-emerald-600 to-teal-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(Le,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:Qe}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-emerald-600 font-medium",children:"Successfully done"})]})]})]})})]}),e.jsxs(m,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-red-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-red-500 to-red-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-red-400 to-red-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(h,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 via-red-600 to-pink-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(Ns,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:Ze}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Cancelled appointments"})]})]})]})})]}),e.jsxs(m,{className:"group border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 border border-cyan-100/50",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-full -translate-y-12 translate-x-12 opacity-10 group-hover:opacity-20 transition-all duration-700"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-br from-cyan-400 to-cyan-500 rounded-full translate-y-8 -translate-x-8 opacity-5 group-hover:opacity-15 transition-all duration-700"}),e.jsx(h,{className:"p-4 relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-cyan-500 via-cyan-600 to-blue-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(Ae,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Online Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:es}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-xs text-cyan-600 font-medium",children:[ss," pending approval"]})]}),$>0&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-xs text-orange-600 font-medium",children:[$," ","patient cancelled"]})]})]})]})})]})]}),e.jsx(m,{className:"shadow-xl rounded-2xl border-0 bg-white/95 backdrop-blur-sm overflow-hidden mb-8",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative group",children:[e.jsx(ys,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-200"}),e.jsx("input",{type:"text",placeholder:"Search appointments by patient name, email, or phone...",value:C,onChange:s=>ze(s.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-gray-700 placeholder-gray-400"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Re,{value:v,onValueChange:We,children:[e.jsx(_e,{className:"px-4 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-blue-500",children:e.jsx(qe,{placeholder:"All Status"})}),e.jsxs(Pe,{children:[e.jsx(x,{value:"all",children:"All Status"}),e.jsx(x,{value:"Pending",children:"Pending"}),e.jsx(x,{value:"Confirmed",children:"Confirmed"}),e.jsx(x,{value:"Completed",children:"Completed"}),e.jsx(x,{value:"Cancelled",children:"Cancelled"}),e.jsx(x,{value:"No Show",children:"No Show"})]})]}),e.jsxs(Re,{value:N,onValueChange:Ie,children:[e.jsx(_e,{className:"px-4 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-blue-500",children:e.jsx(qe,{placeholder:"All Types"})}),e.jsxs(Pe,{children:[e.jsx(x,{value:"all",children:"All Types"}),e.jsx(x,{value:"Walk-in",children:"Walk-in"}),e.jsx(x,{value:"Phone Call",children:"Phone Call"}),e.jsx(x,{value:"Online Booking",children:"Online Booking"}),e.jsx(x,{value:"Follow-up",children:"Follow-up"}),e.jsx(x,{value:"Emergency",children:"Emergency"})]})]}),e.jsx("input",{type:"date",value:k,onChange:s=>$e(s.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-blue-500"}),e.jsxs(r,{onClick:ls,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all duration-200",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]})})}),e.jsxs(m,{className:"shadow-2xl rounded-2xl border-0 bg-white/95 backdrop-blur-sm overflow-hidden",children:[e.jsx(ps,{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800",children:e.jsxs(js,{className:"flex items-center gap-3 text-xl text-white",children:[e.jsx(f,{className:"h-6 w-6 text-white"}),"Appointments List"]})}),e.jsxs(h,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"Patient"]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Type"]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4"}),"Status"]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Date & Time"]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Dentist"]})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Service"]})}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-white uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Cs,{className:"h-4 w-4"}),"Actions"]})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:(le=a==null?void 0:a.data)==null?void 0:le.map(s=>{var p,j,ge,be,q,pe,je,fe,ve,Ne,ye,we,Ce,ke,Se,De;const l=((ge=(j=(p=s.type)==null?void 0:p.name)==null?void 0:j.toLowerCase)==null?void 0:ge.call(j))==="online booking",i=((pe=(q=(be=s.status)==null?void 0:be.name)==null?void 0:q.toLowerCase)==null?void 0:pe.call(q))||"";return e.jsxs("tr",{className:"transition-all duration-300 border-b border-gray-100/50 hover:border-blue-200/50 hover:bg-gradient-to-r hover:from-blue-50/60 hover:via-indigo-50/40 hover:to-cyan-50/60",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:e.jsx(Me,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900 leading-tight",children:[((je=s.patient)==null?void 0:je.first_name)||"Unknown"," ",((fe=s.patient)==null?void 0:fe.last_name)||""]}),e.jsx("div",{className:"text-sm text-gray-600",children:((ve=s.patient)==null?void 0:ve.email)||"No email"}),((Ne=s.patient)==null?void 0:Ne.phone_number)&&e.jsx("div",{className:"text-sm text-blue-600 font-mono bg-blue-50 px-2 py-0.5 rounded text-xs mt-1 inline-block",children:s.patient.phone_number})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:`text-xs font-semibold px-3 py-1.5 rounded-full border ${as((ye=s.type)==null?void 0:ye.name)}`,children:(we=s.type)==null?void 0:we.name}),l&&s.cancelled_at&&s.cancellation_reason&&e.jsx(E,{className:"text-xs font-semibold px-2 py-1 rounded-full border bg-orange-100 text-orange-700 border-orange-300",title:"Cancelled by patient",children:"Patient Cancelled"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(E,{className:`text-xs font-semibold px-3 py-1.5 rounded-full border ${ts((Ce=s.status)==null?void 0:Ce.name)}`,children:(ke=s.status)==null?void 0:ke.name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"h-4 w-4 text-gray-400"}),Oe(new Date(s.scheduled_at),"MMM d, yyyy")]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:Oe(new Date(s.scheduled_at),"h:mm a")}),s.duration&&e.jsxs("div",{className:"text-xs text-gray-500",children:[s.duration," ","min"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.assigned_dentist?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Be,{className:"h-4 w-4 text-green-600"})}),e.jsx("span",{className:"font-medium",children:((Se=s.assigned_dentist)==null?void 0:Se.name)||"Unknown"})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Not assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.service?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ee,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.service.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["₱",s.service.price||0]})]})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"No service"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>window.location.href=route("clinic.appointments.show",[d.id,s.id]),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 p-2 rounded-lg transition-all duration-200 hover:scale-105",title:"View Appointment Details",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>window.location.href=route("clinic.appointments.edit",[d.id,s.id]),className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-2 rounded-lg transition-all duration-200 hover:scale-105",title:"Edit Appointment",children:e.jsx(Ss,{className:"h-4 w-4"})}),l&&i==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>rs(s),className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-2 rounded-lg transition-all duration-200 hover:scale-105",title:"Approve Appointment",children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>is(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-all duration-200 hover:scale-105",title:"Deny Appointment",children:e.jsx(F,{className:"h-4 w-4"})})]}),((De=s.status)==null?void 0:De.name)==="Pending Reschedule"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>ns(s),className:"text-green-600 hover:text-green-700 hover:bg-green-50 p-2 rounded-lg transition-all duration-200 hover:scale-105",title:"Approve Reschedule",children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>ds(s),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-all duration-200 hover:scale-105",title:"Deny Reschedule",children:e.jsx(F,{className:"h-4 w-4"})})]})]})})]},s.id)})})]})}),(!(a!=null&&a.data)||a.data.length===0)&&e.jsx(m,{className:"shadow-2xl rounded-2xl border-0 bg-white/95 backdrop-blur-sm overflow-hidden",children:e.jsx(h,{className:"p-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(f,{className:"h-12 w-12 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:C||v!=="all"||N!=="all"||k?"No appointments found":"No appointments yet"}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:C||v!=="all"||N!=="all"||k?"Try adjusting your search or filter criteria to find what you're looking for.":"Get started by creating your first appointment to manage your clinic's schedule."}),e.jsx(P,{href:route("clinic.appointments.create-simplified",d.id),children:e.jsxs(r,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(Te,{className:"h-5 w-5 mr-2"}),"Create Appointment"]})})]})})})]})]}),((re=a==null?void 0:a.data)==null?void 0:re.length)>0&&(a==null?void 0:a.last_page)>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",a.from," to"," ",a.to," of ",a.total," ","results"]}),e.jsx("div",{className:"flex items-center gap-2",children:(ie=a==null?void 0:a.links)==null?void 0:ie.map((s,l)=>e.jsx(P,{href:s.url,className:`px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${s.active?"bg-blue-600 text-white":s.url?"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},l))})]})]})]}),L&&t&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>S(!1),children:e.jsx("span",{className:"text-2xl",children:"×"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Approve Appointment Request"}),e.jsx("p",{className:"text-gray-600",children:"Review and confirm this online booking request"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Appointment Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Patient:"}),e.jsxs("span",{className:"font-medium",children:[(ne=t.patient)==null?void 0:ne.first_name," ",(de=t.patient)==null?void 0:de.last_name]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date & Time:"}),e.jsxs("span",{className:"font-medium",children:[new Date(t.scheduled_at).toLocaleDateString()," ","at"," ",new Date(t.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reason:"}),e.jsx("span",{className:"font-medium",children:t.reason})]}),t.service&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service:"}),e.jsx("span",{className:"font-medium",children:t.service.name})]}),t.notes&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Notes:"}),e.jsx("span",{className:"font-medium",children:t.notes})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Requested:"}),e.jsx("span",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Dentist (optional)"}),e.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500",value:O,onChange:s=>z(s.target.value),children:[e.jsx("option",{value:"",children:"Unassigned - Will be assigned later"}),He.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The patient will be notified of the assigned dentist via email"})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:b}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Patient will receive a confirmation email"}),e.jsx("li",{children:'• Appointment will be marked as "Confirmed"'}),e.jsx("li",{children:"• Patient can view details in their portal"}),e.jsx("li",{children:"• Appointment will appear in your calendar"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(r,{variant:"outline",onClick:()=>S(!1),disabled:c,children:"Cancel"}),e.jsx(r,{style:{backgroundColor:"#22c55e",color:"white",border:"none"},className:"flex items-center gap-2 rounded-lg px-4 py-2 hover:bg-green-700 focus:ring-2 focus:ring-green-400",onClick:os,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Approving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4"})," Approve Appointment"]})})]})]})}),Ue&&t&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>D(!1),children:e.jsx("span",{className:"text-2xl",children:"×"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Deny Appointment Request"}),e.jsx("p",{className:"text-gray-600",children:"Please provide a reason for denying this appointment request"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Appointment Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Patient:"}),e.jsxs("span",{className:"font-medium",children:[(oe=t.patient)==null?void 0:oe.first_name," ",(ce=t.patient)==null?void 0:ce.last_name]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Date & Time:"}),e.jsxs("span",{className:"font-medium",children:[new Date(t.scheduled_at).toLocaleDateString()," ","at"," ",new Date(t.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reason:"}),e.jsx("span",{className:"font-medium",children:t.reason})]}),t.service&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service:"}),e.jsx("span",{className:"font-medium",children:t.service.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Requested:"}),e.jsx("span",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Denial"}),e.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-red-500",value:W,onChange:s=>M(s.target.value),rows:4,placeholder:"Please provide a reason for denying this appointment request. This will be included in the email sent to the patient."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This reason will be sent to the patient via email"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Common Reasons (click to select)"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:["No available slots at requested time","Requested service not available","Dentist not available","Clinic fully booked","Patient needs to reschedule","Insufficient information provided"].map(s=>e.jsx("button",{type:"button",className:"text-left p-2 text-sm bg-gray-100 hover:bg-gray-200 rounded border",onClick:()=>M(s),children:s},s))})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:b}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• Patient will receive a denial email with your reason"}),e.jsx("li",{children:'• Appointment will be marked as "Cancelled"'}),e.jsx("li",{children:"• Patient can submit a new request for a different time"}),e.jsx("li",{children:"• You can contact the patient directly if needed"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(r,{variant:"outline",onClick:()=>D(!1),disabled:c,children:"Cancel"}),e.jsx(r,{variant:"destructive",className:"flex items-center gap-2 rounded-lg px-4 py-2",onClick:cs,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Denying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4"})," Deny Appointment"]})})]})]})}),Ve&&t&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>A(!1),children:e.jsx("span",{className:"text-2xl",children:"×"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"Approve Reschedule Request"}),e.jsx("p",{className:"text-gray-600",children:"Review and approve this reschedule request"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Reschedule Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Patient:"}),e.jsxs("span",{className:"font-medium",children:[(xe=t.patient)==null?void 0:xe.first_name," ",(me=t.patient)==null?void 0:me.last_name]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Time:"}),e.jsxs("span",{className:"font-medium",children:[new Date(t.scheduled_at).toLocaleDateString()," ","at"," ",new Date(t.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Requested Time:"}),e.jsx("span",{className:"font-medium text-green-600",children:t.requested_scheduled_at?new Date(t.requested_scheduled_at).toLocaleDateString()+" at "+new Date(t.requested_scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.notes&&t.notes.includes("Requested new time:")?(()=>{const s=t.notes.match(/Requested new time: (.+)/);return s?s[1]:"Not specified"})():"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reason:"}),e.jsx("span",{className:"font-medium",children:(()=>{var p;if(!t.notes)return"No reason provided";const s=t.notes.match(/Reason: (.+?)(?:\n|$)/);if(s)return s[1].trim();const l=t.notes.split(`
`),i=(p=l[l.length-1])==null?void 0:p.trim();return i&&!i.includes("Requested new time:")&&!i.match(/^\d{4}-\d{2}-\d{2}/)&&!i.includes("Rescheduled by patient")?i:"No reason provided"})()})]})]})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:b}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Appointment will be rescheduled to the requested time"}),e.jsx("li",{children:"• Patient will receive a confirmation email"}),e.jsx("li",{children:'• Appointment status will change to "Confirmed"'}),e.jsx("li",{children:"• Original time slot will be freed up"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(r,{variant:"outline",onClick:()=>A(!1),disabled:c,children:"Cancel"}),e.jsx(r,{style:{backgroundColor:"#22c55e",color:"white",border:"none"},className:"flex items-center gap-2 rounded-lg px-4 py-2 hover:bg-green-700 focus:ring-2 focus:ring-green-400",onClick:xs,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Approving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4"})," Approve Reschedule"]})})]})]})}),Ye&&t&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full relative max-h-[90vh] overflow-y-auto",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>R(!1),children:e.jsx("span",{className:"text-2xl",children:"×"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Deny Reschedule Request"}),e.jsx("p",{className:"text-gray-600",children:"Please provide a reason for denying this reschedule request"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Reschedule Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Patient:"}),e.jsxs("span",{className:"font-medium",children:[(he=t.patient)==null?void 0:he.first_name," ",(ue=t.patient)==null?void 0:ue.last_name]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Time:"}),e.jsxs("span",{className:"font-medium",children:[new Date(t.scheduled_at).toLocaleDateString()," ","at"," ",new Date(t.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Requested Time:"}),e.jsx("span",{className:"font-medium text-orange-600",children:t.requested_scheduled_at?new Date(t.requested_scheduled_at).toLocaleDateString()+" at "+new Date(t.requested_scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.notes&&t.notes.includes("Requested new time:")?(()=>{const s=t.notes.match(/Requested new time: (.+)/);return s?s[1]:"Not specified"})():"Not specified"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Denial"}),e.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-red-500",value:I,onChange:s=>B(s.target.value),rows:4,placeholder:"Please provide a reason for denying this reschedule request. This will be included in the email sent to the patient."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This reason will be sent to the patient via email"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Common Reasons (click to select)"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:["No available slots at requested time","Dentist not available at requested time","Clinic fully booked at requested time","Requested time conflicts with existing appointments","Insufficient notice for reschedule","Patient needs to contact clinic directly"].map(s=>e.jsx("button",{type:"button",className:"text-left p-2 text-sm bg-gray-100 hover:bg-gray-200 rounded border",onClick:()=>B(s),children:s},s))})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:b}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"What happens next?"}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• Patient will receive a denial email with your reason"}),e.jsx("li",{children:"• Appointment will remain at its original time"}),e.jsx("li",{children:"• Patient can contact you directly to discuss alternatives"}),e.jsx("li",{children:"• Reschedule request will be cleared"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(r,{variant:"outline",onClick:()=>R(!1),disabled:c,children:"Cancel"}),e.jsx(r,{variant:"destructive",className:"flex items-center gap-2 rounded-lg px-4 py-2",onClick:ms,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Denying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4"})," Deny Reschedule"]})})]})]})})]})}export{ft as default};
