import{r as i,j as e}from"./app-ZxAlEvdA.js";import{B as b}from"./button-Cdvy3pKR.js";import{X as D}from"./x-D6ZOpFzI.js";import{C as d}from"./calendar-BeQFvPO6.js";import{C}from"./clock-BC-UvfcT.js";import{U as S}from"./user-BlbscHIi.js";import{F as T}from"./file-text-D4WzFC7v.js";import{C as p}from"./circle-alert-Cy-oflQw.js";import"./index-IHKkMNBC.js";import"./createLucideIcon-yAbt-hik.js";function Y({showModal:f,onClose:j,appointment:t,onConfirm:N,loading:n=!1}){var g;const[r,o]=i.useState(""),[a,c]=i.useState(""),[m,x]=i.useState(""),[u,l]=i.useState("");if(!f||!t)return null;const w=()=>{const s=new Date;return s.setDate(s.getDate()+1),s.toISOString().split("T")[0]},y=()=>{const s=new Date;return s.setMonth(s.getMonth()+3),s.toISOString().split("T")[0]},v=s=>{if(s.preventDefault(),l(""),!r||!a){l("Please select both date and time.");return}if(new Date(`${r} ${a}`)<=new Date){l("Please select a future date and time.");return}N({new_date:r,new_time:a,reason:m.trim()||null})},h=()=>{o(""),c(""),x(""),l(""),j()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-6 max-w-2xl w-[95vw] sm:w-full relative mx-2 sm:mx-4 max-h-[85vh] overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#d1d5db #f3f4f6"},children:[e.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-full p-2 hover:bg-gray-100",onClick:h,"aria-label":"Close rescheduling modal",children:e.jsx(D,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(d,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Reschedule Appointment"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Select a new date and time for your appointment"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(d,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Current Appointment"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Your existing appointment details"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(d,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Date"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.scheduled_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(C,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Time"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(S,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Clinic"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:((g=t.clinic)==null?void 0:g.name)||"Clinic"})]}),t.reason&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(T,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Reason"})]}),e.jsx("p",{className:"text-sm text-gray-900",children:t.reason})]})]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Date *"}),e.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:r,min:w(),max:y(),onChange:s=>o(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Time *"}),e.jsx("input",{type:"time",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:a,onChange:s=>c(s.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Rescheduling (Optional)"}),e.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",value:m,onChange:s=>x(s.target.value),rows:3,placeholder:"Please provide a reason for rescheduling this appointment..."})]}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-red-600"}),e.jsx("p",{className:"text-red-800 text-sm",children:u})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(p,{className:"w-4 h-4 text-blue-600"})}),e.jsx("h4",{className:"font-medium text-blue-900",children:"Important Information"})]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• The clinic will be notified of your rescheduling request"}),e.jsx("li",{children:"• Your new appointment time is subject to availability"}),e.jsx("li",{children:"• You will receive confirmation once approved"}),e.jsx("li",{children:"• Please arrive 10 minutes before your new scheduled time"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(b,{type:"button",variant:"outline",onClick:h,disabled:n,className:"px-6 py-2",children:"Cancel"}),e.jsx(b,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Rescheduling..."]}):"Reschedule Appointment"})]})]})]})})}export{Y as default};
