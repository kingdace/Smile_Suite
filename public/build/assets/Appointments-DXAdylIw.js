import{r as p,j as e,$ as z,Y as V,m as b}from"./app-0NEBy9BJ.js";import{E as W,R as L,C as X,X as G,Y as q,T as $,a as J}from"./ExportButton-JoKoNBtV.js";import{A as O}from"./AuthenticatedLayout-Dw6WlmNe.js";import{C as t,c as l,a as j,b as u}from"./card-Bi1LQnVT.js";import{B as x}from"./button-HTjkDkdd.js";import{B as Q}from"./badge-DRGinVhB.js";import{I as f}from"./input-B5HdwBrp.js";import{L as g}from"./label-QKzL7hA2.js";import{S as Z,a as ee,b as se,c as ae,d as h}from"./select-D7GD0hqE.js";import{T as te,a as le,b as H,c as i,d as re,e as d}from"./table-C4LRoVXB.js";import{A as ie}from"./arrow-left-D43ESfQ7.js";import{C as de}from"./calendar-BySnFgk6.js";import{C as ce}from"./clock-CbwVHyBM.js";import{C as ne}from"./circle-check-big-CKkaOrUr.js";import{C as oe}from"./calendar-days-Ci-szSPi.js";import{C as me}from"./chart-column-BayDDSxC.js";import{B as xe,a as N}from"./BarChart-CSIsX4lb.js";import{U as he}from"./users-B27bU5zr.js";import{P as pe,a as je}from"./PieChart-Tw84ux5t.js";import{F as ue}from"./funnel-gngOd4J3.js";import{S as ge}from"./search-DQeRNUKD.js";import{E as be}from"./eye-BPTaohOe.js";import{f as fe}from"./format-CYZdy3_o.js";import"./index-D_vL4xTc.js";import"./utcTime-Bp1e7X_j.js";import"./SiteHeader-pucSt_3F.js";import"./index-DyBFjraK.js";import"./user-DGn9BjnL.js";import"./createLucideIcon-CXdhGpw2.js";import"./stethoscope-DQNiqfGN.js";import"./x-BmcQdfAq.js";import"./dropdown-menu-9HAQh9sF.js";import"./index-CWWwxASF.js";import"./index-DcAynW7B.js";import"./chevron-right-uGxx9l95.js";import"./circle-CkW3sI5F.js";import"./download-DvekdBIG.js";import"./file-text-D0kUTKvl.js";import"./loader-circle-Dp3XKXsU.js";import"./circle-alert-WXa1N7H8.js";import"./layout-dashboard-CShM3v2X.js";import"./scissors-DUdWMhH-.js";import"./dollar-sign-DyPiHvO_.js";import"./shield-Dwr4YKLO.js";import"./trending-up-BN2beQrY.js";import"./crown-CgVQCNXW.js";import"./zap-40k-cQGm.js";import"./info-BdUgvOC_.js";import"./circle-x-DKXu_aeT.js";import"./building-2-DkFw8SPs.js";import"./triangle-alert-CrRGYxRV.js";import"./index-CR6Ll2Xh.js";import"./ErrorBarContext-9ACONtTU.js";function fs({auth:M,clinic:n,appointments:c,appointmentStats:r,filters:o}){var B,k,D,P,R;const[v,w]=p.useState(o.search||""),[y,C]=p.useState(o.status||""),[S,T]=p.useState(o.date_from||""),[_,A]=p.useState(o.date_to||""),K=()=>{b.get(route("clinic.reports.appointments",n.id),{search:v,status:y,date_from:S,date_to:_},{preserveState:!0})},I=()=>{w(""),C(""),T(""),A(""),b.get(route("clinic.reports.appointments",n.id))},U=s=>{const a={Pending:{variant:"secondary",className:"bg-yellow-100 text-yellow-700"},Confirmed:{variant:"default",className:"bg-blue-100 text-blue-700"},Completed:{variant:"default",className:"bg-green-100 text-green-700"},Cancelled:{variant:"destructive",className:"bg-red-100 text-red-700"},"No Show":{variant:"destructive",className:"bg-gray-100 text-gray-700"}},m=a[s]||a.Pending;return e.jsx(Q,{variant:m.variant,className:m.className,children:s})},Y=[{day:"Mon",scheduled:12,completed:10,cancelled:2},{day:"Tue",scheduled:15,completed:14,cancelled:1},{day:"Wed",scheduled:18,completed:16,cancelled:2},{day:"Thu",scheduled:14,completed:13,cancelled:1},{day:"Fri",scheduled:16,completed:15,cancelled:1},{day:"Sat",scheduled:8,completed:7,cancelled:1},{day:"Sun",scheduled:3,completed:3,cancelled:0}],F=[{name:"Completed",value:r.completed_appointments,color:"#10B981"},{name:"Pending",value:r.pending_appointments,color:"#F59E0B"},{name:"Cancelled",value:r.cancelled_appointments,color:"#EF4444"}];return e.jsxs(O,{auth:M,children:[e.jsx(z,{title:"Appointments Report"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 shadow-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-8 py-12",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Appointments Report"}),e.jsx("p",{className:"text-blue-100",children:"Comprehensive appointment scheduling and status analysis"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{exportRoute:`/clinic/${n.id}/reports/export/appointments`,filters:o,clinic:n,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20"}),e.jsx(V,{href:route("clinic.reports.index",n.id),children:e.jsxs(x,{variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Back to Reports"]})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:((B=r.total_appointments)==null?void 0:B.toLocaleString())||0})]}),e.jsx(de,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:((k=r.pending_appointments)==null?void 0:k.toLocaleString())||0})]}),e.jsx(ce,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:((D=r.completed_appointments)==null?void 0:D.toLocaleString())||0})]}),e.jsx(ne,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:((P=r.this_month)==null?void 0:P.toLocaleString())||0})]}),e.jsx(oe,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(j,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5 text-blue-600"}),"Weekly Appointment Trends"]})}),e.jsx(l,{children:e.jsx(L,{width:"100%",height:300,children:e.jsxs(xe,{data:Y,children:[e.jsx(X,{strokeDasharray:"3 3"}),e.jsx(G,{dataKey:"day"}),e.jsx(q,{}),e.jsx($,{}),e.jsx(N,{dataKey:"scheduled",fill:"#3B82F6",name:"Scheduled"}),e.jsx(N,{dataKey:"completed",fill:"#10B981",name:"Completed"}),e.jsx(N,{dataKey:"cancelled",fill:"#EF4444",name:"Cancelled"})]})})})]}),e.jsxs(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(j,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-green-600"}),"Status Distribution"]})}),e.jsx(l,{children:e.jsx(L,{width:"100%",height:300,children:e.jsxs(pe,{children:[e.jsx(je,{data:F,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:s,percent:a})=>`${s} ${(a*100).toFixed(0)}%`,children:F.map((s,a)=>e.jsx(J,{fill:s.color},`cell-${a}`))}),e.jsx($,{})]})})})]})]}),e.jsxs(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm mb-6",children:[e.jsx(j,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"search",children:"Search"}),e.jsx(f,{id:"search",placeholder:"Search appointments...",value:v,onChange:s=>w(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"status",children:"Status"}),e.jsxs(Z,{value:y,onValueChange:C,children:[e.jsx(ee,{children:e.jsx(se,{placeholder:"All statuses"})}),e.jsxs(ae,{children:[e.jsx(h,{value:"",children:"All statuses"}),e.jsx(h,{value:"Pending",children:"Pending"}),e.jsx(h,{value:"Confirmed",children:"Confirmed"}),e.jsx(h,{value:"Completed",children:"Completed"}),e.jsx(h,{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"date_from",children:"From Date"}),e.jsx(f,{id:"date_from",type:"date",value:S,onChange:s=>T(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"date_to",children:"To Date"}),e.jsx(f,{id:"date_to",type:"date",value:_,onChange:s=>A(s.target.value)})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(x,{onClick:K,className:"flex-1",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Search"]}),e.jsx(x,{variant:"outline",onClick:I,children:"Clear"})]})]})})]}),e.jsxs(t,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[e.jsx(j,{children:e.jsx(u,{children:"Appointments List"})}),e.jsxs(l,{children:[e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(H,{children:[e.jsx(i,{children:"Patient"}),e.jsx(i,{children:"Dentist"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Scheduled Date"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Duration"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(re,{children:(R=c.data)==null?void 0:R.map(s=>{var a,m,E;return e.jsxs(H,{children:[e.jsx(d,{className:"font-medium",children:s.patient?`${s.patient.first_name} ${s.patient.last_name}`:"N/A"}),e.jsx(d,{children:((a=s.assigned_dentist)==null?void 0:a.name)||"Unassigned"}),e.jsx(d,{children:((m=s.type)==null?void 0:m.name)||"N/A"}),e.jsx(d,{children:s.scheduled_at?fe(new Date(s.scheduled_at),"MMM dd, yyyy HH:mm"):"N/A"}),e.jsx(d,{children:U(((E=s.status)==null?void 0:E.name)||"Unknown")}),e.jsx(d,{children:s.duration_minutes?`${s.duration_minutes} min`:"N/A"}),e.jsx(d,{children:e.jsx(x,{variant:"ghost",size:"sm",children:e.jsx(be,{className:"w-4 h-4"})})})]},s.id)})})]}),c.links&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",c.from||0," to ",c.to||0," of"," ",c.total||0," appointments"]}),e.jsx("div",{className:"flex items-center gap-2",children:c.links.map((s,a)=>e.jsx(x,{variant:s.active?"default":"outline",size:"sm",onClick:()=>s.url&&b.get(s.url),disabled:!s.url,dangerouslySetInnerHTML:{__html:s.label}},a))})]})]})]})]})]})]})}export{fs as default};
