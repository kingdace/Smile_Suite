import{r,j as e}from"./app-DzAKanfO.js";import{X as C}from"./x-Brym1Brg.js";import{U as y}from"./user-CeFybYqA.js";import{L as I,C as D}from"./loader-circle-BB5RhGLQ.js";import{C as P}from"./calendar-CV3bSJAg.js";import{M}from"./map-pin-CIstfWnD.js";import{S as A}from"./stethoscope-CYcZ01Kt.js";import{I as E}from"./info-DsO6QNII.js";import{C as T}from"./credit-card-C2XLdkf-.js";import{P as H}from"./phone-BCpjmzLD.js";import{S as $}from"./send-B0R47DHI.js";const l=({className:a="w-6 h-6"})=>e.jsx("img",{src:"/icons/smiley.png",alt:"SmileyDy - Dental AI Assistant",className:a,style:{objectFit:"contain",width:"100%",height:"100%"}}),V=()=>{const[a,g]=r.useState(!1),[c,m]=r.useState(!1),[h,w]=r.useState([{id:1,type:"bot",content:"Hi! I'm SmileyDy ðŸ˜Š How can I help you find the perfect dental clinic today?",timestamp:new Date}]),[o,x]=r.useState(""),[n,u]=r.useState(!1),p=r.useRef(null),j=()=>{var s;(s=p.current)==null||s.scrollIntoView({behavior:"smooth"})};r.useEffect(()=>{j()},[h]);const v=[{icon:P,text:"Book Appointment",action:"book"},{icon:M,text:"Find Clinics",action:"find"},{icon:A,text:"Dental Services",action:"services"},{icon:E,text:"Platform Info",action:"platform"},{icon:y,text:"Patient Portal",action:"patient"},{icon:T,text:"Payment Methods",action:"payment"},{icon:H,text:"Contact Info",action:"contact"},{icon:D,text:"Help & Support",action:"help"}],N=s=>{let t="";switch(s){case"book":t="how do I book an appointment?";break;case"find":t="find clinics near me";break;case"services":t="what dental services are available?";break;case"platform":t="tell me about Smile Suite platform";break;case"patient":t="how does patient registration work?";break;case"payment":t="what payment methods do you accept?";break;case"contact":t="how can I contact a clinic?";break;case"help":t="I need help with something";break}i("user",t),f(t)},f=async s=>{u(!0);try{const t=await fetch("/api/chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const d=await t.json();i("bot",d.response)}catch(t){console.error("Chatbot error:",t),i("bot","Sorry, I'm having trouble right now. Please try again or contact us directly!")}finally{u(!1)}},i=(s,t)=>{const d={id:Date.now(),type:s,content:t,timestamp:new Date};w(S=>[...S,d])},b=async()=>{if(!o.trim()||n)return;const s=o.trim();x(""),i("user",s),f(s)},k=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),b())};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g(!a),className:`fixed bottom-4 left-4 sm:bottom-6 sm:left-6 w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-cyan-600 via-blue-600 to-blue-700 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 z-50 group transform hover:scale-105 active:scale-95 ${a?"rotate-90":""}`,style:{boxShadow:"0 8px 32px rgba(6, 182, 212, 0.4)"},children:a?e.jsx(C,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white mx-auto"}):e.jsx(l,{className:"w-6 h-6 sm:w-7 sm:h-7 mx-auto group-hover:scale-110 transition-transform duration-300"})}),!a&&e.jsx("div",{className:"fixed bottom-20 left-2 z-40 flex items-center hidden sm:flex",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-md px-2 py-1.5 shadow-lg border border-cyan-100",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1 h-1 bg-cyan-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Need help? ðŸ˜Š"})]})})}),a&&e.jsxs("div",{className:"fixed bottom-20 left-2 right-2 sm:bottom-24 sm:left-6 sm:right-auto w-auto sm:w-80 h-[24rem] sm:h-[28rem] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-gray-100 z-40 flex flex-col overflow-hidden backdrop-blur-sm",children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-600 via-blue-600 to-blue-700 p-1.5 sm:p-2 text-white",children:e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-md flex items-center justify-center backdrop-blur-sm",children:e.jsx(l,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-xs sm:text-sm truncate",children:"SmileyDy"}),e.jsx("p",{className:"text-blue-100 text-xs truncate",children:"Dental assistant"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full animate-pulse"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2 sm:p-3 space-y-1.5 sm:space-y-2 bg-gray-50/50",children:[h.map(s=>e.jsx("div",{className:`flex ${s.type==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[90%] sm:max-w-[85%] p-2.5 sm:p-3 rounded-xl sm:rounded-2xl ${s.type==="user"?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-br-md shadow-sm":"bg-white text-gray-800 rounded-bl-md shadow-sm border border-gray-100"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[s.type==="bot"&&e.jsx("div",{className:"w-6 h-6 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(l,{className:"w-4 h-4"})}),s.type==="user"&&e.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(y,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"text-xs sm:text-sm leading-relaxed whitespace-pre-line",children:s.content})]})})},s.id)),n&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white p-3 rounded-2xl rounded-bl-md shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-cyan-100 rounded-full flex items-center justify-center",children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx(I,{className:"w-4 h-4 animate-spin text-cyan-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"SmileyDy is typing..."})]})})}),e.jsx("div",{ref:p})]}),e.jsxs("div",{className:"px-2 sm:px-3 py-1.5 sm:py-2 border-t border-gray-100 bg-white",children:[e.jsxs("button",{onClick:()=>m(!c),className:"w-full flex items-center justify-center gap-1.5 p-1.5 sm:p-2 bg-gradient-to-r from-cyan-50 to-blue-50 hover:from-cyan-100 hover:to-blue-100 text-cyan-700 rounded-md sm:rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-sm border border-cyan-100 active:scale-95",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"+"})}),e.jsx("span",{className:"font-medium text-xs",children:"Quick Actions"})]}),e.jsx("div",{className:`transform transition-transform duration-200 ${c?"rotate-45":""}`,children:e.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"+"})})})]}),c&&e.jsx("div",{className:"mt-2 grid grid-cols-4 gap-1 sm:gap-1.5 animate-in slide-in-from-top-2 duration-200",children:v.map((s,t)=>e.jsxs("button",{onClick:()=>{N(s.action),m(!1)},className:"flex flex-col items-center gap-1 p-1.5 sm:p-2 text-xs bg-gradient-to-r from-cyan-50 to-blue-50 hover:from-cyan-100 hover:to-blue-100 text-cyan-700 rounded-md sm:rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-sm border border-cyan-100 active:scale-95",children:[e.jsx(s.icon,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e.jsx("span",{className:"font-medium text-xs leading-tight text-center",children:s.text})]},t))})]}),e.jsx("div",{className:"p-1.5 sm:p-2 border-t border-gray-100 bg-white",children:e.jsxs("div",{className:"flex gap-1 sm:gap-1.5",children:[e.jsx("input",{type:"text",value:o,onChange:s=>x(s.target.value),onKeyPress:k,placeholder:"Ask SmileyDy anything...",className:"flex-1 p-1.5 sm:p-2 border border-gray-200 rounded-md sm:rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-xs sm:text-sm bg-gray-50 focus:bg-white transition-colors",disabled:n}),e.jsx("button",{onClick:b,disabled:!o.trim()||n,className:"p-1.5 sm:p-2 bg-gradient-to-r from-cyan-600 to-blue-600 text-white rounded-md sm:rounded-lg hover:from-cyan-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:scale-105 hover:shadow-lg active:scale-95",children:e.jsx($,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"})})]})})]})]})};export{V as S};
