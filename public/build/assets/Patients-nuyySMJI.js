import{j as e,$ as T,Y as U}from"./app-0NEBy9BJ.js";import{E as R,R as f,C as N,X as w,Y as v,T as y}from"./ExportButton-JoKoNBtV.js";import{A as L}from"./AuthenticatedLayout-Dw6WlmNe.js";import{C as i,c as o,a as x,b as h}from"./card-Bi1LQnVT.js";import{B as F}from"./button-HTjkDkdd.js";import{B as b}from"./badge-DRGinVhB.js";import"./input-B5HdwBrp.js";import{U as n}from"./users-B27bU5zr.js";import{A as I}from"./arrow-left-D43ESfQ7.js";import{T as m}from"./trending-up-BN2beQrY.js";import{U as M}from"./user-plus-l7gS4dDR.js";import{A as _}from"./activity-QSLFB4Jp.js";import{D as C}from"./dollar-sign-DyPiHvO_.js";import{C as $}from"./chart-column-BayDDSxC.js";import{L as E}from"./LineChart-y9cUK1t6.js";import{L as K}from"./Line-CUJWVbA0.js";import{B as O,a as Y}from"./BarChart-CSIsX4lb.js";import{C as k}from"./calendar-BySnFgk6.js";import{C as G}from"./clock-CbwVHyBM.js";import{S as H}from"./stethoscope-DQNiqfGN.js";import"./index-D_vL4xTc.js";import"./utcTime-Bp1e7X_j.js";import"./SiteHeader-pucSt_3F.js";import"./index-DyBFjraK.js";import"./user-DGn9BjnL.js";import"./createLucideIcon-CXdhGpw2.js";import"./x-BmcQdfAq.js";import"./dropdown-menu-9HAQh9sF.js";import"./index-CWWwxASF.js";import"./index-DcAynW7B.js";import"./chevron-right-uGxx9l95.js";import"./circle-CkW3sI5F.js";import"./download-DvekdBIG.js";import"./file-text-D0kUTKvl.js";import"./loader-circle-Dp3XKXsU.js";import"./circle-alert-WXa1N7H8.js";import"./circle-check-big-CKkaOrUr.js";import"./layout-dashboard-CShM3v2X.js";import"./scissors-DUdWMhH-.js";import"./shield-Dwr4YKLO.js";import"./crown-CgVQCNXW.js";import"./zap-40k-cQGm.js";import"./info-BdUgvOC_.js";import"./circle-x-DKXu_aeT.js";import"./building-2-DkFw8SPs.js";import"./triangle-alert-CrRGYxRV.js";import"./ActivePoints-C00igVAn.js";import"./ErrorBarContext-9ACONtTU.js";function Ee({auth:A,clinic:j,patients:r,patientStats:t,demographics:a,filters:B}){var g;const p=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s||0),c=s=>new Intl.NumberFormat("en-US").format(s||0),P=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});a!=null&&a.age_groups&&Object.entries(a.age_groups).map(([s,l])=>({group:s,count:l,percentage:t!=null&&t.total_patients?(l/t.total_patients*100).toFixed(1):"0"})),a!=null&&a.gender_distribution&&Object.entries(a.gender_distribution).map(([s,l])=>({name:s.charAt(0).toUpperCase()+s.slice(1),value:l,color:s==="male"?"#3B82F6":s==="female"?"#EC4899":"#10B981"})),a!=null&&a.categories&&Object.entries(a.categories).map(([s,l])=>({name:s.replace("_"," ").replace(/\b\w/g,d=>d.toUpperCase()),value:l}));const D=[{month:"Jan",patients:45},{month:"Feb",patients:52},{month:"Mar",patients:48},{month:"Apr",patients:61},{month:"May",patients:55},{month:"Jun",patients:67},{month:"Jul",patients:73},{month:"Aug",patients:69},{month:"Sep",patients:78},{month:"Oct",patients:82},{month:"Nov",patients:89},{month:"Dec",patients:95}];return e.jsxs(L,{auth:A,children:[e.jsx(T,{title:"Patient Reports"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-blue-150 to-cyan-100 rounded-t-lg mx-0 pt-4 shadow-2xl border border-blue-200/50 border-t border-t-blue-200",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-800 mx-5 mb-6 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5"}),e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-12 translate-x-12"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-white/5 rounded-full translate-y-8 -translate-x-8"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 bg-white/3 rounded-full -translate-y-8 -translate-x-8"}),e.jsx("div",{className:"relative px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/25 rounded-2xl backdrop-blur-sm border border-white/40 shadow-lg",children:e.jsx(n,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Patient Reports"}),e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Patient demographics, growth, and activity analysis"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{onClick:()=>window.history.back(),variant:"outline",className:"gap-2 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm px-4 py-2 rounded-lg transition-all duration-300",children:[e.jsx(I,{className:"h-4 w-4"}),"Back"]}),e.jsx(R,{exportRoute:`/clinic/${j.id}/reports/export/patients`,filters:B,clinic:j,variant:"outline",className:"gap-2 bg-white/20 border-white/30 text-white hover:bg-white/30 text-sm px-4 py-2 rounded-lg transition-all duration-300"})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-8 mt-6 pb-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(i,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:e.jsxs(o,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:c((t==null?void 0:t.total_patients)||0)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(n,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(m,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})]})]})}),e.jsx(i,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden border border-green-100/30",children:e.jsxs(o,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"New This Month"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:c((t==null?void 0:t.new_this_month)||0)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(M,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(m,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"+8% from last month"})]})]})}),e.jsx(i,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden border border-purple-100/30",children:e.jsxs(o,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Patients"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:c((t==null?void 0:t.active_patients)||0)})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:e.jsx(_,{className:"h-6 w-6 text-purple-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(m,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"+15% from last month"})]})]})}),e.jsx(i,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden border border-orange-100/30",children:e.jsxs(o,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:p((t==null?void 0:t.total_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:e.jsx(C,{className:"h-6 w-6 text-orange-600"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(m,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"+18% from last month"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs(i,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsx(x,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx(h,{className:"text-xl font-bold text-gray-900",children:"Patient Growth"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly patient registration trends"})]})]})}),e.jsx(o,{children:e.jsx("div",{className:"h-80",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(E,{data:D,children:[e.jsx(N,{strokeDasharray:"3 3"}),e.jsx(w,{dataKey:"month"}),e.jsx(v,{}),e.jsx(y,{}),e.jsx(K,{type:"monotone",dataKey:"patients",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})})]}),e.jsxs(i,{className:"border-0 shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden border border-blue-100/30",children:[e.jsx(x,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(_,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx(h,{className:"text-xl font-bold text-gray-900",children:"Patient Activity"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Distribution of patient engagement"})]})]})}),e.jsx(o,{children:e.jsx("div",{className:"h-80",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(O,{data:[{category:"New",count:t.new_this_month},{category:"Active",count:t.active_patients},{category:"Inactive",count:t.total_patients-t.active_patients}],children:[e.jsx(N,{strokeDasharray:"3 3"}),e.jsx(w,{dataKey:"category"}),e.jsx(v,{}),e.jsx(y,{}),e.jsx(Y,{dataKey:"count",fill:"#10B981"})]})})})})]})]}),e.jsxs(i,{className:"border-0 shadow-xl bg-gradient-to-br from-white to-blue-50/30 overflow-hidden",children:[e.jsx(x,{className:"pb-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(n,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx(h,{className:"text-2xl font-bold text-white",children:"Patient Records"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Comprehensive patient management overview"})]})]}),e.jsxs(b,{variant:"outline",className:"bg-white/20 text-white border-white/30 backdrop-blur-sm px-4 py-2",children:[(r==null?void 0:r.total)||0," patients"]})]})}),e.jsxs(o,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b-2 border-blue-100",children:[e.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4 text-blue-600"}),"Patient"]})}),e.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-green-600"}),"Contact"]})}),e.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-blue-600"}),"Appointments"]})}),e.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-green-600"}),"Treatments"]})}),e.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-emerald-600"}),"Total Spent"]})}),e.jsx("th",{className:"text-left py-4 px-12 font-bold text-gray-800 w-40",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-purple-600"}),"Last Visit"]})})]})}),e.jsx("tbody",{className:"bg-white",children:((g=r==null?void 0:r.data)==null?void 0:g.map((s,l)=>{var d,u;return e.jsxs("tr",{className:`border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/30 transition-all duration-200 ${l%2===0?"bg-white":"bg-gray-50/30"}`,children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-md shrink-0",children:[(d=s.first_name)==null?void 0:d.charAt(0),(u=s.last_name)==null?void 0:u.charAt(0)]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900 text-base",children:[s.first_name," ",s.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),"ID: ",s.id]})]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.email||"No email"]}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),s.phone_number||"No phone"]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs(b,{variant:"outline",className:"bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 border-blue-200 font-medium shadow-sm",children:[s.appointments_count||0," appointments"]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs(b,{variant:"outline",className:"bg-gradient-to-r from-green-50 to-emerald-100 text-green-700 border-green-200 font-medium shadow-sm",children:[s.treatments_count||0," treatments"]})}),e.jsx("td",{className:"py-4 px-9",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full shadow-sm"}),e.jsx("p",{className:"font-bold text-sm text-emerald-600",children:p(s.payments_sum_amount||0)})]})}),e.jsx("td",{className:"py-4 px-12 w-40",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full shrink-0"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:P(s.created_at)})]})})]},s.id)}))||e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(n,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No patients found"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Start by adding your first patient"})]})})})})]})}),(r==null?void 0:r.links)&&r.links.length>3&&e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gradient-to-r from-gray-50 to-blue-50 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Showing ",r.from||0," to ",r.to||0," of ",r.total||0," results"]}),e.jsx("div",{className:"flex gap-2",children:r.links.map((s,l)=>e.jsx(U,{href:s.url,className:`px-4 py-2 text-sm font-medium rounded-lg border transition-all duration-200 ${s.active?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-blue-600 shadow-md":"bg-white text-gray-700 border-gray-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 hover:border-blue-300 shadow-sm"}`,dangerouslySetInnerHTML:{__html:s.label}},l))})]})]})]})]})]})]})}export{Ee as default};
