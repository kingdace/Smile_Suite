import{v as q,j as e,$ as D,Y as F}from"./app-BytpB0TX.js";import{A as I}from"./AuthenticatedLayout-Br1RgKPG.js";import{C as k,a as A,b as E,c as L}from"./card-DvBlHsWB.js";import{I as m}from"./input-b_mCR-wU.js";import{L as l}from"./label-BHkS7Oac.js";import{B as n}from"./button-CtZjCLMA.js";import{I as o}from"./InputError-BlpO9tGX.js";import{T as h}from"./textarea-BkHvqQVB.js";import{S as b,a as g,b as j,c as f,d as c}from"./select-BzAtUc1W.js";import{P as N}from"./scissors-C29IvCgD.js";import{A as P}from"./arrow-left-BHUmxfQt.js";import{D as y}from"./dollar-sign-CmdQIFbL.js";import{C as T}from"./calendar-P5cjB2ud.js";import{L as O}from"./loader-circle-CkDTXvo7.js";import{S as B}from"./save-D-sB17NR.js";import"./ImageHelper-C4-MHkIR.js";import"./index-Bce1V77q.js";import"./layout-dashboard-ByTGW_ks.js";import"./createLucideIcon-C9b6KVSr.js";import"./users-aYUpDrTW.js";import"./clock-CUTjCDfl.js";import"./stethoscope-CCt4NXon.js";import"./chevron-right-oO7w1t3Q.js";import"./shield-D89UShmd.js";import"./trending-up-CRC8Tg-S.js";import"./circle-alert-BxqCbx5A.js";import"./SiteHeader-DkRsR5Bc.js";import"./index-nt-_yeOj.js";import"./user-DeoVP0od.js";import"./x-DJBYx-Hm.js";import"./crown-CVYMErPk.js";import"./zap-BIRerbYh.js";import"./circle-check-big-CeOvxPJm.js";import"./info-BnjbGvLN.js";import"./circle-x-CRU1fK1E.js";import"./building-2-JMpJ8PR2.js";import"./file-text-w_JrWozr.js";import"./triangle-alert-D2inJjwx.js";import"./index-DF-QO9u9.js";import"./index-C45Zy3CK.js";import"./index-Bj6BLWTC.js";function Ce({auth:v,clinic:x,inventory:t,suppliers:w}){const{data:a,setData:r,put:_,processing:u,errors:i}=q({name:t.name||"",category:t.category||"",description:t.description||"",quantity:t.quantity||"",minimum_quantity:t.minimum_quantity||"",unit_price:t.unit_price||"",supplier_id:t.supplier_id?t.supplier_id.toString():"none",expiry_date:t.expiry_date?new Date(t.expiry_date):void 0,notes:t.notes||"",is_active:t.is_active??!0}),S=[{value:"medications",label:"Medications"},{value:"supplies",label:"Supplies"},{value:"equipment",label:"Equipment"},{value:"others",label:"Others"}],C=s=>{s.preventDefault();const d={...a};(!d.supplier_id||d.supplier_id===""||d.supplier_id==="none")&&(d.supplier_id=null),_(route("clinic.inventory.update",[x.id,t.id]),{data:d})},p=a.quantity&&a.unit_price?parseFloat(a.quantity)*parseFloat(a.unit_price):0;return e.jsxs(I,{auth:v,children:[e.jsx(D,{title:`Edit ${t.name}`}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-cyan-50",children:[e.jsx("div",{className:"pt-4 pb-2",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-cyan-600 rounded-2xl shadow-2xl backdrop-blur-sm border border-white/20",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shadow-xl border border-white/30",children:e.jsx(N,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-sm",children:"Edit Inventory Item"}),e.jsxs("p",{className:"text-sm text-blue-100 font-medium",children:["Update ",t.name]})]})]})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(n,{variant:"outline",size:"sm",asChild:!0,className:"border-white/50 text-white hover:bg-white/30 backdrop-blur-sm bg-white/10",children:e.jsxs(F,{href:route("clinic.inventory.show",[x.id,t.id]),children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Back to Item"]})})})]})})})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs(k,{className:"border-0 shadow-xl bg-white/95 backdrop-blur-sm",children:[e.jsxs(A,{className:"pb-6 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 border-b border-gray-100",children:[e.jsxs(E,{className:"text-2xl font-semibold text-gray-900 flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(N,{className:"h-5 w-5 text-white"})}),e.jsx("span",{children:"Item Information"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update the essential details for your inventory item"})]}),e.jsx(L,{className:"p-8",children:e.jsxs("form",{onSubmit:C,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(l,{htmlFor:"name",className:"text-base font-semibold text-gray-700",children:"Item Name *"}),e.jsx(m,{id:"name",type:"text",value:a.name,onChange:s=>r("name",s.target.value),placeholder:"e.g., Paracetamol 500mg, Gauze Pads, Dental Mirror",className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0}),e.jsx(o,{message:i.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"category",className:"text-base font-semibold text-gray-700",children:"Category *"}),e.jsxs(b,{value:a.category,onValueChange:s=>r("category",s),children:[e.jsx(g,{className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(j,{placeholder:"Select category"})}),e.jsx(f,{children:S.map(s=>e.jsx(c,{value:s.value,children:s.label},s.value))})]}),e.jsx(o,{message:i.category,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"supplier_id",className:"text-base font-semibold text-gray-700",children:"Supplier (Optional)"}),e.jsxs(b,{value:a.supplier_id,onValueChange:s=>r("supplier_id",s),children:[e.jsx(g,{className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:e.jsx(j,{placeholder:"Select supplier (optional)"})}),e.jsxs(f,{children:[e.jsx(c,{value:"none",children:"No Supplier"}),w.map(s=>e.jsx(c,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsx(o,{message:i.supplier_id,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",className:"text-base font-semibold text-gray-700",children:"Description"}),e.jsx(h,{id:"description",value:a.description,onChange:s=>r("description",s.target.value),placeholder:"Brief description of the item...",className:"mt-2 min-h-[100px] text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",rows:4}),e.jsx(o,{message:i.description,className:"mt-2"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stock & Pricing"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"quantity",className:"text-base font-semibold text-gray-700",children:"Current Quantity *"}),e.jsx(m,{id:"quantity",type:"number",min:"0",value:a.quantity,onChange:s=>r("quantity",s.target.value),placeholder:"0",className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0}),e.jsx(o,{message:i.quantity,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"minimum_quantity",className:"text-base font-semibold text-gray-700",children:"Alert When Below *"}),e.jsx(m,{id:"minimum_quantity",type:"number",min:"0",value:a.minimum_quantity,onChange:s=>r("minimum_quantity",s.target.value),placeholder:"5",className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0}),e.jsx(o,{message:i.minimum_quantity,className:"mt-2"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Low stock alert threshold"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"unit_price",className:"text-base font-semibold text-gray-700",children:"Unit Price (₱) *"}),e.jsx(m,{id:"unit_price",type:"number",step:"0.01",min:"0",value:a.unit_price,onChange:s=>r("unit_price",s.target.value),placeholder:"0.00",className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",required:!0}),e.jsx(o,{message:i.unit_price,className:"mt-2"})]})]}),p>0&&e.jsx("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-lg font-semibold text-blue-900",children:"Total Stock Value:"})]}),e.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:["₱",p.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-violet-600 rounded-lg flex items-center justify-center",children:e.jsx(T,{className:"h-4 w-4 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Additional Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"expiry_date",className:"text-base font-semibold text-gray-700",children:"Expiry Date (Optional)"}),e.jsx(m,{id:"expiry_date",type:"date",value:a.expiry_date?new Date(a.expiry_date).toISOString().split("T")[0]:"",onChange:s=>r("expiry_date",s.target.value?new Date(s.target.value):void 0),min:new Date().toISOString().split("T")[0],className:"mt-2 h-12 text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500"}),e.jsx(o,{message:i.expiry_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"notes",className:"text-base font-semibold text-gray-700",children:"Notes (Optional)"}),e.jsx(h,{id:"notes",value:a.notes,onChange:s=>r("notes",s.target.value),placeholder:"Additional notes...",className:"mt-2 min-h-[100px] text-base border-gray-300 focus:border-blue-500 focus:ring-blue-500",rows:4}),e.jsx(o,{message:i.notes,className:"mt-2"})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-8",children:e.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>window.history.back(),className:"h-12 px-8 text-base border-gray-300 hover:bg-gray-50",children:"Cancel"}),e.jsx(n,{type:"submit",disabled:u,className:"h-12 px-8 text-base bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200",children:u?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Update Item"]})})]})})]})})]})})]})]})}export{Ce as default};
