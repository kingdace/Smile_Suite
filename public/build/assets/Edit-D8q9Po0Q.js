import{v as U,r as I,j as e,$ as L,Y as N}from"./app-DzAKanfO.js";import{A as W}from"./AuthenticatedLayout-CGhbNLHc.js";import{C as h,a as p,b as j,c as u}from"./card-DxaUQxDk.js";import{B as g}from"./button-BaVC9LH_.js";import{I as x}from"./input-BdGSRPXE.js";import{L as a}from"./label-B_EUMQIu.js";import{T as y}from"./textarea-CH04MZl1.js";import{S as n,a as c,b as o,c as m,d}from"./select-CZyszopy.js";import{C as $}from"./checkbox-CAj_n0fl.js";import{U as B}from"./user-CeFybYqA.js";import{C as R}from"./calendar-CV3bSJAg.js";import{T as H}from"./triangle-alert-rUcjKeFs.js";import{C as Y}from"./clock-BFKTcZtX.js";import{P as C}from"./phone-BCpjmzLD.js";import{M as q}from"./mail-DuQRInId.js";import{M as z}from"./message-square-Ba2OMSRi.js";import{F as O}from"./file-text-6ldMNcS1.js";import{S as G}from"./save-DC8xI8pX.js";import{A as J}from"./arrow-left-CPCCsctB.js";import{U as K}from"./users-DwCTdV0r.js";import{S as Q}from"./sparkles-BjkuUTjC.js";import"./index-CpWIITha.js";import"./layout-dashboard-DQdh_Wnw.js";import"./createLucideIcon-DZDivllp.js";import"./stethoscope-CYcZ01Kt.js";import"./scissors-5AZmbKVD.js";import"./dollar-sign-BK8VwfMG.js";import"./chevron-right-Cd3pwCjl.js";import"./shield-CFwfuPBv.js";import"./trending-up-C2PJu67h.js";import"./circle-alert-CAXERVjX.js";import"./loader-circle-BB5RhGLQ.js";import"./SiteHeader-CAPZqMMC.js";import"./index-BY6aHjW5.js";import"./x-Brym1Brg.js";import"./crown-Du6OVEvL.js";import"./zap-Bmgw58_9.js";import"./circle-check-big-DrY8pTua.js";import"./info-DsO6QNII.js";import"./circle-x-B-f6mQMh.js";import"./building-2-BeiXJ7gS.js";import"./index--CY9anYm.js";import"./index-DYXbNSrL.js";import"./index-9v9KNBSo.js";function Re({auth:S,clinic:f,waitlist:s,patients:F,dentists:w,services:P,appointmentTypes:D}){const{data:l,setData:i,put:T,processing:v,errors:t}=U({patient_id:s.patient_id||"",preferred_dentist_id:s.preferred_dentist_id||null,service_id:s.service_id||null,appointment_type_id:s.appointment_type_id||null,reason:s.reason||"",notes:s.notes||"",priority:s.priority||"normal",status:s.status||"active",preferred_start_date:s.preferred_start_date||"",preferred_end_date:s.preferred_end_date||"",preferred_days:s.preferred_days||[],preferred_start_time:s.preferred_start_time||"",preferred_end_time:s.preferred_end_time||"",contact_method:s.contact_method||"any",contact_notes:s.contact_notes||"",estimated_duration:s.estimated_duration||60}),[_,E]=I.useState(s.preferred_days||[]),A=r=>{const b=_.includes(r)?_.filter(V=>V!==r):[..._,r];E(b),i("preferred_days",b)},k=r=>{r.preventDefault(),T(route("clinic.waitlist.update",[f.id,s.id]))},M=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}];return e.jsxs(W,{auth:S,header:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(N,{href:route("clinic.waitlist.show",[f.id,s.id]),children:e.jsxs(g,{variant:"ghost",size:"sm",className:"hover:bg-blue-50 hover:text-blue-700 transition-all duration-200",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Back to Details"]})}),e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-xl shadow-lg",children:e.jsx(K,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Edit Waitlist Entry"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-blue-500"}),"Update patient waitlist information"]})]})]})}),children:[e.jsx(L,{title:"Edit Waitlist Entry"}),e.jsxs("form",{onSubmit:k,className:"space-y-8",children:[e.jsxs(h,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(p,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs(j,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:e.jsx(B,{className:"h-5 w-5 text-white"})}),"Patient Information"]})}),e.jsx(u,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(a,{htmlFor:"patient_id",children:"Patient *"}),e.jsxs(n,{value:l.patient_id,onValueChange:r=>i("patient_id",r),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select a patient"})}),e.jsx(m,{children:F.map(r=>e.jsxs(d,{value:r.id,children:[r.first_name," ",r.last_name," -"," ",r.email]},r.id))})]}),t.patient_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.patient_id})]})})]}),e.jsxs(h,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(p,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs(j,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-400 to-blue-500 rounded-lg",children:e.jsx(R,{className:"h-5 w-5 text-white"})}),"Appointment Details"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"preferred_dentist_id",children:"Preferred Dentist"}),e.jsxs(n,{value:l.preferred_dentist_id||"",onValueChange:r=>i("preferred_dentist_id",r||null),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Any dentist"})}),e.jsx(m,{children:w.map(r=>e.jsx(d,{value:r.id,children:r.name},r.id))})]}),t.preferred_dentist_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.preferred_dentist_id})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"service_id",children:"Service"}),e.jsxs(n,{value:l.service_id||"",onValueChange:r=>i("service_id",r||null),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select a service"})}),e.jsx(m,{children:P.map(r=>e.jsx(d,{value:r.id,children:r.name},r.id))})]}),t.service_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.service_id})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"appointment_type_id",children:"Appointment Type"}),e.jsxs(n,{value:l.appointment_type_id||"",onValueChange:r=>i("appointment_type_id",r||null),children:[e.jsx(c,{children:e.jsx(o,{placeholder:"Select appointment type"})}),e.jsx(m,{children:D.map(r=>e.jsx(d,{value:r.id,children:r.name},r.id))})]}),t.appointment_type_id&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.appointment_type_id})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"estimated_duration",children:"Estimated Duration (minutes) *"}),e.jsx(x,{id:"estimated_duration",type:"number",min:"15",max:"240",value:l.estimated_duration,onChange:r=>i("estimated_duration",r.target.value)}),t.estimated_duration&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.estimated_duration})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"reason",children:"Reason"}),e.jsx(x,{id:"reason",value:l.reason,onChange:r=>i("reason",r.target.value),placeholder:"Reason for appointment"}),t.reason&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.reason})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"notes",children:"Notes"}),e.jsx(y,{id:"notes",value:l.notes,onChange:r=>i("notes",r.target.value),placeholder:"Additional notes",rows:3}),t.notes&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.notes})]})]})]}),e.jsxs(h,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Priority & Status"]})}),e.jsx(u,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"priority",children:"Priority *"}),e.jsxs(n,{value:l.priority,onValueChange:r=>i("priority",r),children:[e.jsx(c,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(d,{value:"low",children:"Low"}),e.jsx(d,{value:"normal",children:"Normal"}),e.jsx(d,{value:"high",children:"High"}),e.jsx(d,{value:"urgent",children:"Urgent"})]})]}),t.priority&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.priority})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"status",children:"Status *"}),e.jsxs(n,{value:l.status,onValueChange:r=>i("status",r),children:[e.jsx(c,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(d,{value:"active",children:"Active"}),e.jsx(d,{value:"contacted",children:"Contacted"}),e.jsx(d,{value:"scheduled",children:"Scheduled"}),e.jsx(d,{value:"cancelled",children:"Cancelled"}),e.jsx(d,{value:"expired",children:"Expired"})]})]}),t.status&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.status})]})]})})]}),e.jsxs(h,{children:[e.jsx(p,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Preferred Schedule"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"preferred_start_date",children:"Preferred Start Date"}),e.jsx(x,{id:"preferred_start_date",type:"date",value:l.preferred_start_date,onChange:r=>i("preferred_start_date",r.target.value)}),t.preferred_start_date&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.preferred_start_date})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"preferred_end_date",children:"Preferred End Date"}),e.jsx(x,{id:"preferred_end_date",type:"date",value:l.preferred_end_date,onChange:r=>i("preferred_end_date",r.target.value)}),t.preferred_end_date&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.preferred_end_date})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"preferred_start_time",children:"Preferred Start Time"}),e.jsx(x,{id:"preferred_start_time",type:"time",value:l.preferred_start_time,onChange:r=>i("preferred_start_time",r.target.value)}),t.preferred_start_time&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.preferred_start_time})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"preferred_end_time",children:"Preferred End Time"}),e.jsx(x,{id:"preferred_end_time",type:"time",value:l.preferred_end_time,onChange:r=>i("preferred_end_time",r.target.value)}),t.preferred_end_time&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.preferred_end_time})]})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Preferred Days"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:M.map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{id:`day-${r.value}`,checked:_.includes(r.value),onCheckedChange:()=>A(r.value)}),e.jsx(a,{htmlFor:`day-${r.value}`,className:"text-sm",children:r.label})]},r.value))}),t.preferred_days&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.preferred_days})]})]})]}),e.jsxs(h,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(p,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs(j,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg",children:e.jsx(C,{className:"h-5 w-5 text-white"})}),"Contact Information"]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"contact_method",children:"Preferred Contact Method *"}),e.jsxs(n,{value:l.contact_method,onValueChange:r=>i("contact_method",r),children:[e.jsx(c,{children:e.jsx(o,{})}),e.jsxs(m,{children:[e.jsx(d,{value:"phone",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Phone"]})}),e.jsx(d,{value:"email",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Email"]})}),e.jsx(d,{value:"sms",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),"SMS"]})}),e.jsx(d,{value:"any",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"Any Method"]})})]})]}),t.contact_method&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.contact_method})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"contact_notes",children:"Contact Notes"}),e.jsx(y,{id:"contact_notes",value:l.contact_notes,onChange:r=>i("contact_notes",r.target.value),placeholder:"Notes about contact preferences or attempts",rows:3}),t.contact_notes&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t.contact_notes})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6",children:[e.jsx(N,{href:route("clinic.waitlist.show",[f.id,s.id]),children:e.jsx(g,{type:"button",variant:"outline",className:"border-2 hover:border-gray-400 hover:bg-gray-50 transition-all duration-200",children:"Cancel"})}),e.jsxs(g,{type:"submit",disabled:v,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),v?"Saving...":"Save Changes"]})]})]})]})}export{Re as default};
