import{r as l,j as e,$ as V,m as r}from"./app-ZxAlEvdA.js";import{A as X}from"./AuthenticatedLayout-lb_6FM8B.js";import{B as j}from"./building-2-Bgi5jK8p.js";import{S as q}from"./shield-CFZmCQiG.js";import{S as G}from"./search-CqiV9vq-.js";import{M as k}from"./mail-CQ3ehR9T.js";import{S}from"./star-BjxfKS7L.js";import{A as J}from"./activity-B1HPbmpD.js";import{M as K}from"./map-pin-B6R7UNA3.js";import{P as Q}from"./phone-DyegMREk.js";import{f as U}from"./format-CYZdy3_o.js";import{T as h}from"./trash-2-D4SFJP2E.js";import{B as W}from"./badge-check-Cd1XCDFK.js";import{E as Y}from"./eye-DPtBcPfy.js";import{P as Z}from"./pen-XO3TQKOb.js";import{R as v}from"./rotate-ccw-BnTalKh1.js";import{X as w}from"./x-D6ZOpFzI.js";import{C as N}from"./circle-alert-Cy-oflQw.js";import"./index-IHKkMNBC.js";import"./layout-dashboard-B70FXRdI.js";import"./createLucideIcon-yAbt-hik.js";import"./users-BcLHi-9n.js";import"./calendar-BeQFvPO6.js";import"./clock-BC-UvfcT.js";import"./stethoscope-CTZofBPm.js";import"./scissors-C-Mp-MSs.js";import"./dollar-sign-Dwk-W496.js";import"./chevron-right-Ci7H8W9R.js";import"./trending-up-NOBgyg1_.js";import"./loader-circle-CFayPhnt.js";import"./button-Cdvy3pKR.js";import"./SiteHeader-Tox9uOJi.js";import"./index-HZL0sppC.js";import"./user-BlbscHIi.js";import"./crown-BR3Vq5b2.js";import"./zap-D0r5IUQk.js";import"./circle-check-big-DWWEvFDf.js";import"./info-DZklV24Z.js";import"./circle-x-BGvtilGz.js";import"./file-text-D4WzFC7v.js";import"./triangle-alert-Bme-bFGp.js";function ze({auth:D,clinics:s,show_deleted:i=!1,filters:y={}}){const[u,_]=l.useState(y.search||""),[p,T]=l.useState(y.status||"all"),[M,o]=l.useState(!1),[R,n]=l.useState(!1),[E,d]=l.useState(!1),[c,b]=l.useState(null),[m,g]=l.useState(null),[x,f]=l.useState(null),H=t=>{const a=t.target.value;_(a),r.get(route("admin.clinics.index"),{search:a,status:p,show_deleted:i,page:1},{preserveState:!0,replace:!0})},P=t=>{const a=t.target.value;T(a),r.get(route("admin.clinics.index"),{search:u,status:a,show_deleted:i,page:1},{preserveState:!0,replace:!0})},A=()=>{const t=!i;r.get(route("admin.clinics.index"),{search:u,status:p,show_deleted:t,page:1},{preserveState:!0,replace:!0})},$=t=>{b(t),o(!0)},O=t=>{f(t),d(!0)},I=t=>{g(t),n(!0)},B=()=>{c&&r.delete(route("admin.clinics.destroy",c.id),{onSuccess:()=>{o(!1),b(null)},onError:t=>{console.error("Delete failed:",t),o(!1),b(null)}})},F=()=>{x&&r.patch(route("admin.clinics.restore",x.id),{},{onSuccess:()=>{d(!1),f(null)},onError:t=>{console.error("Restore failed:",t),d(!1),f(null)}})},z=()=>{m&&r.delete(route("admin.clinics.hard-delete",m.id),{onSuccess:()=>{n(!1),g(null)},onError:t=>{console.error("Hard delete failed:",t),n(!1),g(null)}})},C=s.data;return e.jsxs(X,{auth:D,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Clinics Management"}),children:[e.jsx(V,{title:"Clinics Management"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-white",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm overflow-hidden shadow-xl sm:rounded-2xl border border-blue-200/50",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(j,{className:"w-5 h-5 text-white"})}),"Clinics Management"]}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Manage dental clinics and their subscriptions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>r.visit(route("admin.subscriptions.index")),className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105 text-sm flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Subscriptions"]}),e.jsx("button",{onClick:A,className:`px-4 py-2 rounded-lg font-semibold transition-all duration-300 shadow-md text-sm ${i?"bg-gradient-to-r from-red-100 to-red-200 text-red-700 hover:from-red-200 hover:to-red-300":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:from-gray-200 hover:to-gray-300"}`,children:i?"Hide Deleted":"Show Deleted"}),e.jsx("button",{onClick:()=>r.visit(route("admin.clinics.create")),className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105 text-sm",children:"+ Add New Clinic"})]})]}),e.jsx("div",{className:"mb-5 bg-gradient-to-r from-blue-50 via-white to-cyan-50/30 backdrop-blur-sm rounded-xl shadow-md border border-blue-200/50 p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(G,{className:"h-4 w-4 text-blue-500"})}),e.jsx("input",{type:"text",placeholder:"Search clinics by name, email, or description...",value:u,onChange:H,className:"block w-full pl-10 pr-4 py-2 border border-blue-200 rounded-lg bg-white/90 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 placeholder-gray-500 transition-all duration-300 text-sm"})]}),e.jsxs("select",{value:p,onChange:P,className:"px-3 py-2 border border-blue-200 rounded-lg bg-white/90 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 transition-all duration-300 text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"trial",children:"Trial"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-white to-cyan-50/30 rounded-xl shadow-lg border border-blue-200/50 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full divide-y divide-blue-100",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-600 via-blue-500 to-cyan-600",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:[e.jsx(j,{className:"inline w-4 h-4 mr-2"}),"Clinic"]}),e.jsxs("th",{className:"px-3 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:[e.jsx(k,{className:"inline w-4 h-4 mr-2"}),"Contact"]}),e.jsxs("th",{className:"px-3 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:[e.jsx(S,{className:"inline w-4 h-4 mr-2"}),"Plan"]}),e.jsxs("th",{className:"px-3 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:[e.jsx(J,{className:"inline w-4 h-4 mr-2"}),"Status"]}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-bold text-white uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-full flex items-center justify-center",children:e.jsx(j,{className:"w-7 h-7 text-blue-400"})}),e.jsx("p",{className:"text-base font-semibold text-gray-700",children:"No clinics found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filters"})]})})}):C.map((t,a)=>e.jsxs("tr",{className:`hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-cyan-50/50 transition-all duration-300 ${t.deleted_at?"opacity-60":""} ${a%2===0?"bg-white":"bg-blue-50/20"}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3 shadow-sm overflow-hidden",children:e.jsx("img",{src:t.logo_url||"/images/clinic-logo.png",alt:`${t.name} Logo`,className:"w-full h-full object-cover",onError:L=>{L.target.src="/images/clinic-logo.png"}})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID:"," ",t.id]}),t.street_address&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mt-1",children:[e.jsx(K,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.street_address})]})]})]})}),e.jsxs("td",{className:"px-3 py-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 text-blue-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 truncate max-w-[200px]",children:t.email})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Q,{className:"w-4 h-4 text-blue-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:t.contact_number})]})]}),e.jsxs("td",{className:"px-3 py-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-700 border border-yellow-200",children:[e.jsx(S,{className:"w-3 h-3"}),t.subscription_plan||"Free"]}),t.subscription_end_date&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ends:"," ",U(new Date(t.subscription_end_date),"MMM d, yyyy")]})]}),e.jsx("td",{className:"px-3 py-3",children:t.deleted_at?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold bg-gradient-to-r from-red-100 to-red-200 text-red-700 border border-red-200",children:[e.jsx(h,{className:"w-3 h-3"}),"Deleted"]}):e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold ${t.subscription_status==="active"?"bg-gradient-to-r from-emerald-100 to-emerald-200 text-emerald-700 border border-emerald-200":t.subscription_status==="inactive"?"bg-gradient-to-r from-red-100 to-red-200 text-red-700 border border-red-200":"bg-gradient-to-r from-blue-100 to-blue-200 text-blue-700 border border-blue-200"}`,children:[e.jsx(W,{className:"w-3 h-3"}),t.subscription_status]})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("button",{onClick:()=>r.visit(route("admin.clinics.show",t.id)),className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-600 text-white text-xs font-semibold hover:from-blue-600 hover:to-cyan-700 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105",children:[e.jsx(Y,{className:"w-3 h-3"}),"View"]}),e.jsxs("button",{onClick:()=>r.visit(route("admin.clinics.edit",t.id)),className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-xs font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105",children:[e.jsx(Z,{className:"w-3 h-3"}),"Edit"]}),t.deleted_at?e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>O(t),className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-gradient-to-r from-emerald-500 to-green-600 text-white text-xs font-semibold hover:from-emerald-600 hover:to-green-700 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105",children:[e.jsx(v,{className:"w-3 h-3"}),"Restore"]}),e.jsxs("button",{onClick:()=>I(t),className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-gradient-to-r from-red-600 to-red-700 text-white text-xs font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105",children:[e.jsx(h,{className:"w-3 h-3"}),"Hard Delete"]})]}):e.jsxs("button",{onClick:()=>$(t),className:"inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-sm hover:shadow-md hover:scale-105",children:[e.jsx(h,{className:"w-3 h-3"}),"Delete"]})]})})]},t.id))})]})})}),s.links&&s.links.length>3&&e.jsxs("div",{className:"px-6 py-4 border-t border-blue-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing"," ",e.jsx("span",{className:"font-semibold",children:(s.current_page-1)*s.per_page+1})," ","to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(s.current_page*s.per_page,s.total)})," ","of"," ",e.jsx("span",{className:"font-semibold",children:s.total})," ","clinics"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Page"," ",e.jsx("span",{className:"font-semibold",children:s.current_page})," ","of"," ",e.jsx("span",{className:"font-semibold",children:s.last_page})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("nav",{className:"flex items-center space-x-2",children:s.links.map((t,a)=>t.url?e.jsx("button",{onClick:()=>r.visit(t.url),className:`px-4 py-2 text-sm rounded-lg border transition-all duration-300 font-semibold shadow-sm ${t.active?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white border-blue-600 shadow-md":"bg-white text-blue-700 border-blue-200 hover:bg-blue-50 hover:shadow-md"}`,dangerouslySetInnerHTML:{__html:t.label}},a):e.jsx("span",{className:"px-4 py-2 text-sm rounded-lg opacity-50 cursor-not-allowed border border-gray-200",dangerouslySetInnerHTML:{__html:t.label}},a))})})]})]})})})}),M&&c&&e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm relative animate-fade-in border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-4 text-white relative",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors duration-200 focus:outline-none","aria-label":"Close",type:"button",children:e.jsx(w,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Delete Clinic"}),e.jsx("p",{className:"text-red-100 text-xs",children:"This action cannot be undone"})]})]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(h,{className:"w-6 h-6 text-red-600"})}),e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:["Delete ",c.name,"?"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This will soft delete the clinic. The clinic will no longer be accessible, but all data will be preserved."})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3",children:[e.jsx("button",{onClick:B,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 text-sm",children:"Delete Clinic"}),e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-all duration-200 font-medium text-sm",children:"Cancel"})]})]})]})}),E&&x&&e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm relative animate-fade-in border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-green-700 p-4 text-white relative",children:[e.jsx("button",{onClick:()=>d(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors duration-200 focus:outline-none","aria-label":"Close",type:"button",children:e.jsx(w,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Restore Clinic"}),e.jsx("p",{className:"text-emerald-100 text-xs",children:"Reactivate clinic account"})]})]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(v,{className:"w-6 h-6 text-emerald-600"})}),e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:["Restore ",x.name,"?"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This will restore the clinic account. The clinic will be able to access the system again with their previous settings."})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3",children:[e.jsx("button",{onClick:F,className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-700 text-white px-4 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 text-sm",children:"Restore Clinic"}),e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-all duration-200 font-medium text-sm",children:"Cancel"})]})]})]})}),R&&m&&e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm relative animate-fade-in border border-gray-200/50 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-4 text-white relative",children:[e.jsx("button",{onClick:()=>n(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white transition-colors duration-200 focus:outline-none","aria-label":"Close",type:"button",children:e.jsx(w,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Permanently Delete Clinic"}),e.jsx("p",{className:"text-red-100 text-xs",children:"This action cannot be undone"})]})]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(N,{className:"w-6 h-6 text-red-600"})}),e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:["Permanently Delete ",m.name,"?"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This will permanently delete the clinic and all associated data including users, patients, appointments, treatments, and services. This action cannot be undone."})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-3",children:[e.jsx("button",{onClick:z,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-2.5 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 text-sm",children:"Permanently Delete"}),e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-all duration-200 font-medium text-sm",children:"Cancel"})]})]})]})})]})}export{ze as default};
